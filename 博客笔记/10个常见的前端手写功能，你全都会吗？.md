万丈高楼平地起，地基打的牢，才能永远立于不败之地。今天给大家带来的是10个常见的 JavaScript 手写功能，重要的地方已添加注释。有的是借鉴别人的，有的是自己写的，如有不正确的地方，欢迎多多指正。

### 1、防抖

```
<span data-darkreader-inline-bgcolor=""></span><code lang="js" data-darkreader-inline-color="" data-darkreader-inline-bgimage="" data-darkreader-inline-bgcolor=""><span data-darkreader-inline-color="">function</span> <span data-darkreader-inline-color="">debounce</span>(<span>fn, delay</span>) {  <span data-darkreader-inline-color="">let</span> timer  <span data-darkreader-inline-color="">return</span> <span data-darkreader-inline-color="">function</span> (<span>...args</span>) {    <span data-darkreader-inline-color="">if</span> (timer) {      <span data-darkreader-inline-color="">clearTimeout</span>(timer)<br>    }<br>    timer = <span data-darkreader-inline-color="">setTimeout</span>(<span>() =&gt;</span> {<br>      fn.<span data-darkreader-inline-color="">apply</span>(<span data-darkreader-inline-color="">this</span>, args)<br>    }, delay)<br>  }<br>}<span data-darkreader-inline-color="">// 测试</span><span data-darkreader-inline-color="">function</span> <span data-darkreader-inline-color="">task</span>(<span></span>) {  <span data-darkreader-inline-color="">console</span>.<span data-darkreader-inline-color="">log</span>(<span data-darkreader-inline-color="">'run task'</span>)<br>}<span data-darkreader-inline-color="">const</span> debounceTask = <span data-darkreader-inline-color="">debounce</span>(task, <span data-darkreader-inline-color="">1000</span>)<span data-darkreader-inline-color="">window</span>.<span data-darkreader-inline-color="">addEventListener</span>(<span data-darkreader-inline-color="">'scroll'</span>, debounceTask)</code>
```

### 2、节流

```
<span data-darkreader-inline-bgcolor=""></span><code lang="js" data-darkreader-inline-color="" data-darkreader-inline-bgimage="" data-darkreader-inline-bgcolor=""><span data-darkreader-inline-color="">function</span> <span data-darkreader-inline-color="">throttle</span>(<span>fn, delay</span>) {  <span data-darkreader-inline-color="">let</span> last = <span data-darkreader-inline-color="">0</span> <span data-darkreader-inline-color="">// 上次触发时间</span><br>  <span data-darkreader-inline-color="">return</span> <span data-darkreader-inline-color="">function</span> (<span>...args</span>) {    <span data-darkreader-inline-color="">const</span> now = <span data-darkreader-inline-color="">Date</span>.<span data-darkreader-inline-color="">now</span>()    <span data-darkreader-inline-color="">if</span> (now - last &gt; delay) {<br>      last = now<br>      fn.<span data-darkreader-inline-color="">apply</span>(<span data-darkreader-inline-color="">this</span>, args)<br>    }<br>  }<br>}<span data-darkreader-inline-color="">// 测试</span><span data-darkreader-inline-color="">function</span> <span data-darkreader-inline-color="">task</span>(<span></span>) {  <span data-darkreader-inline-color="">console</span>.<span data-darkreader-inline-color="">log</span>(<span data-darkreader-inline-color="">'run task'</span>)<br>}<span data-darkreader-inline-color="">const</span> throttleTask = <span data-darkreader-inline-color="">throttle</span>(task, <span data-darkreader-inline-color="">1000</span>)<span data-darkreader-inline-color="">window</span>.<span data-darkreader-inline-color="">addEventListener</span>(<span data-darkreader-inline-color="">'scroll'</span>, throttleTask)</code>
```

### 3、深拷贝

#### JSON 方法

```
<span data-darkreader-inline-bgcolor=""></span><code lang="js" data-darkreader-inline-color="" data-darkreader-inline-bgimage="" data-darkreader-inline-bgcolor=""><span data-darkreader-inline-color="">// 不支持值为undefined、函数和循环引用的情况</span><span data-darkreader-inline-color="">const</span> cloneObj = <span data-darkreader-inline-color="">JSON</span>.<span data-darkreader-inline-color="">parse</span>(<span data-darkreader-inline-color="">JSON</span>.<span data-darkreader-inline-color="">stringify</span>(obj))</code>
```

#### 递归拷贝

```
<span data-darkreader-inline-bgcolor=""></span><code lang="js" data-darkreader-inline-color="" data-darkreader-inline-bgimage="" data-darkreader-inline-bgcolor=""><span data-darkreader-inline-color="">function</span> <span data-darkreader-inline-color="">deepClone</span>(<span>obj, cache = <span data-darkreader-inline-color="">new</span> <span data-darkreader-inline-color="">WeakMap</span>()</span>) {  <span data-darkreader-inline-color="">if</span> (obj === <span data-darkreader-inline-color="">null</span> || <span data-darkreader-inline-color="">typeof</span> obj !== <span data-darkreader-inline-color="">'object'</span>) <span data-darkreader-inline-color="">return</span> obj  <span data-darkreader-inline-color="">if</span> (obj <span data-darkreader-inline-color="">instanceof</span> <span data-darkreader-inline-color="">Date</span>) <span data-darkreader-inline-color="">return</span> <span data-darkreader-inline-color="">new</span> <span data-darkreader-inline-color="">Date</span>(obj)  <span data-darkreader-inline-color="">if</span> (obj <span data-darkreader-inline-color="">instanceof</span> <span data-darkreader-inline-color="">RegExp</span>) <span data-darkreader-inline-color="">return</span> <span data-darkreader-inline-color="">new</span> <span data-darkreader-inline-color="">RegExp</span>(obj)  <br>  <span data-darkreader-inline-color="">if</span> (cache.<span data-darkreader-inline-color="">has</span>(obj)) <span data-darkreader-inline-color="">return</span> cache.<span data-darkreader-inline-color="">get</span>(obj) <span data-darkreader-inline-color="">// 如果出现循环引用，则返回缓存的对象，防止递归进入死循环</span><br>  <span data-darkreader-inline-color="">let</span> cloneObj = <span data-darkreader-inline-color="">new</span> obj.<span data-darkreader-inline-color="">constructor</span>(<span></span>) <span data-darkreader-inline-color="">// 使用对象所属的构造函数创建一个新对象</span><br>  cache.<span data-darkreader-inline-color="">set</span>(obj, cloneObj) <span data-darkreader-inline-color="">// 缓存对象，用于循环引用的情况</span><br><br>  <span data-darkreader-inline-color="">for</span> (<span data-darkreader-inline-color="">let</span> key <span data-darkreader-inline-color="">in</span> obj) {    <span data-darkreader-inline-color="">if</span> (obj.<span data-darkreader-inline-color="">hasOwnProperty</span>(key)) {<br>      cloneObj[key] = <span data-darkreader-inline-color="">deepClone</span>(obj[key], cache) <span data-darkreader-inline-color="">// 递归拷贝</span><br>    }<br>  }  <span data-darkreader-inline-color="">return</span> cloneObj<br>}<span data-darkreader-inline-color="">// 测试</span><span data-darkreader-inline-color="">const</span> obj = { <span data-darkreader-inline-color="">name</span>: <span data-darkreader-inline-color="">'Jack'</span>, <span data-darkreader-inline-color="">address</span>: { <span data-darkreader-inline-color="">x</span>: <span data-darkreader-inline-color="">100</span>, <span data-darkreader-inline-color="">y</span>: <span data-darkreader-inline-color="">200</span> } }<br>obj.<span>a</span> = obj <span data-darkreader-inline-color="">// 循环引用</span><span data-darkreader-inline-color="">const</span> newObj = <span data-darkreader-inline-color="">deepClone</span>(obj)<span data-darkreader-inline-color="">console</span>.<span data-darkreader-inline-color="">log</span>(newObj.<span>address</span> === obj.<span>address</span>) <span data-darkreader-inline-color="">// false</span></code>
```

### 4、手写 Promise

```
<span data-darkreader-inline-bgcolor=""></span><code lang="js" data-darkreader-inline-color="" data-darkreader-inline-bgimage="" data-darkreader-inline-bgcolor=""><span data-darkreader-inline-color="">class</span> <span data-darkreader-inline-color="">MyPromise</span> {  <span data-darkreader-inline-color="">constructor</span>(<span>executor</span>) {    <span data-darkreader-inline-color="">this</span>.<span>status</span> = <span data-darkreader-inline-color="">'pending'</span> <span data-darkreader-inline-color="">// 初始状态为等待</span><br>    <span data-darkreader-inline-color="">this</span>.<span>value</span> = <span data-darkreader-inline-color="">null</span> <span data-darkreader-inline-color="">// 成功的值</span><br>    <span data-darkreader-inline-color="">this</span>.<span>reason</span> = <span data-darkreader-inline-color="">null</span> <span data-darkreader-inline-color="">// 失败的原因</span><br>    <span data-darkreader-inline-color="">this</span>.<span>onFulfilledCallbacks</span> = [] <span data-darkreader-inline-color="">// 成功的回调函数数组</span><br>    <span data-darkreader-inline-color="">this</span>.<span>onRejectedCallbacks</span> = [] <span data-darkreader-inline-color="">// 失败的回调函数数组</span><br>    <span data-darkreader-inline-color="">let</span> <span data-darkreader-inline-color="">resolve</span> = value =&gt; {      <span data-darkreader-inline-color="">if</span> (<span data-darkreader-inline-color="">this</span>.<span>status</span> === <span data-darkreader-inline-color="">'pending'</span>) {        <span data-darkreader-inline-color="">this</span>.<span>status</span> = <span data-darkreader-inline-color="">'fulfilled'</span><br>        <span data-darkreader-inline-color="">this</span>.<span>value</span> = value;        <span data-darkreader-inline-color="">this</span>.<span>onFulfilledCallbacks</span>.<span data-darkreader-inline-color="">forEach</span>(<span><span>fn</span> =&gt;</span> <span data-darkreader-inline-color="">fn</span>()) <span data-darkreader-inline-color="">// 调用成功的回调函数</span><br>      }<br>    }    <span data-darkreader-inline-color="">let</span> <span data-darkreader-inline-color="">reject</span> = reason =&gt; {      <span data-darkreader-inline-color="">if</span> (<span data-darkreader-inline-color="">this</span>.<span>status</span> === <span data-darkreader-inline-color="">'pending'</span>) {        <span data-darkreader-inline-color="">this</span>.<span>status</span> = <span data-darkreader-inline-color="">'rejected'</span><br>        <span data-darkreader-inline-color="">this</span>.<span>reason</span> = reason        <span data-darkreader-inline-color="">this</span>.<span>onRejectedCallbacks</span>.<span data-darkreader-inline-color="">forEach</span>(<span><span>fn</span> =&gt;</span> <span data-darkreader-inline-color="">fn</span>()) <span data-darkreader-inline-color="">// 调用失败的回调函数</span><br>      }<br>    };    <span data-darkreader-inline-color="">try</span> {      <span data-darkreader-inline-color="">executor</span>(resolve, reject)<br>    } <span data-darkreader-inline-color="">catch</span> (err) {      <span data-darkreader-inline-color="">reject</span>(err)<br>    }<br>  }  <span data-darkreader-inline-color="">then</span>(<span>onFulfilled, onRejected</span>) {    <span data-darkreader-inline-color="">return</span> <span data-darkreader-inline-color="">new</span> <span data-darkreader-inline-color="">MyPromise</span>(<span>(<span>resolve, reject</span>) =&gt;</span> {      <span data-darkreader-inline-color="">if</span> (<span data-darkreader-inline-color="">this</span>.<span>status</span> === <span data-darkreader-inline-color="">'fulfilled'</span>) {        <span data-darkreader-inline-color="">setTimeout</span>(<span>() =&gt;</span> {          <span data-darkreader-inline-color="">const</span> x = <span data-darkreader-inline-color="">onFulfilled</span>(<span data-darkreader-inline-color="">this</span>.<span>value</span>);<br>          x <span data-darkreader-inline-color="">instanceof</span> <span data-darkreader-inline-color="">MyPromise</span> ? x.<span data-darkreader-inline-color="">then</span>(resolve, reject) : <span data-darkreader-inline-color="">resolve</span>(x)<br>        })<br>      }      <span data-darkreader-inline-color="">if</span> (<span data-darkreader-inline-color="">this</span>.<span>status</span> === <span data-darkreader-inline-color="">'rejected'</span>) {        <span data-darkreader-inline-color="">setTimeout</span>(<span>() =&gt;</span> {          <span data-darkreader-inline-color="">const</span> x = <span data-darkreader-inline-color="">onRejected</span>(<span data-darkreader-inline-color="">this</span>.<span>reason</span>)<br>          x <span data-darkreader-inline-color="">instanceof</span> <span data-darkreader-inline-color="">MyPromise</span> ? x.<span data-darkreader-inline-color="">then</span>(resolve, reject) : <span data-darkreader-inline-color="">resolve</span>(x)<br>        })<br>      }      <span data-darkreader-inline-color="">if</span> (<span data-darkreader-inline-color="">this</span>.<span>status</span> === <span data-darkreader-inline-color="">'pending'</span>) {        <span data-darkreader-inline-color="">this</span>.<span>onFulfilledCallbacks</span>.<span data-darkreader-inline-color="">push</span>(<span>() =&gt;</span> { <span data-darkreader-inline-color="">// 将成功的回调函数放入成功数组</span><br>          <span data-darkreader-inline-color="">setTimeout</span>(<span>() =&gt;</span> {            <span data-darkreader-inline-color="">const</span> x = <span data-darkreader-inline-color="">onFulfilled</span>(<span data-darkreader-inline-color="">this</span>.<span>value</span>)<br>            x <span data-darkreader-inline-color="">instanceof</span> <span data-darkreader-inline-color="">MyPromise</span> ? x.<span data-darkreader-inline-color="">then</span>(resolve, reject) : <span data-darkreader-inline-color="">resolve</span>(x)<br>          })<br>        })        <span data-darkreader-inline-color="">this</span>.<span>onRejectedCallbacks</span>.<span data-darkreader-inline-color="">push</span>(<span>() =&gt;</span> { <span data-darkreader-inline-color="">// 将失败的回调函数放入失败数组</span><br>          <span data-darkreader-inline-color="">setTimeout</span>(<span>() =&gt;</span> {            <span data-darkreader-inline-color="">const</span> x = <span data-darkreader-inline-color="">onRejected</span>(<span data-darkreader-inline-color="">this</span>.<span>reason</span>)<br>            x <span data-darkreader-inline-color="">instanceof</span> <span data-darkreader-inline-color="">MyPromise</span> ? x.<span data-darkreader-inline-color="">then</span>(resolve, reject) : <span data-darkreader-inline-color="">resolve</span>(x)<br>          })<br>        })<br>      }<br>    })<br>  }<br>}<span data-darkreader-inline-color="">// 测试</span><span data-darkreader-inline-color="">function</span> <span data-darkreader-inline-color="">p1</span>(<span></span>) {  <span data-darkreader-inline-color="">return</span> <span data-darkreader-inline-color="">new</span> <span data-darkreader-inline-color="">MyPromise</span>(<span>(<span>resolve, reject</span>) =&gt;</span> {    <span data-darkreader-inline-color="">setTimeout</span>(resolve, <span data-darkreader-inline-color="">1000</span>, <span data-darkreader-inline-color="">1</span>)<br>  })<br>}<span data-darkreader-inline-color="">function</span> <span data-darkreader-inline-color="">p2</span>(<span></span>) {  <span data-darkreader-inline-color="">return</span> <span data-darkreader-inline-color="">new</span> <span data-darkreader-inline-color="">MyPromise</span>(<span>(<span>resolve, reject</span>) =&gt;</span> {    <span data-darkreader-inline-color="">setTimeout</span>(resolve, <span data-darkreader-inline-color="">1000</span>, <span data-darkreader-inline-color="">2</span>)<br>  })<br>}<span data-darkreader-inline-color="">p1</span>().<span data-darkreader-inline-color="">then</span>(<span><span>res</span> =&gt;</span> {  <span data-darkreader-inline-color="">console</span>.<span data-darkreader-inline-color="">log</span>(res) <span data-darkreader-inline-color="">// 1</span><br>  <span data-darkreader-inline-color="">return</span> <span data-darkreader-inline-color="">p2</span>()<br>}).<span data-darkreader-inline-color="">then</span>(<span><span>ret</span> =&gt;</span> {  <span data-darkreader-inline-color="">console</span>.<span data-darkreader-inline-color="">log</span>(ret) <span data-darkreader-inline-color="">// 2</span>})</code>
```

### 5、异步控制并发数

```
<span data-darkreader-inline-bgcolor=""></span><code lang="js" data-darkreader-inline-color="" data-darkreader-inline-bgimage="" data-darkreader-inline-bgcolor=""><span data-darkreader-inline-color="">function</span> <span data-darkreader-inline-color="">limitRequest</span>(<span>urls = [], limit = <span data-darkreader-inline-color="">3</span></span>) {  <span data-darkreader-inline-color="">return</span> <span data-darkreader-inline-color="">new</span> <span data-darkreader-inline-color="">Promise</span>(<span>(<span>resolve, reject</span>) =&gt;</span> {    <span data-darkreader-inline-color="">const</span> len = urls.<span>length</span><br>    <span data-darkreader-inline-color="">let</span> count = <span data-darkreader-inline-color="">0</span><br><br>    <span data-darkreader-inline-color="">// 同时启动limit个任务</span><br>    <span data-darkreader-inline-color="">while</span> (limit &gt; <span data-darkreader-inline-color="">0</span>) {      <span data-darkreader-inline-color="">start</span>()<br>      limit -= <span data-darkreader-inline-color="">1</span><br>    }    <span data-darkreader-inline-color="">function</span> <span data-darkreader-inline-color="">start</span>(<span></span>) {      <span data-darkreader-inline-color="">const</span> url = urls.<span data-darkreader-inline-color="">shift</span>() <span data-darkreader-inline-color="">// 从数组中拿取第一个任务</span><br>      <span data-darkreader-inline-color="">if</span> (url) {<br>        axios.<span data-darkreader-inline-color="">post</span>(url).<span data-darkreader-inline-color="">then</span>(<span><span>res</span> =&gt;</span> {          <span data-darkreader-inline-color="">// todo</span><br>        }).<span data-darkreader-inline-color="">catch</span>(<span><span>err</span> =&gt;</span> {          <span data-darkreader-inline-color="">// todo</span><br>        }).<span data-darkreader-inline-color="">finally</span>(<span>() =&gt;</span> {          <span data-darkreader-inline-color="">if</span> (count == len - <span data-darkreader-inline-color="">1</span>) {            <span data-darkreader-inline-color="">// 最后一个任务完成</span><br>            <span data-darkreader-inline-color="">resolve</span>()<br>          } <span data-darkreader-inline-color="">else</span> {            <span data-darkreader-inline-color="">// 完成之后，启动下一个任务</span><br>            count++            <span data-darkreader-inline-color="">start</span>()<br>          }<br>        })<br>      }<br>    }<br><br>  })<br>}<span data-darkreader-inline-color="">// 测试</span><span data-darkreader-inline-color="">limitRequest</span>([<span data-darkreader-inline-color="">'http://xxa'</span>, <span data-darkreader-inline-color="">'http://xxb'</span>, <span data-darkreader-inline-color="">'http://xxc'</span>, <span data-darkreader-inline-color="">'http://xxd'</span>, <span data-darkreader-inline-color="">'http://xxe'</span>])</code>
```

### 6、继承

#### ES5 继承（寄生组合继承）

```
<span data-darkreader-inline-bgcolor=""></span><code lang="js" data-darkreader-inline-color="" data-darkreader-inline-bgimage="" data-darkreader-inline-bgcolor=""><span data-darkreader-inline-color="">function</span> <span data-darkreader-inline-color="">Parent</span>(<span>name</span>) {  <span data-darkreader-inline-color="">this</span>.<span>name</span> = name<br>}<span data-darkreader-inline-color="">Parent</span>.<span><span data-darkreader-inline-color="">prototype</span></span>.<span>eat</span> = <span data-darkreader-inline-color="">function</span> (<span></span>) {  <span data-darkreader-inline-color="">console</span>.<span data-darkreader-inline-color="">log</span>(<span data-darkreader-inline-color="">this</span>.<span>name</span> + <span data-darkreader-inline-color="">' is eating'</span>)<br>}<span data-darkreader-inline-color="">function</span> <span data-darkreader-inline-color="">Child</span>(<span>name, age</span>) {  <span data-darkreader-inline-color="">Parent</span>.<span data-darkreader-inline-color="">call</span>(<span data-darkreader-inline-color="">this</span>, name)  <span data-darkreader-inline-color="">this</span>.<span>age</span> = age<br>}<span data-darkreader-inline-color="">Child</span>.<span><span data-darkreader-inline-color="">prototype</span></span> = <span data-darkreader-inline-color="">Object</span>.<span data-darkreader-inline-color="">create</span>(<span data-darkreader-inline-color="">Parent</span>.<span><span data-darkreader-inline-color="">prototype</span></span>)<span data-darkreader-inline-color="">Child</span>.<span><span data-darkreader-inline-color="">prototype</span></span>.<span>constructor</span> = <span data-darkreader-inline-color="">Child</span><span data-darkreader-inline-color="">// 测试</span><span data-darkreader-inline-color="">let</span> xm = <span data-darkreader-inline-color="">new</span> <span data-darkreader-inline-color="">Child</span>(<span data-darkreader-inline-color="">'xiaoming'</span>, <span data-darkreader-inline-color="">12</span>) <br><span data-darkreader-inline-color="">console</span>.<span data-darkreader-inline-color="">log</span>(xm.<span>name</span>) <span data-darkreader-inline-color="">// xiaoming</span><span data-darkreader-inline-color="">console</span>.<span data-darkreader-inline-color="">log</span>(xm.<span>age</span>) <span data-darkreader-inline-color="">// 12</span>xm.<span data-darkreader-inline-color="">eat</span>() <span data-darkreader-inline-color="">// xiaoming is eating</span></code>
```

#### ES6 继承

```
<span data-darkreader-inline-bgcolor=""></span><code lang="js" data-darkreader-inline-color="" data-darkreader-inline-bgimage="" data-darkreader-inline-bgcolor=""><span data-darkreader-inline-color="">class</span> <span data-darkreader-inline-color="">Parent</span> {  <span data-darkreader-inline-color="">constructor</span>(<span>name</span>) {    <span data-darkreader-inline-color="">this</span>.<span>name</span> = name<br>  }  <span data-darkreader-inline-color="">eat</span>(<span></span>) {    <span data-darkreader-inline-color="">console</span>.<span data-darkreader-inline-color="">log</span>(<span data-darkreader-inline-color="">this</span>.<span>name</span> + <span data-darkreader-inline-color="">' is eating'</span>)<br>  }<br>}<span data-darkreader-inline-color="">class</span> <span data-darkreader-inline-color="">Child</span> <span data-darkreader-inline-color="">extends</span> <span data-darkreader-inline-color="">Parent</span> {  <span data-darkreader-inline-color="">constructor</span>(<span>name, age</span>) {    <span data-darkreader-inline-color="">super</span>(name)    <span data-darkreader-inline-color="">this</span>.<span>age</span> = age<br>  }<br>}<span data-darkreader-inline-color="">// 测试</span><span data-darkreader-inline-color="">let</span> xm = <span data-darkreader-inline-color="">new</span> <span data-darkreader-inline-color="">Child</span>(<span data-darkreader-inline-color="">'xiaoming'</span>, <span data-darkreader-inline-color="">12</span>) <br><span data-darkreader-inline-color="">console</span>.<span data-darkreader-inline-color="">log</span>(xm.<span>name</span>) <span data-darkreader-inline-color="">// xiaoming</span><span data-darkreader-inline-color="">console</span>.<span data-darkreader-inline-color="">log</span>(xm.<span>age</span>) <span data-darkreader-inline-color="">// 12</span>xm.<span data-darkreader-inline-color="">eat</span>() <span data-darkreader-inline-color="">// xiaoming is eating</span></code>
```

### 7、数组排序

#### sort 排序

```
<span data-darkreader-inline-bgcolor=""></span><code lang="js" data-darkreader-inline-color="" data-darkreader-inline-bgimage="" data-darkreader-inline-bgcolor=""><span data-darkreader-inline-color="">// 对数字进行排序，简写</span><span data-darkreader-inline-color="">const</span> arr = [<span data-darkreader-inline-color="">3</span>, <span data-darkreader-inline-color="">2</span>, <span data-darkreader-inline-color="">4</span>, <span data-darkreader-inline-color="">1</span>, <span data-darkreader-inline-color="">5</span>]<br>arr.<span data-darkreader-inline-color="">sort</span>(<span>(<span>a, b</span>) =&gt;</span> a - b)<span data-darkreader-inline-color="">console</span>.<span data-darkreader-inline-color="">log</span>(arr) <span data-darkreader-inline-color="">// [1, 2, 3, 4, 5]</span><span data-darkreader-inline-color="">// 对字母进行排序，简写</span><span data-darkreader-inline-color="">const</span> arr = [<span data-darkreader-inline-color="">'b'</span>, <span data-darkreader-inline-color="">'c'</span>, <span data-darkreader-inline-color="">'a'</span>, <span data-darkreader-inline-color="">'e'</span>, <span data-darkreader-inline-color="">'d'</span>]<br>arr.<span data-darkreader-inline-color="">sort</span>()<span data-darkreader-inline-color="">console</span>.<span data-darkreader-inline-color="">log</span>(arr) <span data-darkreader-inline-color="">// ['a', 'b', 'c', 'd', 'e']</span></code>
```

#### 冒泡排序

```
<span data-darkreader-inline-bgcolor=""></span><code lang="js" data-darkreader-inline-color="" data-darkreader-inline-bgimage="" data-darkreader-inline-bgcolor=""><span data-darkreader-inline-color="">function</span> <span data-darkreader-inline-color="">bubbleSort</span>(<span>arr</span>) {  <span data-darkreader-inline-color="">let</span> len = arr.<span>length</span><br>  <span data-darkreader-inline-color="">for</span> (<span data-darkreader-inline-color="">let</span> i = <span data-darkreader-inline-color="">0</span>; i &lt; len - <span data-darkreader-inline-color="">1</span>; i++) {    <span data-darkreader-inline-color="">// 从第一个元素开始，比较相邻的两个元素，前者大就交换位置</span><br>    <span data-darkreader-inline-color="">for</span> (<span data-darkreader-inline-color="">let</span> j = <span data-darkreader-inline-color="">0</span>; j &lt; len - <span data-darkreader-inline-color="">1</span> - i; j++) {      <span data-darkreader-inline-color="">if</span> (arr[j] &gt; arr[j + <span data-darkreader-inline-color="">1</span>]) {        <span data-darkreader-inline-color="">let</span> num = arr[j]<br>        arr[j] = arr[j + <span data-darkreader-inline-color="">1</span>]<br>        arr[j + <span data-darkreader-inline-color="">1</span>] = num<br>      }<br>    }    <span data-darkreader-inline-color="">// 每次遍历结束，都能找到一个最大值，放在数组最后</span><br>  }  <span data-darkreader-inline-color="">return</span> arr<br>}<span data-darkreader-inline-color="">//测试</span><span data-darkreader-inline-color="">console</span>.<span data-darkreader-inline-color="">log</span>(<span data-darkreader-inline-color="">bubbleSort</span>([<span data-darkreader-inline-color="">2</span>, <span data-darkreader-inline-color="">3</span>, <span data-darkreader-inline-color="">1</span>, <span data-darkreader-inline-color="">5</span>, <span data-darkreader-inline-color="">4</span>])) <span data-darkreader-inline-color="">// [1, 2, 3, 4, 5]</span></code>
```

### 8、数组去重

#### Set 去重

```
<span data-darkreader-inline-bgcolor=""></span><code lang="js" data-darkreader-inline-color="" data-darkreader-inline-bgimage="" data-darkreader-inline-bgcolor=""><span data-darkreader-inline-color="">const</span> newArr = [...<span data-darkreader-inline-color="">new</span> <span data-darkreader-inline-color="">Set</span>(arr)]<span data-darkreader-inline-color="">// 或</span><span data-darkreader-inline-color="">const</span> newArr = <span data-darkreader-inline-color="">Array</span>.<span data-darkreader-inline-color="">from</span>(<span data-darkreader-inline-color="">new</span> <span data-darkreader-inline-color="">Set</span>(arr))</code>
```

#### indexOf 去重

```
<span data-darkreader-inline-bgcolor=""></span><code lang="js" data-darkreader-inline-color="" data-darkreader-inline-bgimage="" data-darkreader-inline-bgcolor=""><span data-darkreader-inline-color="">const</span> newArr = arr.<span data-darkreader-inline-color="">filter</span>(<span>(<span>item, index</span>) =&gt;</span> arr.<span data-darkreader-inline-color="">indexOf</span>(item) === index)</code>
```

### 9、获取 url 参数

#### URLSearchParams 方法

```
<span data-darkreader-inline-bgcolor=""></span><code lang="js" data-darkreader-inline-color="" data-darkreader-inline-bgimage="" data-darkreader-inline-bgcolor=""><span data-darkreader-inline-color="">// 创建一个URLSearchParams实例</span><span data-darkreader-inline-color="">const</span> urlSearchParams = <span data-darkreader-inline-color="">new</span> <span data-darkreader-inline-color="">URLSearchParams</span>(<span data-darkreader-inline-color="">window</span>.<span>location</span>.<span>search</span>);<span data-darkreader-inline-color="">// 把键值对列表转换为一个对象</span><span data-darkreader-inline-color="">const</span> params = <span data-darkreader-inline-color="">Object</span>.<span data-darkreader-inline-color="">fromEntries</span>(urlSearchParams.<span data-darkreader-inline-color="">entries</span>());</code>
```

#### split 方法

```
<span data-darkreader-inline-bgcolor=""></span><code lang="js" data-darkreader-inline-color="" data-darkreader-inline-bgimage="" data-darkreader-inline-bgcolor=""><span data-darkreader-inline-color="">function</span> <span data-darkreader-inline-color="">getParams</span>(<span>url</span>) {  <span data-darkreader-inline-color="">const</span> res = {}  <span data-darkreader-inline-color="">if</span> (url.<span data-darkreader-inline-color="">includes</span>(<span data-darkreader-inline-color="">'?'</span>)) {    <span data-darkreader-inline-color="">const</span> str = url.<span data-darkreader-inline-color="">split</span>(<span data-darkreader-inline-color="">'?'</span>)[<span data-darkreader-inline-color="">1</span>]    <span data-darkreader-inline-color="">const</span> arr = str.<span data-darkreader-inline-color="">split</span>(<span data-darkreader-inline-color="">'&amp;'</span>)<br>    arr.<span data-darkreader-inline-color="">forEach</span>(<span><span>item</span> =&gt;</span> {      <span data-darkreader-inline-color="">const</span> key = item.<span data-darkreader-inline-color="">split</span>(<span data-darkreader-inline-color="">'='</span>)[<span data-darkreader-inline-color="">0</span>]      <span data-darkreader-inline-color="">const</span> val = item.<span data-darkreader-inline-color="">split</span>(<span data-darkreader-inline-color="">'='</span>)[<span data-darkreader-inline-color="">1</span>]<br>      res[key] = <span data-darkreader-inline-color="">decodeURIComponent</span>(val) <span data-darkreader-inline-color="">// 解码</span><br>    })<br>  }  <span data-darkreader-inline-color="">return</span> res<br>}<span data-darkreader-inline-color="">// 测试</span><span data-darkreader-inline-color="">const</span> user = <span data-darkreader-inline-color="">getParams</span>(<span data-darkreader-inline-color="">'http://www.baidu.com?user=%E9%98%BF%E9%A3%9E&amp;age=16'</span>)<span data-darkreader-inline-color="">console</span>.<span data-darkreader-inline-color="">log</span>(user) <span data-darkreader-inline-color="">// { user: '阿飞', age: '16' }</span></code>
```

### 10、发布订阅模式

```
<span data-darkreader-inline-bgcolor=""></span><code lang="js" data-darkreader-inline-color="" data-darkreader-inline-bgimage="" data-darkreader-inline-bgcolor=""><span data-darkreader-inline-color="">class</span> <span data-darkreader-inline-color="">EventEmitter</span> {  <span data-darkreader-inline-color="">constructor</span>(<span></span>) {    <span data-darkreader-inline-color="">this</span>.<span>cache</span> = {}<br>  }  <span data-darkreader-inline-color="">on</span>(<span>name, fn</span>) {    <span data-darkreader-inline-color="">if</span> (<span data-darkreader-inline-color="">this</span>.<span>cache</span>[name]) {      <span data-darkreader-inline-color="">this</span>.<span>cache</span>[name].<span data-darkreader-inline-color="">push</span>(fn)<br>    } <span data-darkreader-inline-color="">else</span> {      <span data-darkreader-inline-color="">this</span>.<span>cache</span>[name] = [fn]<br>    }<br>  }  <span data-darkreader-inline-color="">off</span>(<span>name, fn</span>) {    <span data-darkreader-inline-color="">const</span> tasks = <span data-darkreader-inline-color="">this</span>.<span>cache</span>[name]    <span data-darkreader-inline-color="">if</span> (tasks) {      <span data-darkreader-inline-color="">const</span> index = tasks.<span data-darkreader-inline-color="">findIndex</span>(<span>(<span>f</span>) =&gt;</span> f === fn || f.<span>callback</span> === fn)      <span data-darkreader-inline-color="">if</span> (index &gt;= <span data-darkreader-inline-color="">0</span>) {<br>        tasks.<span data-darkreader-inline-color="">splice</span>(index, <span data-darkreader-inline-color="">1</span>)<br>      }<br>    }<br>  }  <span data-darkreader-inline-color="">emit</span>(<span>name, once = <span data-darkreader-inline-color="">false</span></span>) {    <span data-darkreader-inline-color="">if</span> (<span data-darkreader-inline-color="">this</span>.<span>cache</span>[name]) {      <span data-darkreader-inline-color="">// 创建副本，如果回调函数内继续注册相同事件，会造成死循环</span><br>      <span data-darkreader-inline-color="">const</span> tasks = <span data-darkreader-inline-color="">this</span>.<span>cache</span>[name].<span data-darkreader-inline-color="">slice</span>()      <span data-darkreader-inline-color="">for</span> (<span data-darkreader-inline-color="">let</span> fn <span data-darkreader-inline-color="">of</span> tasks) {        <span data-darkreader-inline-color="">fn</span>();<br>      }      <span data-darkreader-inline-color="">if</span> (once) {        <span data-darkreader-inline-color="">delete</span> <span data-darkreader-inline-color="">this</span>.<span>cache</span>[name]<br>      }<br>    }<br>  }<br>}<span data-darkreader-inline-color="">// 测试</span><span data-darkreader-inline-color="">const</span> eventBus = <span data-darkreader-inline-color="">new</span> <span data-darkreader-inline-color="">EventEmitter</span>()<span data-darkreader-inline-color="">const</span> <span data-darkreader-inline-color="">task1</span> = (<span></span>) =&gt; { <span data-darkreader-inline-color="">console</span>.<span data-darkreader-inline-color="">log</span>(<span data-darkreader-inline-color="">'task1'</span>); }<span data-darkreader-inline-color="">const</span> <span data-darkreader-inline-color="">task2</span> = (<span></span>) =&gt; { <span data-darkreader-inline-color="">console</span>.<span data-darkreader-inline-color="">log</span>(<span data-darkreader-inline-color="">'task2'</span>); }<br><br>eventBus.<span data-darkreader-inline-color="">on</span>(<span data-darkreader-inline-color="">'task'</span>, task1)<br>eventBus.<span data-darkreader-inline-color="">on</span>(<span data-darkreader-inline-color="">'task'</span>, task2)<br>eventBus.<span data-darkreader-inline-color="">off</span>(<span data-darkreader-inline-color="">'task'</span>, task1)<span data-darkreader-inline-color="">setTimeout</span>(<span>() =&gt;</span> {<br>  eventBus.<span data-darkreader-inline-color="">emit</span>(<span data-darkreader-inline-color="">'task'</span>) <span data-darkreader-inline-color="">// task2</span>}, <span data-darkreader-inline-color="">1000</span>)</code>
```

以上就是工作或求职中最常见的手写功能，你是不是全都掌握了呢，欢迎在评论区交流。如果文章对你有所帮助，不要忘了点上宝贵的一赞！

听说点赞的人运气都不差，相信来年第一个升职加薪的一定是你~😃