## 书接上回

[Vue3+ TypeScript 中如何使用 Eslint V9.0.0](https://mp.weixin.qq.com/s?__biz=MzIzNjUxMzE2NQ==&mid=2247489735&idx=1&sn=402a2672d0fbee93aacfda19262fdbf6&chksm=e8d7ea25dfa06333999a5a742887e0d67444bfe27ee2629754c2822da2404c8817a113d03f36&scene=21#wechat_redirect)这一篇文章中使用的 Eslint V9.0.0 最新版本和 typescript-eslint V7.6.0 存在版本兼容性问题，在拉取项目时候执行`pnpm i`，提示如下错误：

![Image](https://mmbiz.qpic.cn/sz_mmbiz_png/iblmlja9MdicjnjiausRRic0ZeM3Ga8Seaf7gXPrh9hFALZqOe72LVvBOEqYuymicWV3ZSeicJ6s44KeicUIlPCMevGGg/640?wx_fmt=png&from=appmsg&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1)

1.  解决办法(一)：执行`npm i --force`，跳过版本兼容，强制拉包
2.  (推荐)解决办法(二)：把 typescript-eslint 改成 v7.7.0 版本，如下：![Image](https://mmbiz.qpic.cn/sz_mmbiz_png/iblmlja9MdicjnjiausRRic0ZeM3Ga8Seaf74e8dNkAIjZ0YbQ4yqXUK6unpogpKgxIuUmN77SybwO2wd1xow11WHw/640?wx_fmt=png&from=appmsg&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1)

typescript-eslint 开源社团也在积极的升级拥抱 Eslint v9，更新的很快：

![Image](https://mmbiz.qpic.cn/sz_mmbiz_png/iblmlja9MdicjnjiausRRic0ZeM3Ga8Seaf7V0s5FT7IeL6RJcKYrz01MgCs3bBDHhAc7Vbdsk7R4ibeV1iatNg7HzXA/640?wx_fmt=png&from=appmsg&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1)

## husky v9

### 作用

husky 是一个 Git 钩子工具，可以在提交代码时自动检测到代码提交时修改的文件，然后执行相应的检查命令。

核心内容是配置 Husky 的 pre-commit 和 commit-msg 两个钩子:

1.  pre-commit：Husky + Lint-staged 整合实现 Git 提交前代码规范检测/格式化 (前提：ESlint + Prettier + Stylelint 代码统一规范。
2.  commit-msg: Husky + Commitlint + Commitizen + cz-git 整合实现生成规范化且高度自定义的 Git commit message。

### 安装

我们 husky v9 版本，它和 v8 安装过程不太一样，大家要注意！husky v9 与 v8 区别

```shell
pnpm install husky -D
npx husky init
```

这命令做了四件事儿：

1.  安装 husky 到开发依赖

![Image](data:image/svg+xml,%3C%3Fxml version='1.0' encoding='UTF-8'%3F%3E%3Csvg width='1px' height='1px' viewBox='0 0 1 1' version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'%3E%3Ctitle%3E%3C/title%3E%3Cg stroke='none' stroke-width='1' fill='none' fill-rule='evenodd' fill-opacity='0'%3E%3Cg transform='translate(-249.000000, -126.000000)' fill='%23FFFFFF'%3E%3Crect x='249' y='126' width='1' height='1'%3E%3C/rect%3E%3C/g%3E%3C/g%3E%3C/svg%3E)

2.  在项目根目录下创建 .husky 目录

![Image](data:image/svg+xml,%3C%3Fxml version='1.0' encoding='UTF-8'%3F%3E%3Csvg width='1px' height='1px' viewBox='0 0 1 1' version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'%3E%3Ctitle%3E%3C/title%3E%3Cg stroke='none' stroke-width='1' fill='none' fill-rule='evenodd' fill-opacity='0'%3E%3Cg transform='translate(-249.000000, -126.000000)' fill='%23FFFFFF'%3E%3Crect x='249' y='126' width='1' height='1'%3E%3C/rect%3E%3C/g%3E%3C/g%3E%3C/svg%3E)

3.  在 .husky 目录创建 pre-commit hook，并初始化 pre-commit 命令为 npm test

![Image](data:image/svg+xml,%3C%3Fxml version='1.0' encoding='UTF-8'%3F%3E%3Csvg width='1px' height='1px' viewBox='0 0 1 1' version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'%3E%3Ctitle%3E%3C/title%3E%3Cg stroke='none' stroke-width='1' fill='none' fill-rule='evenodd' fill-opacity='0'%3E%3Cg transform='translate(-249.000000, -126.000000)' fill='%23FFFFFF'%3E%3Crect x='249' y='126' width='1' height='1'%3E%3C/rect%3E%3C/g%3E%3C/g%3E%3C/svg%3E)

4.  修改 package.json 的 scripts，增加 "prepare": "husky"

![Image](data:image/svg+xml,%3C%3Fxml version='1.0' encoding='UTF-8'%3F%3E%3Csvg width='1px' height='1px' viewBox='0 0 1 1' version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'%3E%3Ctitle%3E%3C/title%3E%3Cg stroke='none' stroke-width='1' fill='none' fill-rule='evenodd' fill-opacity='0'%3E%3Cg transform='translate(-249.000000, -126.000000)' fill='%23FFFFFF'%3E%3Crect x='249' y='126' width='1' height='1'%3E%3C/rect%3E%3C/g%3E%3C/g%3E%3C/svg%3E)

### 配置

当我们安装 lint-staged 之后再配置

## lint-staged

### 作用

lint-staged 也是一个 Git 钩子工具，当我们在 git add 到暂存区的文件运行 linters (ESLint/Prettier/StyleLint) 的工具，避免在 git commit 提交时在整个项目执行。

### 安装

```
<span data-darkreader-inline-bgcolor=""></span><code data-darkreader-inline-color="" data-darkreader-inline-bgimage="" data-darkreader-inline-bgcolor="">pnpm&nbsp;install&nbsp;-D&nbsp;lint-staged<br></code>
```

### 配置

1.  在 package.json 配置中添加：

```
<span data-darkreader-inline-bgcolor=""></span><code data-darkreader-inline-color="" data-darkreader-inline-bgimage="" data-darkreader-inline-bgcolor="">&nbsp;&nbsp;<span data-darkreader-inline-color="">"lint-staged"</span>:&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;<span data-darkreader-inline-color="">"*.{js,ts}"</span>:&nbsp;[<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span data-darkreader-inline-color="">"eslint&nbsp;--fix"</span>,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span data-darkreader-inline-color="">"prettier&nbsp;--write"</span><br>&nbsp;&nbsp;&nbsp;&nbsp;],<br>&nbsp;&nbsp;&nbsp;&nbsp;<span data-darkreader-inline-color="">"*.{cjs,json}"</span>:&nbsp;[<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span data-darkreader-inline-color="">"prettier&nbsp;--write"</span><br>&nbsp;&nbsp;&nbsp;&nbsp;],<br>&nbsp;&nbsp;&nbsp;&nbsp;<span data-darkreader-inline-color="">"*.{vue,html}"</span>:&nbsp;[<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span data-darkreader-inline-color="">"eslint&nbsp;--fix"</span>,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span data-darkreader-inline-color="">"prettier&nbsp;--write"</span>,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span data-darkreader-inline-color="">"stylelint&nbsp;--fix"</span><br>&nbsp;&nbsp;&nbsp;&nbsp;],<br>&nbsp;&nbsp;&nbsp;&nbsp;<span data-darkreader-inline-color="">"*.{scss,css}"</span>:&nbsp;[<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span data-darkreader-inline-color="">"stylelint&nbsp;--fix"</span>,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span data-darkreader-inline-color="">"prettier&nbsp;--write"</span><br>&nbsp;&nbsp;&nbsp;&nbsp;],<br>&nbsp;&nbsp;&nbsp;&nbsp;<span data-darkreader-inline-color="">"*.md"</span>:&nbsp;[<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span data-darkreader-inline-color="">"prettier&nbsp;--write"</span><br>&nbsp;&nbsp;&nbsp;&nbsp;]<br>&nbsp;&nbsp;}<br></code>
```

![Image](data:image/svg+xml,%3C%3Fxml version='1.0' encoding='UTF-8'%3F%3E%3Csvg width='1px' height='1px' viewBox='0 0 1 1' version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'%3E%3Ctitle%3E%3C/title%3E%3Cg stroke='none' stroke-width='1' fill='none' fill-rule='evenodd' fill-opacity='0'%3E%3Cg transform='translate(-249.000000, -126.000000)' fill='%23FFFFFF'%3E%3Crect x='249' y='126' width='1' height='1'%3E%3C/rect%3E%3C/g%3E%3C/g%3E%3C/svg%3E)

2.  在 scripts 添加 lint-staged 命令：`"lint:lint-staged": "lint-staged"`

![Image](data:image/svg+xml,%3C%3Fxml version='1.0' encoding='UTF-8'%3F%3E%3Csvg width='1px' height='1px' viewBox='0 0 1 1' version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'%3E%3Ctitle%3E%3C/title%3E%3Cg stroke='none' stroke-width='1' fill='none' fill-rule='evenodd' fill-opacity='0'%3E%3Cg transform='translate(-249.000000, -126.000000)' fill='%23FFFFFF'%3E%3Crect x='249' y='126' width='1' height='1'%3E%3C/rect%3E%3C/g%3E%3C/g%3E%3C/svg%3E)

3.  修改 husky 提交前前钩子命令：根目录 .husky 目录下 pre-commit 文件中的 npm test 修改为 npm run lint:lint-staged

![Image](data:image/svg+xml,%3C%3Fxml version='1.0' encoding='UTF-8'%3F%3E%3Csvg width='1px' height='1px' viewBox='0 0 1 1' version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'%3E%3Ctitle%3E%3C/title%3E%3Cg stroke='none' stroke-width='1' fill='none' fill-rule='evenodd' fill-opacity='0'%3E%3Cg transform='translate(-249.000000, -126.000000)' fill='%23FFFFFF'%3E%3Crect x='249' y='126' width='1' height='1'%3E%3C/rect%3E%3C/g%3E%3C/g%3E%3C/svg%3E)

### 使用

Git 提交代码检测

```
<span data-darkreader-inline-bgcolor=""></span><code data-darkreader-inline-color="" data-darkreader-inline-bgimage="" data-darkreader-inline-bgcolor="">git add .<br>git commit -m "测试"<br></code>
```

![Image](data:image/svg+xml,%3C%3Fxml version='1.0' encoding='UTF-8'%3F%3E%3Csvg width='1px' height='1px' viewBox='0 0 1 1' version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'%3E%3Ctitle%3E%3C/title%3E%3Cg stroke='none' stroke-width='1' fill='none' fill-rule='evenodd' fill-opacity='0'%3E%3Cg transform='translate(-249.000000, -126.000000)' fill='%23FFFFFF'%3E%3Crect x='249' y='126' width='1' height='1'%3E%3C/rect%3E%3C/g%3E%3C/g%3E%3C/svg%3E)

## Commitlint

### 作用

commitlint 是一个 git commit 校验约束工具，检查您的提交消息是否符合 Conventional commit format

### 安装

```
<span data-darkreader-inline-bgcolor=""></span><code data-darkreader-inline-color="" data-darkreader-inline-bgimage="" data-darkreader-inline-bgcolor="">pnpm&nbsp;install&nbsp;@commitlint/config-conventional&nbsp;@commitlint/cli&nbsp;--save-dev<br>pnpm&nbsp;install&nbsp;-D&nbsp;commitizen&nbsp;<br></code>
```

### 配置

1.  根目录创建 commitlint.config.cjs 配置文件，示例配置：

```
<span data-darkreader-inline-bgcolor=""></span><code data-darkreader-inline-color="" data-darkreader-inline-bgimage="" data-darkreader-inline-bgcolor=""><span data-darkreader-inline-color="">//&nbsp;commitlint.config.cjs</span><br><span data-darkreader-inline-color="">module</span>.exports&nbsp;=&nbsp;{<br>&nbsp;&nbsp;<span data-darkreader-inline-color="">//&nbsp;继承的规则</span><br>&nbsp;&nbsp;<span data-darkreader-inline-color="">extends</span>:&nbsp;[<span data-darkreader-inline-color="">'@commitlint/config-conventional'</span>],<br>&nbsp;&nbsp;<span data-darkreader-inline-color="">//&nbsp;自定义规则</span><br>&nbsp;&nbsp;<span data-darkreader-inline-color="">rules</span>:&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;<span data-darkreader-inline-color="">//&nbsp;@see&nbsp;https://commitlint.js.org/#/reference-rules</span><br>&nbsp;&nbsp;&nbsp;&nbsp;<span data-darkreader-inline-color="">//&nbsp;提交类型枚举，git提交type必须是以下类型</span><br>&nbsp;&nbsp;&nbsp;&nbsp;<span data-darkreader-inline-color="">'type-enum'</span>:&nbsp;[<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span data-darkreader-inline-color="">2</span>,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span data-darkreader-inline-color="">'always'</span>,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span data-darkreader-inline-color="">'feat'</span>,&nbsp;<span data-darkreader-inline-color="">//&nbsp;新增功能</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span data-darkreader-inline-color="">'fix'</span>,&nbsp;<span data-darkreader-inline-color="">//&nbsp;修复缺陷</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span data-darkreader-inline-color="">'docs'</span>,&nbsp;<span data-darkreader-inline-color="">//&nbsp;文档变更</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span data-darkreader-inline-color="">'style'</span>,&nbsp;<span data-darkreader-inline-color="">//&nbsp;代码格式（不影响功能，例如空格、分号等格式修正）</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span data-darkreader-inline-color="">'refactor'</span>,&nbsp;<span data-darkreader-inline-color="">//&nbsp;代码重构（不包括&nbsp;bug&nbsp;修复、功能新增）</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span data-darkreader-inline-color="">'perf'</span>,&nbsp;<span data-darkreader-inline-color="">//&nbsp;性能优化</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span data-darkreader-inline-color="">'test'</span>,&nbsp;<span data-darkreader-inline-color="">//&nbsp;添加疏漏测试或已有测试改动</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span data-darkreader-inline-color="">'build'</span>,&nbsp;<span data-darkreader-inline-color="">//&nbsp;构建流程、外部依赖变更（如升级&nbsp;npm&nbsp;包、修改&nbsp;webpack&nbsp;配置等）</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span data-darkreader-inline-color="">'ci'</span>,&nbsp;<span data-darkreader-inline-color="">//&nbsp;修改&nbsp;CI&nbsp;配置、脚本</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span data-darkreader-inline-color="">'revert'</span>,&nbsp;<span data-darkreader-inline-color="">//&nbsp;回滚&nbsp;commit</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span data-darkreader-inline-color="">'chore'</span>,&nbsp;<span data-darkreader-inline-color="">//&nbsp;对构建过程或辅助工具和库的更改（不影响源文件、测试用例）</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;],<br>&nbsp;&nbsp;&nbsp;&nbsp;],<br>&nbsp;&nbsp;&nbsp;&nbsp;<span data-darkreader-inline-color="">'subject-case'</span>:&nbsp;[<span data-darkreader-inline-color="">0</span>],&nbsp;<span data-darkreader-inline-color="">//&nbsp;subject大小写不做校验</span><br>&nbsp;&nbsp;},<br><br>&nbsp;&nbsp;<span data-darkreader-inline-color="">prompt</span>:&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;<span data-darkreader-inline-color="">messages</span>:&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span data-darkreader-inline-color="">type</span>:&nbsp;<span data-darkreader-inline-color="">'选择你要提交的类型&nbsp;:'</span>,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span data-darkreader-inline-color="">scope</span>:&nbsp;<span data-darkreader-inline-color="">'选择一个提交范围（可选）:'</span>,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span data-darkreader-inline-color="">customScope</span>:&nbsp;<span data-darkreader-inline-color="">'请输入自定义的提交范围&nbsp;:'</span>,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span data-darkreader-inline-color="">subject</span>:&nbsp;<span data-darkreader-inline-color="">'填写简短精炼的变更描述&nbsp;:\n'</span>,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span data-darkreader-inline-color="">body</span>:&nbsp;<span data-darkreader-inline-color="">'填写更加详细的变更描述（可选）。使用&nbsp;"|"&nbsp;换行&nbsp;:\n'</span>,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span data-darkreader-inline-color="">breaking</span>:&nbsp;<span data-darkreader-inline-color="">'列举非兼容性重大的变更（可选）。使用&nbsp;"|"&nbsp;换行&nbsp;:\n'</span>,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span data-darkreader-inline-color="">footerPrefixesSelect</span>:&nbsp;<span data-darkreader-inline-color="">'选择关联issue前缀（可选）:'</span>,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span data-darkreader-inline-color="">customFooterPrefix</span>:&nbsp;<span data-darkreader-inline-color="">'输入自定义issue前缀&nbsp;:'</span>,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span data-darkreader-inline-color="">footer</span>:&nbsp;<span data-darkreader-inline-color="">'列举关联issue&nbsp;(可选)&nbsp;例如:&nbsp;#31,&nbsp;#I3244&nbsp;:\n'</span>,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span data-darkreader-inline-color="">generatingByAI</span>:&nbsp;<span data-darkreader-inline-color="">'正在通过&nbsp;AI&nbsp;生成你的提交简短描述...'</span>,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span data-darkreader-inline-color="">generatedSelectByAI</span>:&nbsp;<span data-darkreader-inline-color="">'选择一个&nbsp;AI&nbsp;生成的简短描述:'</span>,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span data-darkreader-inline-color="">confirmCommit</span>:&nbsp;<span data-darkreader-inline-color="">'是否提交或修改commit&nbsp;?'</span>,<br>&nbsp;&nbsp;&nbsp;&nbsp;},<br>&nbsp;&nbsp;&nbsp;&nbsp;<span data-darkreader-inline-color="">//&nbsp;prettier-ignore</span><br>&nbsp;&nbsp;&nbsp;&nbsp;<span data-darkreader-inline-color="">types</span>:&nbsp;[<br>&nbsp;&nbsp;&nbsp;{&nbsp;<span data-darkreader-inline-color="">value</span>:&nbsp;<span data-darkreader-inline-color="">"feat"</span>,&nbsp;<span data-darkreader-inline-color="">name</span>:&nbsp;<span data-darkreader-inline-color="">"特性:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;✨&nbsp;&nbsp;新增功能"</span>,&nbsp;<span data-darkreader-inline-color="">emoji</span>:&nbsp;<span data-darkreader-inline-color="">":sparkles:"</span>&nbsp;},<br>&nbsp;&nbsp;&nbsp;{&nbsp;<span data-darkreader-inline-color="">value</span>:&nbsp;<span data-darkreader-inline-color="">"fix"</span>,&nbsp;<span data-darkreader-inline-color="">name</span>:&nbsp;<span data-darkreader-inline-color="">"修复:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;🐛&nbsp;&nbsp;修复缺陷"</span>,&nbsp;<span data-darkreader-inline-color="">emoji</span>:&nbsp;<span data-darkreader-inline-color="">":bug:"</span>&nbsp;},<br>&nbsp;&nbsp;&nbsp;{&nbsp;<span data-darkreader-inline-color="">value</span>:&nbsp;<span data-darkreader-inline-color="">"docs"</span>,&nbsp;<span data-darkreader-inline-color="">name</span>:&nbsp;<span data-darkreader-inline-color="">"文档:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;📝&nbsp;&nbsp;文档变更"</span>,&nbsp;<span data-darkreader-inline-color="">emoji</span>:&nbsp;<span data-darkreader-inline-color="">":memo:"</span>&nbsp;},<br>&nbsp;&nbsp;&nbsp;{&nbsp;<span data-darkreader-inline-color="">value</span>:&nbsp;<span data-darkreader-inline-color="">"style"</span>,&nbsp;<span data-darkreader-inline-color="">name</span>:&nbsp;<span data-darkreader-inline-color="">"格式:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;🌈&nbsp;&nbsp;代码格式（不影响功能，例如空格、分号等格式修正）"</span>,&nbsp;<span data-darkreader-inline-color="">emoji</span>:&nbsp;<span data-darkreader-inline-color="">":lipstick:"</span>&nbsp;},<br>&nbsp;&nbsp;&nbsp;{&nbsp;<span data-darkreader-inline-color="">value</span>:&nbsp;<span data-darkreader-inline-color="">"refactor"</span>,&nbsp;<span data-darkreader-inline-color="">name</span>:&nbsp;<span data-darkreader-inline-color="">"重构:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;🔄&nbsp;&nbsp;代码重构（不包括&nbsp;bug&nbsp;修复、功能新增）"</span>,&nbsp;<span data-darkreader-inline-color="">emoji</span>:&nbsp;<span data-darkreader-inline-color="">":recycle:"</span>&nbsp;},<br>&nbsp;&nbsp;&nbsp;{&nbsp;<span data-darkreader-inline-color="">value</span>:&nbsp;<span data-darkreader-inline-color="">"perf"</span>,&nbsp;<span data-darkreader-inline-color="">name</span>:&nbsp;<span data-darkreader-inline-color="">"性能:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;🚀&nbsp;&nbsp;性能优化"</span>,&nbsp;<span data-darkreader-inline-color="">emoji</span>:&nbsp;<span data-darkreader-inline-color="">":zap:"</span>&nbsp;},<br>&nbsp;&nbsp;&nbsp;{&nbsp;<span data-darkreader-inline-color="">value</span>:&nbsp;<span data-darkreader-inline-color="">"test"</span>,&nbsp;<span data-darkreader-inline-color="">name</span>:&nbsp;<span data-darkreader-inline-color="">"测试:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;🧪&nbsp;&nbsp;添加疏漏测试或已有测试改动"</span>,&nbsp;<span data-darkreader-inline-color="">emoji</span>:&nbsp;<span data-darkreader-inline-color="">":white_check_mark:"</span>&nbsp;},<br>&nbsp;&nbsp;&nbsp;{&nbsp;<span data-darkreader-inline-color="">value</span>:&nbsp;<span data-darkreader-inline-color="">"build"</span>,&nbsp;<span data-darkreader-inline-color="">name</span>:&nbsp;<span data-darkreader-inline-color="">"构建:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;📦️&nbsp;&nbsp;构建流程、外部依赖变更（如升级&nbsp;npm&nbsp;包、修改&nbsp;vite&nbsp;配置等）"</span>,&nbsp;<span data-darkreader-inline-color="">emoji</span>:&nbsp;<span data-darkreader-inline-color="">":package:"</span>&nbsp;},<br>&nbsp;&nbsp;&nbsp;{&nbsp;<span data-darkreader-inline-color="">value</span>:&nbsp;<span data-darkreader-inline-color="">"ci"</span>,&nbsp;<span data-darkreader-inline-color="">name</span>:&nbsp;<span data-darkreader-inline-color="">"集成:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;⚙️&nbsp;&nbsp;修改&nbsp;CI&nbsp;配置、脚本"</span>,&nbsp;<span data-darkreader-inline-color="">emoji</span>:&nbsp;<span data-darkreader-inline-color="">":ferris_wheel:"</span>&nbsp;},<br>&nbsp;&nbsp;&nbsp;{&nbsp;<span data-darkreader-inline-color="">value</span>:&nbsp;<span data-darkreader-inline-color="">"revert"</span>,&nbsp;<span data-darkreader-inline-color="">name</span>:&nbsp;<span data-darkreader-inline-color="">"回退:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;↩️&nbsp;&nbsp;回滚&nbsp;commit"</span>,&nbsp;<span data-darkreader-inline-color="">emoji</span>:&nbsp;<span data-darkreader-inline-color="">":rewind:"</span>&nbsp;},<br>&nbsp;&nbsp;&nbsp;{&nbsp;<span data-darkreader-inline-color="">value</span>:&nbsp;<span data-darkreader-inline-color="">"chore"</span>,&nbsp;<span data-darkreader-inline-color="">name</span>:&nbsp;<span data-darkreader-inline-color="">"其他:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;🛠️&nbsp;&nbsp;对构建过程或辅助工具和库的更改（不影响源文件、测试用例）"</span>,&nbsp;<span data-darkreader-inline-color="">emoji</span>:&nbsp;<span data-darkreader-inline-color="">":hammer:"</span>&nbsp;},<br>&nbsp;&nbsp;],<br>&nbsp;&nbsp;&nbsp;&nbsp;<span data-darkreader-inline-color="">useEmoji</span>:&nbsp;<span data-darkreader-inline-color="">true</span>,<br>&nbsp;&nbsp;&nbsp;&nbsp;<span data-darkreader-inline-color="">emojiAlign</span>:&nbsp;<span data-darkreader-inline-color="">'center'</span>,<br>&nbsp;&nbsp;&nbsp;&nbsp;<span data-darkreader-inline-color="">useAI</span>:&nbsp;<span data-darkreader-inline-color="">false</span>,<br>&nbsp;&nbsp;&nbsp;&nbsp;<span data-darkreader-inline-color="">aiNumber</span>:&nbsp;<span data-darkreader-inline-color="">1</span>,<br>&nbsp;&nbsp;&nbsp;&nbsp;<span data-darkreader-inline-color="">themeColorCode</span>:&nbsp;<span data-darkreader-inline-color="">''</span>,<br>&nbsp;&nbsp;&nbsp;&nbsp;<span data-darkreader-inline-color="">scopes</span>:&nbsp;[],<br>&nbsp;&nbsp;&nbsp;&nbsp;<span data-darkreader-inline-color="">allowCustomScopes</span>:&nbsp;<span data-darkreader-inline-color="">true</span>,<br>&nbsp;&nbsp;&nbsp;&nbsp;<span data-darkreader-inline-color="">allowEmptyScopes</span>:&nbsp;<span data-darkreader-inline-color="">true</span>,<br>&nbsp;&nbsp;&nbsp;&nbsp;<span data-darkreader-inline-color="">customScopesAlign</span>:&nbsp;<span data-darkreader-inline-color="">'bottom'</span>,<br>&nbsp;&nbsp;&nbsp;&nbsp;<span data-darkreader-inline-color="">customScopesAlias</span>:&nbsp;<span data-darkreader-inline-color="">'custom'</span>,<br>&nbsp;&nbsp;&nbsp;&nbsp;<span data-darkreader-inline-color="">emptyScopesAlias</span>:&nbsp;<span data-darkreader-inline-color="">'empty'</span>,<br>&nbsp;&nbsp;&nbsp;&nbsp;<span data-darkreader-inline-color="">upperCaseSubject</span>:&nbsp;<span data-darkreader-inline-color="">false</span>,<br>&nbsp;&nbsp;&nbsp;&nbsp;<span data-darkreader-inline-color="">markBreakingChangeMode</span>:&nbsp;<span data-darkreader-inline-color="">false</span>,<br>&nbsp;&nbsp;&nbsp;&nbsp;<span data-darkreader-inline-color="">allowBreakingChanges</span>:&nbsp;[<span data-darkreader-inline-color="">'feat'</span>,&nbsp;<span data-darkreader-inline-color="">'fix'</span>],<br>&nbsp;&nbsp;&nbsp;&nbsp;<span data-darkreader-inline-color="">breaklineNumber</span>:&nbsp;<span data-darkreader-inline-color="">100</span>,<br>&nbsp;&nbsp;&nbsp;&nbsp;<span data-darkreader-inline-color="">breaklineChar</span>:&nbsp;<span data-darkreader-inline-color="">'|'</span>,<br>&nbsp;&nbsp;&nbsp;&nbsp;<span data-darkreader-inline-color="">skipQuestions</span>:&nbsp;[],<br>&nbsp;&nbsp;&nbsp;&nbsp;<span data-darkreader-inline-color="">issuePrefixes</span>:&nbsp;[{&nbsp;<span data-darkreader-inline-color="">value</span>:&nbsp;<span data-darkreader-inline-color="">'closed'</span>,&nbsp;<span data-darkreader-inline-color="">name</span>:&nbsp;<span data-darkreader-inline-color="">'closed:&nbsp;&nbsp;&nbsp;ISSUES&nbsp;has&nbsp;been&nbsp;processed'</span>&nbsp;}],<br>&nbsp;&nbsp;&nbsp;&nbsp;<span data-darkreader-inline-color="">customIssuePrefixAlign</span>:&nbsp;<span data-darkreader-inline-color="">'top'</span>,<br>&nbsp;&nbsp;&nbsp;&nbsp;<span data-darkreader-inline-color="">emptyIssuePrefixAlias</span>:&nbsp;<span data-darkreader-inline-color="">'skip'</span>,<br>&nbsp;&nbsp;&nbsp;&nbsp;<span data-darkreader-inline-color="">customIssuePrefixAlias</span>:&nbsp;<span data-darkreader-inline-color="">'custom'</span>,<br>&nbsp;&nbsp;&nbsp;&nbsp;<span data-darkreader-inline-color="">allowCustomIssuePrefix</span>:&nbsp;<span data-darkreader-inline-color="">true</span>,<br>&nbsp;&nbsp;&nbsp;&nbsp;<span data-darkreader-inline-color="">allowEmptyIssuePrefix</span>:&nbsp;<span data-darkreader-inline-color="">true</span>,<br>&nbsp;&nbsp;&nbsp;&nbsp;<span data-darkreader-inline-color="">confirmColorize</span>:&nbsp;<span data-darkreader-inline-color="">true</span>,<br>&nbsp;&nbsp;&nbsp;&nbsp;<span data-darkreader-inline-color="">maxHeaderLength</span>:&nbsp;<span data-darkreader-inline-color="">Infinity</span>,<br>&nbsp;&nbsp;&nbsp;&nbsp;<span data-darkreader-inline-color="">maxSubjectLength</span>:&nbsp;<span data-darkreader-inline-color="">Infinity</span>,<br>&nbsp;&nbsp;&nbsp;&nbsp;<span data-darkreader-inline-color="">minSubjectLength</span>:&nbsp;<span data-darkreader-inline-color="">0</span>,<br>&nbsp;&nbsp;&nbsp;&nbsp;<span data-darkreader-inline-color="">scopeOverrides</span>:&nbsp;<span data-darkreader-inline-color="">undefined</span>,<br>&nbsp;&nbsp;&nbsp;&nbsp;<span data-darkreader-inline-color="">defaultBody</span>:&nbsp;<span data-darkreader-inline-color="">''</span>,<br>&nbsp;&nbsp;&nbsp;&nbsp;<span data-darkreader-inline-color="">defaultIssues</span>:&nbsp;<span data-darkreader-inline-color="">''</span>,<br>&nbsp;&nbsp;&nbsp;&nbsp;<span data-darkreader-inline-color="">defaultScope</span>:&nbsp;<span data-darkreader-inline-color="">''</span>,<br>&nbsp;&nbsp;&nbsp;&nbsp;<span data-darkreader-inline-color="">defaultSubject</span>:&nbsp;<span data-darkreader-inline-color="">''</span>,<br>&nbsp;&nbsp;},<br>}<br></code>
```

2.  执行下面命令生成 commint-msg 钩子用于 git 提交信息校验

```
<span data-darkreader-inline-bgcolor=""></span><code data-darkreader-inline-color="" data-darkreader-inline-bgimage="" data-darkreader-inline-bgcolor=""><span data-darkreader-inline-color="">echo</span>&nbsp;<span data-darkreader-inline-color="">"npx&nbsp;--no&nbsp;--&nbsp;commitlint&nbsp;--edit&nbsp;<span data-darkreader-inline-color="">$1</span>"</span>&nbsp;&gt;&nbsp;.husky/commit-msg<br></code>
```

![Image](data:image/svg+xml,%3C%3Fxml version='1.0' encoding='UTF-8'%3F%3E%3Csvg width='1px' height='1px' viewBox='0 0 1 1' version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'%3E%3Ctitle%3E%3C/title%3E%3Cg stroke='none' stroke-width='1' fill='none' fill-rule='evenodd' fill-opacity='0'%3E%3Cg transform='translate(-249.000000, -126.000000)' fill='%23FFFFFF'%3E%3Crect x='249' y='126' width='1' height='1'%3E%3C/rect%3E%3C/g%3E%3C/g%3E%3C/svg%3E)

## cz-git

### 作用

与 commitizen 搭配使用，是一款工程性更强，轻量级，高度自定义，标准输出格式的 commitizen 适配器。

### 安装

```
<span data-darkreader-inline-bgcolor=""></span><code data-darkreader-inline-color="" data-darkreader-inline-bgimage="" data-darkreader-inline-bgcolor="">pnpm&nbsp;install&nbsp;-D&nbsp;cz-git<br></code>
```

### 配置

1.  在 package.json 配置中添加：

```
<span data-darkreader-inline-bgcolor=""></span><code data-darkreader-inline-color="" data-darkreader-inline-bgimage="" data-darkreader-inline-bgcolor="">&nbsp;&nbsp;<span data-darkreader-inline-color="">"config"</span>:&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;<span data-darkreader-inline-color="">"commitizen"</span>:&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span data-darkreader-inline-color="">"path"</span>:&nbsp;<span data-darkreader-inline-color="">"node_modules/cz-git"</span><br>&nbsp;&nbsp;&nbsp;&nbsp;}<br>&nbsp;&nbsp;},<br></code>
```

![Image](data:image/svg+xml,%3C%3Fxml version='1.0' encoding='UTF-8'%3F%3E%3Csvg width='1px' height='1px' viewBox='0 0 1 1' version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'%3E%3Ctitle%3E%3C/title%3E%3Cg stroke='none' stroke-width='1' fill='none' fill-rule='evenodd' fill-opacity='0'%3E%3Cg transform='translate(-249.000000, -126.000000)' fill='%23FFFFFF'%3E%3Crect x='249' y='126' width='1' height='1'%3E%3C/rect%3E%3C/g%3E%3C/g%3E%3C/svg%3E)

2.  在 script 添加提交指令

```
<span data-darkreader-inline-bgcolor=""></span><code data-darkreader-inline-color="" data-darkreader-inline-bgimage="" data-darkreader-inline-bgcolor=""><span data-darkreader-inline-color="">"commit"</span>:&nbsp;<span data-darkreader-inline-color="">"git&nbsp;pull&nbsp;&amp;&amp;&nbsp;git&nbsp;add&nbsp;-A&nbsp;&amp;&amp;&nbsp;git-cz&nbsp;&amp;&amp;&nbsp;git&nbsp;push"</span>&nbsp;<br></code>
```

![Image](data:image/svg+xml,%3C%3Fxml version='1.0' encoding='UTF-8'%3F%3E%3Csvg width='1px' height='1px' viewBox='0 0 1 1' version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'%3E%3Ctitle%3E%3C/title%3E%3Cg stroke='none' stroke-width='1' fill='none' fill-rule='evenodd' fill-opacity='0'%3E%3Cg transform='translate(-249.000000, -126.000000)' fill='%23FFFFFF'%3E%3Crect x='249' y='126' width='1' height='1'%3E%3C/rect%3E%3C/g%3E%3C/g%3E%3C/svg%3E)

### 使用

```
<span data-darkreader-inline-bgcolor=""></span><code data-darkreader-inline-color="" data-darkreader-inline-bgimage="" data-darkreader-inline-bgcolor="">pnpm commit<br></code>
```

![Image](data:image/svg+xml,%3C%3Fxml version='1.0' encoding='UTF-8'%3F%3E%3Csvg width='1px' height='1px' viewBox='0 0 1 1' version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'%3E%3Ctitle%3E%3C/title%3E%3Cg stroke='none' stroke-width='1' fill='none' fill-rule='evenodd' fill-opacity='0'%3E%3Cg transform='translate(-249.000000, -126.000000)' fill='%23FFFFFF'%3E%3Crect x='249' y='126' width='1' height='1'%3E%3C/rect%3E%3C/g%3E%3C/g%3E%3C/svg%3E)

## 成果展示

![Image](data:image/svg+xml,%3C%3Fxml version='1.0' encoding='UTF-8'%3F%3E%3Csvg width='1px' height='1px' viewBox='0 0 1 1' version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'%3E%3Ctitle%3E%3C/title%3E%3Cg stroke='none' stroke-width='1' fill='none' fill-rule='evenodd' fill-opacity='0'%3E%3Cg transform='translate(-249.000000, -126.000000)' fill='%23FFFFFF'%3E%3Crect x='249' y='126' width='1' height='1'%3E%3C/rect%3E%3C/g%3E%3C/g%3E%3C/svg%3E)

## 代码仓库

https://github.com/LHNB521/screen-template
