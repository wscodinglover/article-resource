```
<p data-style="margin-bottom: 0px; outline: 0px; color: rgb(34, 34, 34); font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Helvetica Neue', 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei UI', 'Microsoft YaHei', Arial, sans-serif; letter-spacing: 0.544px; white-space: normal; background-color: rgb(255, 255, 255); text-align: center; visibility: visible;"><span>ç‚¹å‡»ä¸‹æ–¹â€œ</span><span data-style="outline: 0px; color: rgb(255, 0, 0); letter-spacing: 0.544px; word-spacing: 2px; font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, Arial, sans-serif; visibility: visible;">å‰ç«¯å¼€å‘çˆ±å¥½è€…</span><span>â€ï¼Œé€‰æ‹©â€œ</span><span data-style="outline: 0px; color: rgb(255, 169, 0); letter-spacing: 0.544px; word-spacing: 2px; font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, Arial, sans-serif; visibility: visible;">è®¾ä¸ºæ˜Ÿæ ‡</span><span>â€</span></p><pre><section data-style="margin-right: 16px; margin-bottom: 8px; margin-left: 16px; outline: 0px; color: rgb(63, 63, 63); letter-spacing: 0.544px; white-space: normal; font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif; word-spacing: 0.8px; text-align: center; visibility: visible; line-height: normal;"><span>ç¬¬ä¸€æ—¶é—´å…³æ³¨æŠ€æœ¯å¹²è´§ï¼</span></section></pre><section><mp-common-profile data-pluginname="mpprofile" data-id="MzUzNTk3MjE2Ng==" data-headimg="http://mmbiz.qpic.cn/mmbiz_png/kzFgl6ibibNKqOYTBZZIvzRTwWDnIeeC7AWFC1GtPQq7mibycgPf3ZIp77hpNWedYwcxfaWicT2VuwwXERM0A6mM3w/300?wx_fmt=png&amp;wxfrom=19" data-nickname="å‰ç«¯å¼€å‘çˆ±å¥½è€…" data-alias="web_share_" data-signature="åˆ†äº« web å‰ç«¯ç›¸å…³æŠ€æœ¯æ–‡ç« ã€å·¥å…·èµ„æºã€ç²¾é€‰è¯¾ç¨‹ã€è§†é¢‘æ•™ç¨‹èµ„æºã€çƒ­ç‚¹èµ„è®¯ç­‰" data-from="0" data-is_biz_ban="0" data-origin_num="132" data-isban="0" data-biz_account_status="0" data-index="0"></mp-common-profile></section>
```

> å“ˆå–½ï¼Œå¤§å®¶å¥½ æˆ‘æ˜¯ `xy`ğŸ‘¨ğŸ»ğŸ’»ã€‚ä»Šå¤©ç»™å¤§å®¶åˆ†äº«ä¸€ä¸ªå¦‚ä½•ç”¨ `js` `è¿æ¥è“ç‰™`è®¾å¤‡å¹¶`ä¼ è¾“æ•°æ®`ï¼ï¼ï¼

## éœ€æ±‚èƒŒæ™¯

æœ€è¿‘é¡¹ç›®ä¸Šæ¥åˆ°ä¸€ä¸ªæ–°çš„éœ€æ±‚ï¼š`å®ç°ä¸€ä¸ªåœ¨æµè§ˆå™¨ç«¯é€šè¿‡è¿æ¥è“ç‰™æ‰“å°æœºæ‰“å°æ–‡ä»¶çš„åŠŸèƒ½`ï¼

ä»¥ä¸‹æ˜¯å…³äºè¿™ä¸ªéœ€æ±‚çš„`è¯¦ç»†æè¿°`ï¼š

-   **æ”¯æŒä¸»æµæµè§ˆå™¨**ï¼šå¦‚ Chromeã€Firefoxã€Safari ç­‰ä»¥åŠä¸åŒæ“ä½œç³»ç»Ÿï¼ˆå¦‚ Windowsã€macOSã€Linux ç­‰ï¼‰ã€‚
    
-   **è“ç‰™è¿æ¥**ï¼šç”¨æˆ·èƒ½å¤Ÿé€šè¿‡æµè§ˆå™¨è‡ªåŠ¨æœç´¢å¹¶è¿æ¥åˆ°é™„è¿‘çš„è“ç‰™æ‰“å°æœºã€‚
    
-   **æ–‡ä»¶æ‰“å°**ï¼šç”¨æˆ·å¯ä»¥é€‰æ‹©æœ¬åœ°æ–‡ä»¶ï¼ˆå¦‚ PDFã€Wordã€å›¾ç‰‡ç­‰æ ¼å¼ï¼‰å¹¶é€šè¿‡è“ç‰™æ‰“å°æœºè¿›è¡Œæ‰“å°ã€‚
    
-   **ç”¨æˆ·ç•Œé¢**ï¼šæä¾›ä¸€ä¸ªç®€æ´æ˜äº†çš„ç”¨æˆ·ç•Œé¢ï¼Œæ–¹ä¾¿ç”¨æˆ·é€‰æ‹©æ‰“å°æœºã€ä¸Šä¼ æ–‡ä»¶å’Œå¼€å§‹æ‰“å°ã€‚
    

ä¸ºäº†å®ç°è¿™ä¸ªåŠŸèƒ½ï¼Œæˆ‘ä»¬å°†é‡‡ç”¨ `Web Bluetooth API` æŠ€æœ¯æ–¹æ¡ˆï¼š

`Web Bluetooth API` æ˜¯ä¸€ä¸ªç”¨äºä¸`è“ç‰™è®¾å¤‡é€šä¿¡`çš„ Web APIï¼Œå¯ä»¥è®©æˆ‘ä»¬åœ¨æµè§ˆå™¨ç«¯ç›´æ¥ä¸è“ç‰™æ‰“å°æœºè¿›è¡Œäº¤äº’ã€‚

## ç¯å¢ƒå‡†å¤‡ä¸æƒé™è·å–

åœ¨ä½¿ç”¨ `Web Bluetooth API` ä¹‹å‰ï¼Œè¯·ç¡®ä¿æ‚¨çš„ç½‘ç«™è¿è¡Œåœ¨æ”¯æŒè¯¥ `API` çš„æµè§ˆå™¨ä¸Šï¼ˆç›®å‰ä¸»è¦æ˜¯ Chrome å’ŒåŸºäº Chromium çš„æµè§ˆå™¨ï¼‰ã€‚

åŒæ—¶ï¼Œç”¨æˆ·éœ€è¦æˆæƒç½‘ç«™è®¿é—®è“ç‰™è®¾å¤‡ã€‚è¿™æ„å‘³ç€æ‚¨éœ€è¦åœ¨ç½‘ç«™ä¸­æ·»åŠ é€‚å½“çš„ UI æç¤ºï¼Œå¼•å¯¼ç”¨æˆ·æˆæƒã€‚

## è¿æ¥è“ç‰™è®¾å¤‡

â—ï¸Web Bluetooth API è§„å®šï¼Œå¯¹äºéœ€è¦ç”¨æˆ·æˆæƒçš„æ“ä½œï¼Œå¿…é¡»åœ¨ç”¨æˆ·æœ‰`æ˜ç¡®äº¤äº’è¡Œä¸º`ï¼ˆä¾‹å¦‚ç‚¹å‡»æŒ‰é’®ï¼‰å‘ç”Ÿæ—¶æ‰èƒ½è¿›è¡Œã€‚è¿™æ˜¯ä¸ºäº†ä¿æŠ¤ç”¨æˆ·éšç§ï¼Œé˜²æ­¢è‡ªåŠ¨åŒ–è®¿é—®ã€‚

è¦è¿æ¥è“ç‰™è®¾å¤‡ï¼Œé¦–å…ˆéœ€è¦ä½¿ç”¨ `navigator.bluetooth.requestDevice()`æ–¹æ³•è¯·æ±‚ç”¨æˆ·é€‰æ‹©ä¸€ä¸ªè“ç‰™è®¾å¤‡ã€‚

è¿™ä¸ªæ–¹æ³•æ¥å—ä¸€ä¸ª `acceptAllDevices:true` å‚æ•°ï¼Œè¡¨ç¤ºè¯·æ±‚è„šæœ¬å¯ä»¥æ¥å—æ‰€æœ‰è“ç‰™è®¾å¤‡ã€‚

```
<span></span><code>&nbsp;&nbsp;<span>&lt;!--&nbsp;æŒ‰é’®ç‚¹å‡»è¿æ¥è“ç‰™&nbsp;--&gt;</span><br>&nbsp;&nbsp;<span>&lt;<span>button</span>&nbsp;<span>id</span>=<span>"connect"</span>&nbsp;<span>onclick</span>=<span>"handleConnect()"</span>&gt;</span>è¿æ¥è“ç‰™è®¾å¤‡<span>&lt;/<span>button</span>&gt;</span><br></code>
```

```
<span></span><code>&nbsp;&nbsp;<span><span>function</span>&nbsp;<span>handleConnect</span>(<span></span>)&nbsp;</span>{<br>&nbsp;&nbsp;&nbsp;&nbsp;navigator.bluetooth<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.requestDevice({<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span>acceptAllDevices</span>:&nbsp;<span>true</span>,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;})<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.then(<span>(<span>device</span>)&nbsp;=&gt;</span>&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span>console</span>.log(<span>"Device&nbsp;Name:"</span>,&nbsp;device.name);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span>console</span>.log(<span>"Device&nbsp;ID:"</span>,&nbsp;device.id);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span>return</span>&nbsp;device.gatt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;})<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.then(<span>(<span>server</span>)&nbsp;=&gt;</span>&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span>//&nbsp;è¿æ¥åˆ°è®¾å¤‡å¹¶å‘ç°æœåŠ¡</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;})<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.catch(<span>(<span>error</span>)&nbsp;=&gt;</span>&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span>console</span>.error(<span>"Error:"</span>,&nbsp;error);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;});<br>&nbsp;&nbsp;}<br></code>
```

![Image](https://mmbiz.qpic.cn/sz_mmbiz_png/kzFgl6ibibNKq5nnC9MnOyTba0jpXfLYKa3nicOmSYu886Afic5JF7Mjy8A1f0jbcqUIcRfEwvE0y4s3SxXsbVtTew/640?wx_fmt=png&from=appmsg&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1)

ç‚¹å‡»é…å¯¹æŒ‰é’®ï¼Œå¯ä»¥è·å–åˆ°Â  Device NameÂ  ä»¥åŠå¯¹åº”çš„Â  Device ID ï¼š

![Image](https://mmbiz.qpic.cn/sz_mmbiz_png/kzFgl6ibibNKq5nnC9MnOyTba0jpXfLYKahIwAExwdTNqYoIOVEAZQBJAhsiatOFtL5Aic57wIn8JdNZjxd6yGeLPw/640?wx_fmt=png&from=appmsg&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1)

## å‘ç°æœåŠ¡ä¸ç‰¹å¾

æˆåŠŸè¿æ¥åˆ°è“ç‰™è®¾å¤‡åï¼Œä¸‹ä¸€æ­¥æ˜¯å‘ç°è®¾å¤‡ä¸Šçš„`æœåŠ¡`å’Œ`ç‰¹å¾`ã€‚

é¦–å…ˆï¼Œä½¿ç”¨ `connect()` æ–¹æ³•è¿æ¥åˆ°è®¾å¤‡ã€‚

ç„¶åï¼Œè°ƒç”¨ `getPrimaryService()` æ–¹æ³•è·å–æŒ‡å®šçš„æœåŠ¡ã€‚

â—ï¸ æ³¨æ„ï¼šè¿™é‡Œçš„ `YOUR_SERVICE_UUID` å ä½ç¬¦è¡¨ç¤ºå®é™…çš„æœåŠ¡ `UUID`ã€‚

```
<span></span><code>server.connect()<br>&nbsp;&nbsp;.then(<span><span>server</span>&nbsp;=&gt;</span>&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;<span>return</span>&nbsp;server.getPrimaryService(<span>'YOUR_SERVICE_UUID'</span>);<br>&nbsp;&nbsp;})<br>&nbsp;&nbsp;.then(<span><span>service</span>&nbsp;=&gt;</span>&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;<span>//&nbsp;å‘ç°ç‰¹å¾</span><br>&nbsp;&nbsp;})<br>&nbsp;&nbsp;.catch(<span><span>error</span>&nbsp;=&gt;</span>&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;<span>console</span>.error(<span>'Error:'</span>,&nbsp;error);<br>&nbsp;&nbsp;});<br></code>
```

## è¯»å–å†™å…¥æ•°æ®

ä½¿ç”¨ `readValue()` å’Œ `writeValue()` æ–¹æ³•è¯»å–å’Œå†™å…¥ç‰¹å¾å€¼:

```
<span></span><code><span>//&nbsp;è¯»å–ç‰¹å¾å€¼</span><br>characteristic.readValue()<br>&nbsp;&nbsp;.then(<span><span>value</span>&nbsp;=&gt;</span>&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;<span>console</span>.log(<span>'Characteristic&nbsp;Value:'</span>,&nbsp;value);<br>&nbsp;&nbsp;})<br>&nbsp;&nbsp;.catch(<span><span>error</span>&nbsp;=&gt;</span>&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;<span>console</span>.error(<span>'Error:'</span>,&nbsp;error);<br>&nbsp;&nbsp;});<br><br><span>//&nbsp;å†™å…¥ç‰¹å¾å€¼</span><br><span>const</span>&nbsp;encoder&nbsp;=&nbsp;<span>new</span>&nbsp;TextEncoder();<br><span>const</span>&nbsp;data&nbsp;=&nbsp;encoder.encode(<span>'Hello,&nbsp;Bluetooth!'</span>);<br>characteristic.writeValue(data)<br>&nbsp;&nbsp;.then(<span><span>()</span>&nbsp;=&gt;</span>&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;<span>console</span>.log(<span>'Data&nbsp;written&nbsp;successfully'</span>);<br>&nbsp;&nbsp;})<br>&nbsp;&nbsp;.catch(<span><span>error</span>&nbsp;=&gt;</span>&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;<span>console</span>.error(<span>'Error:'</span>,&nbsp;error);<br>&nbsp;&nbsp;});<br></code>
```

è¿™æ ·ä¸€ä¸ªç®€å•çš„è¿æ¥è“ç‰™è®¾å¤‡å¹¶è¯»å†™æ•°æ®çš„åŠŸèƒ½æ¡ˆä¾‹å°±å®ç°äº†ï¼Œæ¥ä¸‹æ¥å°±ç›´æ¥æŒ‰ç…§éœ€æ±‚å¼€å¹²äº†ï¼Œå…·ä½“çš„å®ç°è¿™é‡Œä¸åšè¿‡å¤šçš„è®²è§£äº†ï¼Œæ„Ÿå…´è¶£çš„å°ä¼™ä¼´å¯ä»¥è‡ªå·±å»åŠ¨æ‰‹å°è¯•ä¸€ä¸‹ï¼

å‚è€ƒè¿æ¥ï¼š

-   Web Bluetooth APIï¼š`https://developer.mozilla.org/en-US/docs/Web/API/Bluetooth`
    

## å†™åœ¨æœ€å

> `å…¬ä¼—å·`ï¼š`å‰ç«¯å¼€å‘çˆ±å¥½è€…` ä¸“æ³¨åˆ†äº« `web` å‰ç«¯ç›¸å…³`æŠ€æœ¯æ–‡ç« `ã€`è§†é¢‘æ•™ç¨‹`èµ„æºã€çƒ­ç‚¹èµ„è®¯ç­‰ï¼Œå¦‚æœå–œæ¬¢æˆ‘çš„åˆ†äº«ï¼Œç»™ ğŸŸğŸŸ ç‚¹ä¸€ä¸ª`èµ` ğŸ‘ æˆ–è€… â•`å…³æ³¨` éƒ½æ˜¯å¯¹æˆ‘æœ€å¤§çš„æ”¯æŒã€‚

æ¬¢è¿`é•¿æŒ‰å›¾ç‰‡åŠ å¥½å‹`ï¼Œæˆ‘ä¼šç¬¬ä¸€æ—¶é—´å’Œä½ åˆ†äº«`å‰ç«¯è¡Œä¸šè¶‹åŠ¿`ï¼Œ`é¢è¯•èµ„æº`ï¼Œ`å­¦ä¹ é€”å¾„`ç­‰ç­‰ã€‚

![Image](https://mmbiz.qpic.cn/sz_mmbiz_jpg/kzFgl6ibibNKq5nnC9MnOyTba0jpXfLYKa6f2nmD1yIHxoTYnZlfvSuU4b7Am0cJicVSFW1L8P237QpwBwJsu19Nw/640?wx_fmt=jpeg&from=appmsg&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1)

æ·»åŠ å¥½å‹å¤‡æ³¨ã€**è¿›é˜¶å­¦ä¹ **ã€‘æ‹‰ä½ è¿›æŠ€æœ¯äº¤æµç¾¤

å…³æ³¨å…¬ä¼—å·åï¼Œåœ¨é¦–é¡µï¼š

-   å›å¤ **é¢è¯•é¢˜**ï¼Œè·å–æœ€æ–°å¤§å‚é¢è¯•èµ„æ–™ã€‚
    
-   å›å¤ **ç®€å†**ï¼Œè·å– 3200 å¥— ç®€å†æ¨¡æ¿ã€‚
    
-   å›å¤ **React å®æˆ˜**ï¼Œè·å– React æœ€æ–°å®æˆ˜æ•™ç¨‹ã€‚
    
-   å›å¤Â **Vue å®æˆ˜**ï¼Œè·å– Vue æœ€æ–°å®æˆ˜æ•™ç¨‹ã€‚
    
-   å›å¤Â **ts**ï¼Œè·å– TypeScript ç²¾è®²è¯¾ç¨‹ã€‚
    
-   å›å¤Â **vite**ï¼Œè·å– Vite ç²¾è®²è¯¾ç¨‹ã€‚
    
-   å›å¤Â **uniapp**ï¼Œè·å– uniapp ç²¾è®²è¯¾ç¨‹ã€‚
    
-   å›å¤Â **js ä¹¦ç±**ï¼Œè·å– js è¿›é˜¶ å¿…çœ‹ä¹¦ç±ã€‚
    
-   å›å¤Â **Node**ï¼Œè·å– Nodejs+koa2 å®æˆ˜æ•™ç¨‹ã€‚
    
-   å›å¤Â **æ•°æ®ç»“æ„ç®—æ³•**ï¼Œè·å–æ•°æ®ç»“æ„ç®—æ³•æ•™ç¨‹ã€‚
    
-   å›å¤Â **æ¶æ„å¸ˆ**ï¼Œè·å– æ¶æ„å¸ˆå­¦ä¹ èµ„æºæ•™ç¨‹ã€‚
    
-   æ›´å¤šæ•™ç¨‹èµ„æºåº”æœ‰å°½æœ‰ï¼Œæ¬¢è¿ **å…³æ³¨è·å–ã€‚**