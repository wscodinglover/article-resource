æ–‡ç« æ¥æºäºç¨€åœŸæ˜é‡‘æŠ€æœ¯ç¤¾åŒºâ€”â€”æé€Ÿèœ—ç‰›  

**èƒŒæ™¯**

é¡¹ç›®éœ€è¦å¼€å‘ä¸€ä¸ªå‘ç‰ˆé€šçŸ¥æ’ä»¶ï¼ŒåŒæ—¶å…¬å¸é¡¹ç›®å±äºä¹¾å¤æ¶æ„çš„å¾®å‰ç«¯åº”ç”¨ï¼Œæ¶‰åŠå¤šä¸ªå­åº”ç”¨ï¼Œå¦‚æœæ¯ä¸ªé¡¹ç›®éƒ½å†™ä¸€éé€»è¾‘ï¼Œåœ¨ä¿®æ”¹æ—¶å¯èƒ½ä¼šé‡å¤ä¿®æ”¹å¤šä¸ªé¡¹ç›®ï¼Œäºæ˜¯æƒ³ç€èƒ½ä¸èƒ½é€šè¿‡å¼€å‘ä¸€ä¸ªæ’ä»¶ï¼Œå¯¹é¡¹ç›®ä¾µå…¥æœ€å°‘æ–¹å¼ï¼Œæ’ä»¶å‡çº§åä¾èµ–é¡¹ç›®`npm i`ä¸€ä¸‹å°±å¯ä»¥äº†ã€‚

**è°ƒç ”**

å¾…ç¼–

**è¡ŒåŠ¨**

åŸºäºRollupå¼€å‘ä¸€ä¸ªæ’ä»¶ï¼Œèµ·æ­¥è¿˜æ˜¯å»ºè®®å…ˆé˜…è¯»ä¸€éå®˜ç½‘çš„ä»‹ç»ï¼Œä»¥ä¾¿å¯¹å®ƒæœ‰ä¸€ä¸ªåŸºæœ¬çš„äº†è§£ã€‚

RollupJS å®˜ç½‘<sup data-darkreader-inline-color="">[1]</sup>

ä½†æ˜¯å®˜ç½‘çš„èµ„æ–™å¾ˆå¤šæœ‰å‘ï¼ˆå› ä¸ºç‰ˆæœ¬æ›´æ–°ç„¶åæ²¡æœ‰äººæ›´æ–°å®˜ç½‘èµ„æ–™å¯¼è‡´â€¦â€¦ï¼‰ï¼Œæ‰€ä»¥å¦‚æœå…¨éƒ¨æŒ‰å®˜ç½‘çš„æŒ‡å¯¼èµ°ï¼Œæ˜¯èµ°ä¸ä¸‹å»çš„ï¼Œä¸€å †é—®é¢˜ã€‚

æœ€æ˜æ˜¾çš„ä¸€ä¸ªå°±æ˜¯ babelï¼Œå®˜ç½‘è¯´æ˜é»˜è®¤æ˜¯ babel6ï¼Œä½†å¦‚æœç›´æ¥ä» npm æ‰§è¡Œå®‰è£…ï¼Œé»˜è®¤å®‰è£… babel åˆ™æ˜¯ 7+ï¼Œé…ç½®èµ·æ¥å®Œå…¨ä¸æ˜¯ä¸€ä¸ªä¸–ç•Œçš„ä¸œè¥¿â€¦â€¦

åŒ…æ‹¬æœåˆ°çš„å¾ˆå¤šåšæ–‡ä¹Ÿéƒ½æ˜¯è¿‡æœŸçŠ¶æ€ï¼Œæ— æ³•å‚è€ƒï¼Œæ‰€ä»¥å†³å®šå†™ä¸ªåˆ†äº«æ¥æ±‡æ€»ä¸‹è¿™æ¬¡é‡åˆ°çš„é—®é¢˜å’Œä¸€äº›å¯å¤ç”¨çš„é…ç½®ã€‚

æ³¨ï¼šä»¥ä¸‹å¤§éƒ¨åˆ†æ“ä½œéƒ½æ˜¯ä¾èµ–äºå‘½ä»¤è¡Œæ“ä½œï¼ŒWindows ä½ å¯ä»¥ç”¨ä½ ç†Ÿæ‚‰çš„Â `cmd`Â æˆ–è€…Â `powerShell`Â æˆ–è€…æˆ‘ç†Ÿæ‚‰çš„Â `cmder`Â ï¼ŒmacOS å¯ä»¥ç”¨ç»ˆç«¯ç­‰ç­‰

**åˆ›å»ºé¡¹ç›®**

Rollup åªæ˜¯ä¸ªå·¥å…·ï¼Œä¸æ˜¯è„šæ‰‹æ¶ï¼Œæ‰€ä»¥æ²¡æœ‰è‡ªå·±çš„åˆ›å»ºå‘½ä»¤ï¼Œéœ€è¦èµ°ä¼ ç»Ÿçš„é¡¹ç›®ç”Ÿæˆæ–¹æ³•å»åˆ›å»ºã€‚

```
<span data-darkreader-inline-bgcolor=""></span><code data-darkreader-inline-color="" data-darkreader-inline-bgimage="" data-darkreader-inline-bgcolor="">&nbsp;&nbsp;&nbsp;&nbsp;mkdir&nbsp;rollup-demo&nbsp;&amp;&amp;&nbsp;cd&nbsp;rollup-demo<br></code>
```

**åˆå§‹åŒ–é¡¹ç›®**

æ‰§è¡Œ `npm init` å‘½ä»¤ï¼Œä¸€è·¯å›è½¦ï¼Œç”Ÿæˆpackage.json æ–‡ä»¶ã€‚

å»ºè®®æŠŠå…¥å£æ–‡ä»¶è®¾ç½®ä¸º`src/main.js`,å› ä¸ºå®é™…é¡¹ç›®ä¼šæœ‰å¾ˆå¤šä¸ªåˆ†æ–‡ä»¶ï¼ŒåŒ…æ‹¬ä½ è‡ªå·±ç¼–å†™çš„`lib`æ–‡ä»¶ã€`config`æ–‡ä»¶ç­‰ï¼Œç»Ÿä¸€æ”¾åœ¨`src`ä¸‹é¢è¿›è¡Œå½’ç±»ç®¡ç†ã€‚

ç„¶åæ‰“å¼€package.jsonæ–‡ä»¶åœ¨scriptså­—æ®µä¸‹æ–°å¢buildå‘½ä»¤ï¼š

```
<span data-darkreader-inline-bgcolor=""></span><code data-darkreader-inline-color="" data-darkreader-inline-bgimage="" data-darkreader-inline-bgcolor="">&nbsp;<span data-darkreader-inline-color="">"scripts"</span>:&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;<span data-darkreader-inline-color="">"test"</span>:&nbsp;<span data-darkreader-inline-color="">"echo&nbsp;"</span><span data-darkreader-inline-color="">Error</span>:&nbsp;no&nbsp;test&nbsp;specified<span data-darkreader-inline-color="">"&nbsp;&amp;&amp;&nbsp;exit&nbsp;1"</span>,<br>&nbsp;&nbsp;&nbsp;&nbsp;<span data-darkreader-inline-color="">"build"</span>:&nbsp;<span data-darkreader-inline-color="">"rollup&nbsp;-c&nbsp;rollup.config.js"</span><br>&nbsp;&nbsp;},<br></code>
```

**å®‰è£…ä¾èµ–**

```
<span data-darkreader-inline-bgcolor=""></span><code data-darkreader-inline-color="" data-darkreader-inline-bgimage="" data-darkreader-inline-bgcolor="">npm&nbsp;install&nbsp;--save-dev&nbsp;rollup&nbsp;@rollup/plugin-node-resolve&nbsp;@rollup/plugin-babel&nbsp;@rollup/plugin-commonjs&nbsp;@rollup/plugin-json&nbsp;@rollup/plugin-alias&nbsp;rollup-plugin-terser&nbsp;rollup-plugin-banner&nbsp;@babel/core&nbsp;@babel/plugin-proposal-<span><span data-darkreader-inline-color="">class</span>-<span data-darkreader-inline-color="">properties</span>&nbsp;@<span data-darkreader-inline-color="">babel</span>/<span data-darkreader-inline-color="">preset</span>-<span data-darkreader-inline-color="">env</span><br></span></code>
```

å„ä¸ªåŒ…çš„ä½œç”¨å¦‚ä¸‹

| åŸºç¡€åŒ…å | ä½œç”¨ | ç”¨é€”è¡¥å……è¯´æ˜ |
| --- | --- | --- |
| rollup | Rollup çš„æ ¸å¿ƒåŒ… |   
 |
| @rollup/plugin-node-resolve | Rollup æ’ä»¶åŒ…ï¼Œå¸®åŠ© Rollup è¯†åˆ« node\_modules çš„åŒ… |   
 |
| @rollup/plugin-babel | Rollup æ’ä»¶åŒ…ï¼Œè‡ªåŠ¨åŒ–è§£å†³ babel çš„è½¬æ¢é—®é¢˜ | ä½ å¯ä»¥æ›´çˆ½çš„å†™ ES6 ä»¥ä¸Šçš„æ–°è¯­æ³•â€¦ |
| @rollup/plugin-commonjs | Rollup æ’ä»¶åŒ…ï¼Œå¯å°† CommonJS æ¨¡å—è½¬æ¢ä¸º ES6 | å¤§éƒ¨åˆ† npm åŒ…éƒ½æ˜¯ CommonJSï¼Œæ¯”å¦‚å¸¸ç”¨çš„ axios/qs åº“ï¼Œå¦‚æœä½ é¡¹ç›®é‡Œç”¨åˆ°äº†ä»–ä»¬ï¼Œä¸å¼•å…¥è¿™ä¸ªæ’ä»¶çš„è¯ä¼šæ„å»ºå¤±è´¥ |
| @rollup/plugin-json | Rollup æ’ä»¶åŒ…ï¼Œå¯å°†.json æ–‡ä»¶è½¬æ¢ä¸º ES6 æ¨¡å— | æ¯”å¦‚ï¼šä½œä¸ºç±»åº“å½“ç„¶è¦æ¶‰åŠåˆ°ç‰ˆæœ¬æ›´æ–°ï¼Œç‰ˆæœ¬å·è‚¯å®šä¸èƒ½å„ç§åœ°æ–¹éƒ½æ‰‹å†™ï¼Œè¿™ç§æƒ…å†µä¸‹å°±å¯ä»¥ä» package.json è¯»å– |
| @rollup/plugin-alias | Rollup æ’ä»¶åŒ…ï¼Œé…ç½®è·¯å¾„åˆ«å | alias çš„ä½œç”¨å¤§å®¶éƒ½æ‡‚ï¼Œå¼€å‘ç¯å¢ƒå¿…å¤‡ |
| rollup-plugin-terser | Rollup æ’ä»¶åŒ…ï¼Œæ··æ·†å‹ç¼© js ä»£ç  | æ‰“åŒ…å‘å¸ƒå¿…å¤‡ |
| rollup-plugin-banner | Rollup æ’ä»¶åŒ…ï¼Œç»™æ‰“åŒ…åçš„æ–‡ä»¶æ·»åŠ æ³¨é‡Š | ä¸€èˆ¬å¯ä»¥æ·»åŠ å¼€å‘è€…ä¿¡æ¯ã€ç‰ˆæœ¬å·ç­‰ä¿¡æ¯ |
| @babel/core | @rollup/plugin-babel çš„ä¾èµ–åŒ…ï¼Œè¯¥æ’ä»¶åŸºäº babel7 |   
 |
| @babel/plugin-proposal-class-properties | @rollup/plugin-babel çš„ä¾èµ–åŒ…ï¼Œè¯¥æ’ä»¶åŸºäº babel7 |   
 |
| @babel/preset-env | @rollup/plugin-babel çš„ä¾èµ–åŒ…ï¼Œè¯¥æ’ä»¶åŸºäº babel7 |   
 |

**é…ç½®æ–‡ä»¶**

ä¸Šé¢æåˆ°ä¿®æ”¹äº†Â `package.json`Â çš„Â `script`Â å­—æ®µï¼Œä¿®æ”¹çš„å«ä¹‰æ˜¯å‘ŠçŸ¥ node åœ¨æ‰§è¡Œ build å‘½ä»¤çš„æ—¶å€™ï¼Œé€šè¿‡ rollup å‘½ä»¤å»è¿è¡Œä¸€ä¸ªå«Â `rollup.config.js`Â çš„é…ç½®æ–‡ä»¶ï¼ˆ-c æ˜¯â€“config çš„ç¼©å†™ï¼‰

```
<span data-darkreader-inline-bgcolor=""></span><code data-darkreader-inline-color="" data-darkreader-inline-bgimage="" data-darkreader-inline-bgcolor=""><span data-darkreader-inline-color="">import</span>&nbsp;resolve&nbsp;<span data-darkreader-inline-color="">from</span>&nbsp;<span data-darkreader-inline-color="">'@rollup/plugin-node-resolve'</span><br><span data-darkreader-inline-color="">import</span>&nbsp;babel&nbsp;<span data-darkreader-inline-color="">from</span>&nbsp;<span data-darkreader-inline-color="">'@rollup/plugin-babel'</span><br><span data-darkreader-inline-color="">import</span>&nbsp;commonjs&nbsp;<span data-darkreader-inline-color="">from</span>&nbsp;<span data-darkreader-inline-color="">'@rollup/plugin-commonjs'</span><br><span data-darkreader-inline-color="">import</span>&nbsp;json&nbsp;<span data-darkreader-inline-color="">from</span>&nbsp;<span data-darkreader-inline-color="">'@rollup/plugin-json'</span><br><span data-darkreader-inline-color="">import</span>&nbsp;alias&nbsp;<span data-darkreader-inline-color="">from</span>&nbsp;<span data-darkreader-inline-color="">'@rollup/plugin-alias'</span><br><span data-darkreader-inline-color="">import</span>&nbsp;{&nbsp;terser&nbsp;}&nbsp;<span data-darkreader-inline-color="">from</span>&nbsp;<span data-darkreader-inline-color="">'rollup-plugin-terser'</span><br><span data-darkreader-inline-color="">import</span>&nbsp;banner&nbsp;<span data-darkreader-inline-color="">from</span>&nbsp;<span data-darkreader-inline-color="">'rollup-plugin-banner'</span><br><br><span data-darkreader-inline-color="">const</span>&nbsp;path&nbsp;=&nbsp;<span data-darkreader-inline-color="">require</span>(<span data-darkreader-inline-color="">'path'</span>)<br><span data-darkreader-inline-color="">const</span>&nbsp;resolveDir&nbsp;=&nbsp;<span>(<span>dir</span>)&nbsp;=&gt;</span>&nbsp;path.join(__dirname,&nbsp;dir)<br><br><span data-darkreader-inline-color="">export</span>&nbsp;<span data-darkreader-inline-color="">default</span>&nbsp;{<br>&nbsp;&nbsp;<span data-darkreader-inline-color="">input</span>:&nbsp;<span data-darkreader-inline-color="">'src/main.js'</span>,<br>&nbsp;&nbsp;<span data-darkreader-inline-color="">output</span>:&nbsp;[<br>&nbsp;&nbsp;&nbsp;&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span data-darkreader-inline-color="">file</span>:&nbsp;<span data-darkreader-inline-color="">`demo/js/demo.js`</span>,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span data-darkreader-inline-color="">format</span>:&nbsp;<span data-darkreader-inline-color="">'umd'</span>,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span data-darkreader-inline-color="">name</span>:&nbsp;<span data-darkreader-inline-color="">'demo'</span>,<br>&nbsp;&nbsp;&nbsp;&nbsp;},<br>&nbsp;&nbsp;&nbsp;&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span data-darkreader-inline-color="">file</span>:&nbsp;<span data-darkreader-inline-color="">`dist/<span data-darkreader-inline-color="">${process.env.npm_package_version}</span>/demo.min.js`</span>,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span data-darkreader-inline-color="">format</span>:&nbsp;<span data-darkreader-inline-color="">'umd'</span>,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span data-darkreader-inline-color="">name</span>:&nbsp;<span data-darkreader-inline-color="">'demo'</span>,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span data-darkreader-inline-color="">plugins</span>:&nbsp;[terser()],<br>&nbsp;&nbsp;&nbsp;&nbsp;},<br>&nbsp;&nbsp;],<br>&nbsp;&nbsp;<span data-darkreader-inline-color="">plugins</span>:&nbsp;[<br>&nbsp;&nbsp;&nbsp;&nbsp;resolve({<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span data-darkreader-inline-color="">browser</span>:&nbsp;<span data-darkreader-inline-color="">true</span>,<br>&nbsp;&nbsp;&nbsp;&nbsp;}),<br>&nbsp;&nbsp;&nbsp;&nbsp;babel({<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span data-darkreader-inline-color="">babelHelpers</span>:&nbsp;<span data-darkreader-inline-color="">'bundled'</span>,<br>&nbsp;&nbsp;&nbsp;&nbsp;}),<br>&nbsp;&nbsp;&nbsp;&nbsp;commonjs(),<br>&nbsp;&nbsp;&nbsp;&nbsp;json(),<br>&nbsp;&nbsp;&nbsp;&nbsp;alias({<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span data-darkreader-inline-color="">entries</span>:&nbsp;[{&nbsp;<span data-darkreader-inline-color="">find</span>:&nbsp;<span data-darkreader-inline-color="">'@'</span>,&nbsp;<span data-darkreader-inline-color="">replacement</span>:&nbsp;resolveDir(<span data-darkreader-inline-color="">'src'</span>)&nbsp;}],<br>&nbsp;&nbsp;&nbsp;&nbsp;}),<br>&nbsp;&nbsp;&nbsp;&nbsp;banner(<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span data-darkreader-inline-color="">`name:&nbsp;&lt;%=&nbsp;pkg.name&nbsp;%&gt;\nversion:&nbsp;v&lt;%=&nbsp;pkg.version&nbsp;%&gt;\nauthor:&nbsp;&lt;%=&nbsp;pkg.author&nbsp;%&gt;`</span><br>&nbsp;&nbsp;&nbsp;&nbsp;),<br>&nbsp;&nbsp;],<br>}<br></code>
```

è¿™ä»½é…ç½®çš„åŠŸèƒ½æ˜¯ï¼Œåœ¨æ‰§è¡Œäº†Â `npm run build`Â ä¹‹åï¼Œä¼šåœ¨Â `dist`Â æ–‡ä»¶å¤¹é‡Œï¼Œç”Ÿæˆä¸€ä¸ª â€œç‰ˆæœ¬å·â€ æ–‡ä»¶å¤¹ï¼Œç‰ˆæœ¬å·æ–‡ä»¶å¤¹ä¸‹æ˜¯ä¸€ä¸ªè¢«å‹ç¼©æ··æ·†äº†çš„ç‰ˆæœ¬ã€‚

åŒæ—¶åœ¨Â `demo`Â çš„ js æ–‡ä»¶å¤¹ä¸‹ï¼Œä¼šç”Ÿæˆä¸€ä¸ªæ²¡æœ‰æ··æ·†çš„ç‰ˆæœ¬ç”¨äº demo çš„å¼€å‘è°ƒè¯•ã€‚

æ ¸å¿ƒé…ç½®é€‰é¡¹è¯´æ˜ï¼š

| å­—æ®µ | ä½œç”¨ |
| --- | --- |
| input | å…¥å£æ–‡ä»¶ |
| output | å‡ºå£æ–‡ä»¶ï¼Œä¸€ä¸ªæ•°ç»„ï¼Œæ”¯æŒæ‰“åŒ…å¤šä¸ªç‰ˆæœ¬ï¼ˆé€šå¸¸æ˜¯ä¸€ä¸ªå®Œæ•´ç‰ˆå¼€å‘ï¼Œä¸€ä¸ªæ··æ·†å‹ç¼©ä¸Šçº¿ï¼‰ |
| output.file | å‡ºå£çš„æ–‡ä»¶åï¼Œéœ€è¦åŒ…å«åˆ°æ–‡ä»¶å¤¹é‡Œå°±æŠŠè·¯å¾„ä¹Ÿå†™ä¸Šï¼Œä¸Šé¢çš„ ({}).npm\_package\_version æ˜¯ä»¥ç‰ˆæœ¬å·ä¸ºæ–‡ä»¶å¤¹å½’ç±»å‘å¸ƒ |
| output.format | è¾“å‡ºæ ¼å¼ï¼šamd=å¼‚æ­¥æ¨¡å—ã€cjs=CommonJSã€es=ES æ¨¡å—æ–‡ä»¶ã€iife=è‡ªåŠ¨æ‰§è¡Œã€umd=é€šç”¨æ¨¡å—ï¼ˆåŒ…å« amd/cjs/iife ä¸ºä¸€ä½“ï¼‰ |
| output.name | æš´éœ²çš„å…¨å±€å˜é‡ï¼Œå¯ä»¥é€šè¿‡ window.xxx æ¥è®¿é—®ä½ çš„ç±»åº“ï¼Œç±»ä¼¼ window.jQuery çš„ä½œç”¨ |
| output.plugins | æ‰“åŒ…æ’ä»¶ï¼Œç›®å‰åªé…ç½®äº†ä¸€ä¸ª terser ç”¨äºæ‰“åŒ…ä¸€ä¸ªå‹ç¼©ç‰ˆæœ¬å‘å¸ƒ |

å®Œæ•´é…ç½®é¡¹è¯·å‚è€ƒRollupå®˜ç½‘<sup data-darkreader-inline-color="">[2]</sup>ã€‚

**ç¼–è¯‘æ‰“åŒ…**

å¼€å‘é˜¶æ®µä½ å¯ä»¥æ ¹æ®è‡ªå·±çš„ä¹ æƒ¯ä½¿ç”¨å„ç§ npm åŒ…ã€è‡ªå·±å†™çš„Â `lib/module`Â æ–‡ä»¶ç­‰ç­‰ï¼Œä½†æ˜¯æœ€ç»ˆéƒ½éœ€è¦åœ¨Â `main.js`Â å¯¼å‡ºä¸€ä¸ªå˜é‡

```
<span data-darkreader-inline-bgcolor=""></span><code data-darkreader-inline-color="" data-darkreader-inline-bgimage="" data-darkreader-inline-bgcolor=""><span><span data-darkreader-inline-color="">class</span>&nbsp;<span data-darkreader-inline-color="">Demo</span>&nbsp;</span>{<br>&nbsp;&nbsp;sayHi(name)&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;<span data-darkreader-inline-color="">console</span>.log(<span data-darkreader-inline-color="">`Hi,&nbsp;<span data-darkreader-inline-color="">${name}</span>`</span>)<br>&nbsp;&nbsp;}<br>}<br><br><span data-darkreader-inline-color="">const</span>&nbsp;demo&nbsp;=&nbsp;<span data-darkreader-inline-color="">new</span>&nbsp;Demo()<br><br><span data-darkreader-inline-color="">export</span>&nbsp;<span data-darkreader-inline-color="">default</span>&nbsp;demo<br></code>
```

è¿™æ ·ä½¿ç”¨çš„äººå°±å¯ä»¥åœ¨å¼•å…¥ä½ æ‰“åŒ…å¥½çš„æ–‡ä»¶ä¹‹åï¼Œé€šè¿‡è¿™ä¸ªå˜é‡å»ä½¿ç”¨ä½ çš„ç±»åº“é‡Œçš„æ–¹æ³•ï¼Œè§‰å¾—æœ‰ç‚¹ç»•ï¼Ÿçœ‹çœ‹æœ€åçš„ä¾‹å­ã€‚

**Babelé…ç½®**

å› ä¸ºå¼€å‘é˜¶æ®µä¼šä½¿ç”¨å¤§é‡çš„ ES6 ç­‰æµè§ˆå™¨è¿˜ä¸å®Œå…¨å…¼å®¹çš„æ–°ç‰¹æ€§ï¼Œæˆ–è€…å¼•å…¥ä¸€äº›ç¬¬ä¸‰æ–¹åº“ï¼Œæ¯”å¦‚ axios ä¹‹ç±»çš„ï¼Œå¯¹äºä½ç‰ˆæœ¬ IE è¿˜ä¸å¤ªå‹å¥½ï¼Œè¿™äº›æƒ…å†µä¸‹éƒ½éœ€è¦è¿›è¡Œ Babel è½¬æ¢ã€‚

å‘½åä¸ºÂ `.babelrc`Â ä¿å­˜åˆ°é¡¹ç›®æ ¹ç›®å½•ä¸‹

```
<span data-darkreader-inline-bgcolor=""></span><code data-darkreader-inline-color="" data-darkreader-inline-bgimage="" data-darkreader-inline-bgcolor="">{<br>&nbsp;&nbsp;<span data-darkreader-inline-color="">"presets"</span>:&nbsp;[<br>&nbsp;&nbsp;&nbsp;&nbsp;[<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span data-darkreader-inline-color="">"@babel/preset-env"</span>,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span data-darkreader-inline-color="">"modules"</span>:&nbsp;<span data-darkreader-inline-color="">false</span>,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span data-darkreader-inline-color="">"targets"</span>:&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span data-darkreader-inline-color="">"browsers"</span>:&nbsp;<span data-darkreader-inline-color="">"&gt;&nbsp;1%,&nbsp;IE&nbsp;11,&nbsp;not&nbsp;op_mini&nbsp;all,&nbsp;not&nbsp;dead"</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;},<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span data-darkreader-inline-color="">"useBuiltIns"</span>:&nbsp;<span data-darkreader-inline-color="">"usage"</span>,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span data-darkreader-inline-color="">"corejs"</span>:&nbsp;<span data-darkreader-inline-color="">2</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>&nbsp;&nbsp;&nbsp;&nbsp;]<br>&nbsp;&nbsp;],<br>&nbsp;&nbsp;<span data-darkreader-inline-color="">"plugins"</span>:&nbsp;[<br>&nbsp;&nbsp;&nbsp;&nbsp;<span data-darkreader-inline-color="">"@babel/plugin-proposal-class-properties"</span><br>&nbsp;&nbsp;]<br>}<br></code>
```

**ğŸŒ°**

æˆ‘åœ¨Â `main.js`Â ç¼–å†™ä¸€ä¸ªç®€å•çš„å‡½æ•°ï¼Œé€šè¿‡é¢„è®¾å¥½çš„Â `demo`Â å˜é‡åæ‰“åŒ…å¯¼å‡ºã€‚

dist æ–‡ä»¶å¤¹æ˜¯æœ€ç»ˆè¦å‘ç‰ˆçš„æ··æ·†å‹ç¼©ç‰ˆï¼Œæ¯ä¸ªç‰ˆæœ¬éƒ½æœ‰ç‹¬ç«‹çš„å½’ç±»ï¼›demo æ–‡ä»¶å¤¹æ˜¯ç”¨äºå¼€å‘è°ƒè¯•çš„ï¼Œè¿™é‡Œçš„æ˜¯æœªæ··æ·†çš„ç‰ˆæœ¬ã€‚

![Image](data:image/svg+xml,%3C%3Fxml version='1.0' encoding='UTF-8'%3F%3E%3Csvg width='1px' height='1px' viewBox='0 0 1 1' version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'%3E%3Ctitle%3E%3C/title%3E%3Cg stroke='none' stroke-width='1' fill='none' fill-rule='evenodd' fill-opacity='0'%3E%3Cg transform='translate(-249.000000, -126.000000)' fill='%23FFFFFF'%3E%3Crect x='249' y='126' width='1' height='1'%3E%3C/rect%3E%3C/g%3E%3C/g%3E%3C/svg%3E)

image.png

![Image](data:image/svg+xml,%3C%3Fxml version='1.0' encoding='UTF-8'%3F%3E%3Csvg width='1px' height='1px' viewBox='0 0 1 1' version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'%3E%3Ctitle%3E%3C/title%3E%3Cg stroke='none' stroke-width='1' fill='none' fill-rule='evenodd' fill-opacity='0'%3E%3Cg transform='translate(-249.000000, -126.000000)' fill='%23FFFFFF'%3E%3Crect x='249' y='126' width='1' height='1'%3E%3C/rect%3E%3C/g%3E%3C/g%3E%3C/svg%3E)

image.png

![Image](data:image/svg+xml,%3C%3Fxml version='1.0' encoding='UTF-8'%3F%3E%3Csvg width='1px' height='1px' viewBox='0 0 1 1' version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'%3E%3Ctitle%3E%3C/title%3E%3Cg stroke='none' stroke-width='1' fill='none' fill-rule='evenodd' fill-opacity='0'%3E%3Cg transform='translate(-249.000000, -126.000000)' fill='%23FFFFFF'%3E%3Crect x='249' y='126' width='1' height='1'%3E%3C/rect%3E%3C/g%3E%3C/g%3E%3C/svg%3E)

image.png

å¾®ä¿¡çš„ JSSDK ä¹Ÿæ˜¯ç±»ä¼¼çš„ç”¨æ³•Â `wx.config(options);`Â ã€`wx.chooseImage()`Â ç­‰ç­‰

****å› ä¸ºå¾®ä¿¡å…¬ä¼—å·ä¿®æ”¹è§„åˆ™ï¼Œå¦‚æœä¸æ ‡æ˜Ÿæˆ–ç‚¹åœ¨çœ‹ï¼Œä½ å¯èƒ½ä¼šæ”¶ä¸åˆ°æˆ‘å…¬ä¼—å·æ–‡ç« çš„æ¨é€ï¼Œè¯·å¤§å®¶å°†æœ¬å…¬ä¼—å·æ˜Ÿæ ‡ï¼Œçœ‹å®Œæ–‡ç« åè®°å¾—ç‚¹ä¸‹èµæˆ–è€…åœ¨çœ‹ï¼Œè°¢è°¢å„ä½ï¼****

![Image](data:image/svg+xml,%3C%3Fxml version='1.0' encoding='UTF-8'%3F%3E%3Csvg width='1px' height='1px' viewBox='0 0 1 1' version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'%3E%3Ctitle%3E%3C/title%3E%3Cg stroke='none' stroke-width='1' fill='none' fill-rule='evenodd' fill-opacity='0'%3E%3Cg transform='translate(-249.000000, -126.000000)' fill='%23FFFFFF'%3E%3Crect x='249' y='126' width='1' height='1'%3E%3C/rect%3E%3C/g%3E%3C/g%3E%3C/svg%3E)