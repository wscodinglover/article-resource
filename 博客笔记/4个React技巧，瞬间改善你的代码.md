扎实的React知识是前端开发者最宝贵的技能之一。许多公司都在不断寻找React开发人员，我想分享四个对我编写更好的React代码有帮助的提示。我希望你会发现一些新的和有用的东西

### 场景一

先上代码：

<table><tbody><tr><td data-darkreader-inline-border-top="" data-darkreader-inline-border-right="" data-darkreader-inline-border-bottom="" data-darkreader-inline-border-left="" data-darkreader-inline-bgimage="" data-darkreader-inline-bgcolor=""><pre data-darkreader-inline-bgimage="" data-darkreader-inline-bgcolor="" data-darkreader-inline-color=""><span>1</span><br><span>2</span><br><span>3</span><br><span>4</span><br><span>5</span><br><span>6</span><br><span>7</span><br><span>8</span><br><span>9</span><br><span>10</span><br><span>11</span><br><span>12</span><br><span>13</span><br><span>14</span><br><span>15</span><br><span>16</span><br><span>17</span><br><span>18</span><br><span>19</span><br><span>20</span><br><span>21</span><br><span>22</span><br><span>23</span><br><span>24</span><br><span>25</span><br><span>26</span><br><span>27</span><br><span>28</span><br><span>29</span><br><span>30</span><br><span>31</span><br><span>32</span><br><span>33</span><br><span>34</span><br><span>35</span><br><span>36</span><br><span>37</span><br><span>38</span><br><span>39</span><br><span>40</span><br><span>41</span><br><span>42</span><br></pre></td><td data-darkreader-inline-border-top="" data-darkreader-inline-border-right="" data-darkreader-inline-border-bottom="" data-darkreader-inline-border-left=""><pre data-darkreader-inline-bgimage="" data-darkreader-inline-bgcolor="" data-darkreader-inline-color=""><span></span><br><span><span>export</span> <span>default</span> <span>function</span> <span data-darkreader-inline-color="" data-darkreader-inline-bgimage="" data-darkreader-inline-bgcolor="">App</span>(<span></span>) {</span><br><span>  <span>const</span> [user, setUser] = <span data-darkreader-inline-color="" data-darkreader-inline-bgimage="" data-darkreader-inline-bgcolor="">useState</span>({</span><br><span>    <span>name</span>: <span data-darkreader-inline-color="">""</span>,</span><br><span>    <span>surname</span>: <span data-darkreader-inline-color="">""</span>,</span><br><span>    <span>address</span>: <span data-darkreader-inline-color="">""</span></span><br><span>  });</span><br><span></span><br><span>  <span data-darkreader-inline-color="">// handler 1!!!</span></span><br><span>  <span>const</span> <span data-darkreader-inline-color="" data-darkreader-inline-bgimage="" data-darkreader-inline-bgcolor="">handleNameChange</span> = (<span>e</span>) =&gt; {</span><br><span>    <span data-darkreader-inline-color="" data-darkreader-inline-bgimage="" data-darkreader-inline-bgcolor="">setUser</span>(<span>(<span>prev</span>) =&gt;</span> ({</span><br><span>      ...prev,</span><br><span>      <span>name</span>: e.<span>target</span>.<span>value</span></span><br><span>    }));</span><br><span>  };</span><br><span></span><br><span>  <span data-darkreader-inline-color="">// handler 2!!!</span></span><br><span>  <span>const</span> <span data-darkreader-inline-color="" data-darkreader-inline-bgimage="" data-darkreader-inline-bgcolor="">handleSurnameChange</span> = (<span>e</span>) =&gt; {</span><br><span>    <span data-darkreader-inline-color="" data-darkreader-inline-bgimage="" data-darkreader-inline-bgcolor="">setUser</span>(<span>(<span>prev</span>) =&gt;</span> ({</span><br><span>      ...prev,</span><br><span>      <span>surname</span>: e.<span>target</span>.<span>value</span></span><br><span>    }));</span><br><span>  };</span><br><span></span><br><span>  <span data-darkreader-inline-color="">// handler 3!!!</span></span><br><span>  <span>const</span> <span data-darkreader-inline-color="" data-darkreader-inline-bgimage="" data-darkreader-inline-bgcolor="">handleAddressChange</span> = (<span>e</span>) =&gt; {</span><br><span>    <span data-darkreader-inline-color="" data-darkreader-inline-bgimage="" data-darkreader-inline-bgcolor="">setUser</span>(<span>(<span>prev</span>) =&gt;</span> ({</span><br><span>      ...prev,</span><br><span>      <span>address</span>: e.<span>target</span>.<span>value</span></span><br><span>    }));</span><br><span>  };</span><br><span></span><br><span>  </span><br><span></span><br><span>  <span>return</span> (</span><br><span>    <span><span data-darkreader-inline-color="">&lt;&gt;</span></span></span><br><span><span>      <span data-darkreader-inline-color="">&lt;<span>input</span> <span data-darkreader-inline-color="">value</span>=<span data-darkreader-inline-color="">{user.surname}</span> <span data-darkreader-inline-color="">onChange</span>=<span data-darkreader-inline-color="">{handleSurnameChange}</span> /&gt;</span></span></span><br><span><span>      <span data-darkreader-inline-color="">&lt;<span>input</span> <span data-darkreader-inline-color="">value</span>=<span data-darkreader-inline-color="">{user.address}</span> <span data-darkreader-inline-color="">onChange</span>=<span data-darkreader-inline-color="">{handleAddressChange}</span> /&gt;</span></span></span><br><span><span>    <span data-darkreader-inline-color="">&lt;/&gt;</span></span></span><br><span>  );</span><br><span>}</span><br><span></span><br></pre></td></tr></tbody></table>

如果我们还需要一个输入怎么办？我们应该为它创建另一个处理程序吗？  
如果你懂React中的函数式编程，我想你应该懂了。

解决方案：

<table><tbody><tr><td data-darkreader-inline-border-top="" data-darkreader-inline-border-right="" data-darkreader-inline-border-bottom="" data-darkreader-inline-border-left="" data-darkreader-inline-bgimage="" data-darkreader-inline-bgcolor=""><pre data-darkreader-inline-bgimage="" data-darkreader-inline-bgcolor="" data-darkreader-inline-color=""><span>1</span><br><span>2</span><br><span>3</span><br><span>4</span><br><span>5</span><br><span>6</span><br><span>7</span><br><span>8</span><br><span>9</span><br><span>10</span><br><span>11</span><br><span>12</span><br><span>13</span><br><span>14</span><br><span>15</span><br><span>16</span><br><span>17</span><br><span>18</span><br><span>19</span><br><span>20</span><br><span>21</span><br><span>22</span><br><span>23</span><br><span>24</span><br></pre></td><td data-darkreader-inline-border-top="" data-darkreader-inline-border-right="" data-darkreader-inline-border-bottom="" data-darkreader-inline-border-left=""><pre data-darkreader-inline-bgimage="" data-darkreader-inline-bgcolor="" data-darkreader-inline-color=""><span><span>export</span> <span>default</span> <span>function</span> <span data-darkreader-inline-color="" data-darkreader-inline-bgimage="" data-darkreader-inline-bgcolor="">App</span>(<span></span>) {</span><br><span>  <span>const</span> [user, setUser] = <span data-darkreader-inline-color="" data-darkreader-inline-bgimage="" data-darkreader-inline-bgcolor="">useState</span>({</span><br><span>    <span>name</span>: <span data-darkreader-inline-color="">""</span>,</span><br><span>    <span>surname</span>: <span data-darkreader-inline-color="">""</span>,</span><br><span>    <span>address</span>: <span data-darkreader-inline-color="">""</span></span><br><span>  });</span><br><span></span><br><span>  <span>const</span> <span data-darkreader-inline-color="" data-darkreader-inline-bgimage="" data-darkreader-inline-bgcolor="">handleInputChange</span> = (<span>field</span>) =&gt; {</span><br><span>    <span>return</span> <span>(<span>e</span>) =&gt;</span> {</span><br><span>      <span data-darkreader-inline-color="" data-darkreader-inline-bgimage="" data-darkreader-inline-bgcolor="">setUser</span>(<span>(<span>prev</span>) =&gt;</span> ({</span><br><span>        ...prev,</span><br><span>        [field]: e.<span>target</span>.<span>value</span></span><br><span>      }));</span><br><span>    };</span><br><span>  };</span><br><span></span><br><span>   (</span><br><span>    <span><span data-darkreader-inline-color="">&lt;&gt;</span></span></span><br><span><span>      <span data-darkreader-inline-color="">&lt;<span>input</span> <span data-darkreader-inline-color="">value</span>=<span data-darkreader-inline-color="">{user.name}</span> <span data-darkreader-inline-color="">onChange</span>=<span data-darkreader-inline-color="">{handleInputChange(</span>"<span data-darkreader-inline-color="">name</span>")} /&gt;</span></span></span><br><span><span>      <span data-darkreader-inline-color="">&lt;<span>input</span> <span data-darkreader-inline-color="">value</span>=<span data-darkreader-inline-color="">{user.surname}</span> <span data-darkreader-inline-color="">onChange</span>=<span data-darkreader-inline-color="">{handleInputChange(</span>"<span data-darkreader-inline-color="">surname</span>")} /&gt;</span></span></span><br><span><span>      <span data-darkreader-inline-color="">&lt;<span>input</span> <span data-darkreader-inline-color="">value</span>=<span data-darkreader-inline-color="">{user.address}</span> <span data-darkreader-inline-color="">onChange</span>=<span data-darkreader-inline-color="">{handleInputChange(</span>"<span data-darkreader-inline-color="">address</span>")} /&gt;</span></span></span><br><span><span>    <span data-darkreader-inline-color="">&lt;/&gt;</span></span></span><br><span>  );</span><br><span>}</span><br></pre></td></tr></tbody></table>

### 场景2

阅读下面代码：

<table><tbody><tr><td data-darkreader-inline-border-top="" data-darkreader-inline-border-right="" data-darkreader-inline-border-bottom="" data-darkreader-inline-border-left="" data-darkreader-inline-bgimage="" data-darkreader-inline-bgcolor=""><pre data-darkreader-inline-bgimage="" data-darkreader-inline-bgcolor="" data-darkreader-inline-color=""><span>1</span><br><span>2</span><br><span>3</span><br><span>4</span><br><span>5</span><br><span>6</span><br><span>7</span><br><span>8</span><br><span>9</span><br><span>10</span><br><span>11</span><br><span>12</span><br><span>13</span><br><span>14</span><br><span>15</span><br><span>16</span><br><span>17</span><br><span>18</span><br><span>19</span><br><span>20</span><br><span>21</span><br><span>22</span><br></pre></td><td data-darkreader-inline-border-top="" data-darkreader-inline-border-right="" data-darkreader-inline-border-bottom="" data-darkreader-inline-border-left=""><pre data-darkreader-inline-bgimage="" data-darkreader-inline-bgcolor="" data-darkreader-inline-color=""><span><span>function</span> <span data-darkreader-inline-color="" data-darkreader-inline-bgimage="" data-darkreader-inline-bgcolor="">Account</span>(<span>{type}</span>) {</span><br><span>  <span>let</span> <span data-darkreader-inline-color="" data-darkreader-inline-bgimage="" data-darkreader-inline-bgcolor="">Component</span> = <span data-darkreader-inline-color="" data-darkreader-inline-bgimage="" data-darkreader-inline-bgcolor="">UsualAccount</span></span><br><span></span><br><span>  <span>if</span> (type === <span data-darkreader-inline-color="">'vip'</span>) {</span><br><span>    <span data-darkreader-inline-color="" data-darkreader-inline-bgimage="" data-darkreader-inline-bgcolor="">Component</span> = <span data-darkreader-inline-color="" data-darkreader-inline-bgimage="" data-darkreader-inline-bgcolor="">VipAccount</span></span><br><span>  }</span><br><span></span><br><span>  <span>if</span> (type === <span data-darkreader-inline-color="">'moderator'</span>) {</span><br><span>    <span data-darkreader-inline-color="" data-darkreader-inline-bgimage="" data-darkreader-inline-bgcolor="">Component</span> = <span data-darkreader-inline-color="" data-darkreader-inline-bgimage="" data-darkreader-inline-bgcolor="">ModeratorAccount</span></span><br><span>  }</span><br><span></span><br><span>  <span>if</span> (type === <span data-darkreader-inline-color="">'admin'</span>) {</span><br><span>    <span data-darkreader-inline-color="" data-darkreader-inline-bgimage="" data-darkreader-inline-bgcolor="">Component</span> = <span data-darkreader-inline-color="" data-darkreader-inline-bgimage="" data-darkreader-inline-bgcolor="">AdminAccount</span></span><br><span>  }</span><br><span></span><br><span>  <span>return</span> (</span><br><span>    <span><span data-darkreader-inline-color="">&lt;<span>div</span> <span data-darkreader-inline-color="">className</span>=<span data-darkreader-inline-color="">'account'</span>&gt;</span></span></span><br><span><span>      <span data-darkreader-inline-color="">&lt;<span>Component</span> /&gt;</span></span></span><br><span><span>      <span data-darkreader-inline-color="">&lt;<span>AccountStatistics</span> /&gt;</span></span></span><br><span><span>    <span data-darkreader-inline-color="">&lt;/<span>div</span>&gt;</span></span></span><br><span>  )</span><br><span>}</span><br></pre></td></tr></tbody></table>

解决方案：

<table><tbody><tr><td data-darkreader-inline-border-top="" data-darkreader-inline-border-right="" data-darkreader-inline-border-bottom="" data-darkreader-inline-border-left="" data-darkreader-inline-bgimage="" data-darkreader-inline-bgcolor=""><pre data-darkreader-inline-bgimage="" data-darkreader-inline-bgcolor="" data-darkreader-inline-color=""><span>1</span><br><span>2</span><br><span>3</span><br><span>4</span><br><span>5</span><br><span>6</span><br><span>7</span><br><span>8</span><br><span>9</span><br><span>10</span><br><span>11</span><br><span>12</span><br><span>13</span><br><span>14</span><br><span>15</span><br><span>16</span><br><span>17</span><br></pre></td><td data-darkreader-inline-border-top="" data-darkreader-inline-border-right="" data-darkreader-inline-border-bottom="" data-darkreader-inline-border-left=""><pre data-darkreader-inline-bgimage="" data-darkreader-inline-bgcolor="" data-darkreader-inline-color=""><span><span>const</span> <span>ACCOUNTS_MAP</span> = {</span><br><span>  <span data-darkreader-inline-color="">'vip'</span>: <span data-darkreader-inline-color="" data-darkreader-inline-bgimage="" data-darkreader-inline-bgcolor="">VipAccount</span>,</span><br><span>  <span data-darkreader-inline-color="">'usual'</span>: <span data-darkreader-inline-color="" data-darkreader-inline-bgimage="" data-darkreader-inline-bgcolor="">UsualAccount</span>,</span><br><span>  <span data-darkreader-inline-color="">'admin'</span>: <span data-darkreader-inline-color="" data-darkreader-inline-bgimage="" data-darkreader-inline-bgcolor="">AdminAccount</span>,</span><br><span>  <span data-darkreader-inline-color="">'moderator'</span>: <span data-darkreader-inline-color="" data-darkreader-inline-bgimage="" data-darkreader-inline-bgcolor="">ModeratorAccount</span>,</span><br><span>}</span><br><span></span><br><span><span>function</span> <span data-darkreader-inline-color="" data-darkreader-inline-bgimage="" data-darkreader-inline-bgcolor="">Account</span>(<span>{type}</span>) {</span><br><span>  <span>const</span> <span data-darkreader-inline-color="" data-darkreader-inline-bgimage="" data-darkreader-inline-bgcolor="">Component</span> = <span>ACCOUNTS_MAP</span>[type]</span><br><span></span><br><span>  <span>return</span> (</span><br><span>    <span><span data-darkreader-inline-color="">&lt;<span>div</span> <span data-darkreader-inline-color="">className</span>=<span data-darkreader-inline-color="">'account'</span>&gt;</span></span></span><br><span><span>      <span data-darkreader-inline-color="">&lt;<span>Component</span> /&gt;</span></span></span><br><span><span>      <span data-darkreader-inline-color="">&lt;<span>AccountStatistics</span> /&gt;</span></span></span><br><span><span>    <span data-darkreader-inline-color="">&lt;/<span>div</span>&gt;</span></span></span><br><span>  )</span><br><span>}</span><br></pre></td></tr></tbody></table>

如果你需要根据变量来显示不同组件，你可以这样实现。  
使用这种简单的策略使组件更具有声明性，简化了代码理解。此外，它使进一步扩展功能变得更加容易。

### 场景3

请阅读代码：

<table><tbody><tr><td data-darkreader-inline-border-top="" data-darkreader-inline-border-right="" data-darkreader-inline-border-bottom="" data-darkreader-inline-border-left="" data-darkreader-inline-bgimage="" data-darkreader-inline-bgcolor=""><pre data-darkreader-inline-bgimage="" data-darkreader-inline-bgcolor="" data-darkreader-inline-color=""><span>1</span><br><span>2</span><br><span>3</span><br><span>4</span><br><span>5</span><br><span>6</span><br><span>7</span><br><span>8</span><br><span>9</span><br><span>10</span><br><span>11</span><br><span>12</span><br><span>13</span><br><span>14</span><br><span>15</span><br><span>16</span><br><span>17</span><br><span>18</span><br><span>19</span><br></pre></td><td data-darkreader-inline-border-top="" data-darkreader-inline-border-right="" data-darkreader-inline-border-bottom="" data-darkreader-inline-border-left=""><pre data-darkreader-inline-bgimage="" data-darkreader-inline-bgcolor="" data-darkreader-inline-color=""><span><span>function</span> <span data-darkreader-inline-color="" data-darkreader-inline-bgimage="" data-darkreader-inline-bgcolor="">useItemsList</span>(<span></span>) {</span><br><span>  <span>const</span> defaultItems = [<span data-darkreader-inline-color="">1</span>, <span data-darkreader-inline-color="">2</span>, <span data-darkreader-inline-color="">3</span>, <span data-darkreader-inline-color="">4</span>, <span data-darkreader-inline-color="">5</span>]</span><br><span>  <span>const</span> [items, setItems] = <span data-darkreader-inline-color="" data-darkreader-inline-bgimage="" data-darkreader-inline-bgcolor="">useState</span>(defaultItems)</span><br><span></span><br><span>  <span>const</span> <span data-darkreader-inline-color="" data-darkreader-inline-bgimage="" data-darkreader-inline-bgcolor="">toggleArrayItem</span> = (<span>arr, val</span>) =&gt; {</span><br><span>    <span>return</span> arr.<span data-darkreader-inline-color="" data-darkreader-inline-bgimage="" data-darkreader-inline-bgcolor="">includes</span>(val) ? arr.<span data-darkreader-inline-color="" data-darkreader-inline-bgimage="" data-darkreader-inline-bgcolor="">filter</span>(<span><span>el</span> =&gt;</span> el !== val) : [...arr, val];</span><br><span>  }</span><br><span></span><br><span>  <span>const</span> <span data-darkreader-inline-color="" data-darkreader-inline-bgimage="" data-darkreader-inline-bgcolor="">handleToggleItem</span> = (<span>num</span>) =&gt; {</span><br><span>    <span>return</span> <span>() =&gt;</span> {</span><br><span>      <span data-darkreader-inline-color="" data-darkreader-inline-bgimage="" data-darkreader-inline-bgcolor="">setItems</span>(<span data-darkreader-inline-color="" data-darkreader-inline-bgimage="" data-darkreader-inline-bgcolor="">toggleArrayItem</span>(items, num))</span><br><span>    }</span><br><span>  }</span><br><span></span><br><span>  <span>return</span> {</span><br><span>    items,</span><br><span>    handleToggleItem,</span><br><span>  }</span><br><span>}</span><br></pre></td></tr></tbody></table>

解决方案：

<table><tbody><tr><td data-darkreader-inline-border-top="" data-darkreader-inline-border-right="" data-darkreader-inline-border-bottom="" data-darkreader-inline-border-left="" data-darkreader-inline-bgimage="" data-darkreader-inline-bgcolor=""><pre data-darkreader-inline-bgimage="" data-darkreader-inline-bgcolor="" data-darkreader-inline-color=""><span>1</span><br><span>2</span><br><span>3</span><br><span>4</span><br><span>5</span><br><span>6</span><br><span>7</span><br><span>8</span><br><span>9</span><br><span>10</span><br><span>11</span><br><span>12</span><br><span>13</span><br><span>14</span><br><span>15</span><br><span>16</span><br><span>17</span><br><span>18</span><br><span>19</span><br><span>20</span><br><span>21</span><br><span>22</span><br></pre></td><td data-darkreader-inline-border-top="" data-darkreader-inline-border-right="" data-darkreader-inline-border-bottom="" data-darkreader-inline-border-left=""><pre data-darkreader-inline-bgimage="" data-darkreader-inline-bgcolor="" data-darkreader-inline-color=""><span><span>const</span> <span>DEFAULT_ITEMS</span> = [</span><br><span>  <span data-darkreader-inline-color="">1</span>, <span data-darkreader-inline-color="">2</span>, <span data-darkreader-inline-color="">3</span>, <span data-darkreader-inline-color="">4</span>, <span data-darkreader-inline-color="">5</span></span><br><span>]</span><br><span></span><br><span><span>const</span> <span data-darkreader-inline-color="" data-darkreader-inline-bgimage="" data-darkreader-inline-bgcolor="">toggleArrayItem</span> = (<span>arr, val</span>) =&gt; {</span><br><span>  <span>return</span> arr.<span data-darkreader-inline-color="" data-darkreader-inline-bgimage="" data-darkreader-inline-bgcolor="">includes</span>(val) ? arr.<span data-darkreader-inline-color="" data-darkreader-inline-bgimage="" data-darkreader-inline-bgcolor="">filter</span>(<span><span>el</span> =&gt;</span> el !== val) : [...arr, val];</span><br><span>}</span><br><span></span><br><span><span>function</span> <span data-darkreader-inline-color="" data-darkreader-inline-bgimage="" data-darkreader-inline-bgcolor="">useItemsList</span>(<span></span>) {</span><br><span>  <span>const</span> [items, setItems] = <span data-darkreader-inline-color="" data-darkreader-inline-bgimage="" data-darkreader-inline-bgcolor="">useState</span>(<span>DEFAULT_ITEMS</span>)</span><br><span></span><br><span>  <span>const</span> <span data-darkreader-inline-color="" data-darkreader-inline-bgimage="" data-darkreader-inline-bgcolor="">handleToggleItem</span> = (<span>num</span>) =&gt; {</span><br><span>    <span>return</span> <span>() =&gt;</span> {</span><br><span>      <span data-darkreader-inline-color="" data-darkreader-inline-bgimage="" data-darkreader-inline-bgcolor="">setItems</span>(<span data-darkreader-inline-color="" data-darkreader-inline-bgimage="" data-darkreader-inline-bgcolor="">toggleArrayItem</span>(items, num))</span><br><span>    }</span><br><span>  }</span><br><span></span><br><span>  <span>return</span> {</span><br><span>    items,</span><br><span>    handleToggleItem,</span><br><span>  }</span><br><span>}</span><br></pre></td></tr></tbody></table>

我们的想法是将不需要React组件生命周期方法的逻辑与组件本身分开。  
这通过使依赖关系更加明确来提高代码的清晰度。因此，阅读和理解组件变得更加容易。

> https://medium.com/javascript-in-plain-english/4-react-tips-to-instantly-improve-your-code-7456e028cfa3#fd60