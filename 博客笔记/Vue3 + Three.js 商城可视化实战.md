### 实战目的

根据不同的产品配合接口展示相应的描述。根据选择的场景及其物品实现可视化的产品展示效果。效果展示

> 支持不同位置展示不同描述：配合数据配置渲染不同桢的效果

![Image](https://mmbiz.qpic.cn/sz_mmbiz_gif/9Z5K66tFPiax49af9tF6YQg4iaFwUckibQYVHaeGpbjcvEzpL0QAIHjMTmG9oF6KnyzmMSP7Qia6SO5yzUV9swPxew/640?wx_fmt=gif&from=appmsg&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1)

> 根据选中的产品，切换相应产品效果

![Image](https://mmbiz.qpic.cn/sz_mmbiz_gif/9Z5K66tFPiax49af9tF6YQg4iaFwUckibQYXn99Wn7TRicI0XRoIWzKosoqO32eHWtAk9jMgO1zDELgElvlxzMPHyA/640?wx_fmt=gif&from=appmsg&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1)

> 根据选中场景，切换相应的场景

![Image](data:image/svg+xml,%3C%3Fxml version='1.0' encoding='UTF-8'%3F%3E%3Csvg width='1px' height='1px' viewBox='0 0 1 1' version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'%3E%3Ctitle%3E%3C/title%3E%3Cg stroke='none' stroke-width='1' fill='none' fill-rule='evenodd' fill-opacity='0'%3E%3Cg transform='translate(-249.000000, -126.000000)' fill='%23FFFFFF'%3E%3Crect x='249' y='126' width='1' height='1'%3E%3C/rect%3E%3C/g%3E%3C/g%3E%3C/svg%3E)

### 实现思路

> 封装一个Three的函数，支持设置相机、场景、渲染函数，添加模型解析器，添加物品，整合渲染效果，添加事件监听，完善模型动画展示

![Image](data:image/svg+xml,%3C%3Fxml version='1.0' encoding='UTF-8'%3F%3E%3Csvg width='1px' height='1px' viewBox='0 0 1 1' version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'%3E%3Ctitle%3E%3C/title%3E%3Cg stroke='none' stroke-width='1' fill='none' fill-rule='evenodd' fill-opacity='0'%3E%3Cg transform='translate(-249.000000, -126.000000)' fill='%23FFFFFF'%3E%3Crect x='249' y='126' width='1' height='1'%3E%3C/rect%3E%3C/g%3E%3C/g%3E%3C/svg%3E)

### 具体实现

> 使用vite搭建一个项目，后安装Three支持，进行具体实现

#### 准备vue项目

-   使用Vite + Vue<sup data-darkreader-inline-color="">[1]</sup> 搭建
    

```
<span data-darkreader-inline-bgcolor=""></span><code data-darkreader-inline-color="" data-darkreader-inline-bgimage="" data-darkreader-inline-bgcolor=""><span data-darkreader-inline-color="">#&nbsp;npm&nbsp;6.x</span><br>npm&nbsp;init&nbsp;vite@latest&nbsp;my-vue-app&nbsp;--template&nbsp;vue<br><br><span data-darkreader-inline-color=""># npm 7+, 需要额外的双横线：</span><br>npm&nbsp;init&nbsp;vite@latest&nbsp;my-vue-app&nbsp;--&nbsp;--template&nbsp;vue<br><br><span data-darkreader-inline-color="">#&nbsp;yarn</span><br>yarn&nbsp;create&nbsp;vite&nbsp;my-vue-app&nbsp;--template&nbsp;vue<br><br><span data-darkreader-inline-color="">#&nbsp;pnpm</span><br>pnpm&nbsp;create&nbsp;vite&nbsp;my-vue-app&nbsp;--&nbsp;--template&nbsp;vue<br></code>
```

-   根据自己的环境选择自己的搭建代码
    

```
<span data-darkreader-inline-bgcolor=""></span><code data-darkreader-inline-color="" data-darkreader-inline-bgimage="" data-darkreader-inline-bgcolor="">npm&nbsp;init&nbsp;vite@latest&nbsp;my-vue-app&nbsp;--&nbsp;--template&nbsp;vue<br></code>
```

-   根据提示创建项目
    

![Image](data:image/svg+xml,%3C%3Fxml version='1.0' encoding='UTF-8'%3F%3E%3Csvg width='1px' height='1px' viewBox='0 0 1 1' version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'%3E%3Ctitle%3E%3C/title%3E%3Cg stroke='none' stroke-width='1' fill='none' fill-rule='evenodd' fill-opacity='0'%3E%3Cg transform='translate(-249.000000, -126.000000)' fill='%23FFFFFF'%3E%3Crect x='249' y='126' width='1' height='1'%3E%3C/rect%3E%3C/g%3E%3C/g%3E%3C/svg%3E)

![Image](data:image/svg+xml,%3C%3Fxml version='1.0' encoding='UTF-8'%3F%3E%3Csvg width='1px' height='1px' viewBox='0 0 1 1' version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'%3E%3Ctitle%3E%3C/title%3E%3Cg stroke='none' stroke-width='1' fill='none' fill-rule='evenodd' fill-opacity='0'%3E%3Cg transform='translate(-249.000000, -126.000000)' fill='%23FFFFFF'%3E%3Crect x='249' y='126' width='1' height='1'%3E%3C/rect%3E%3C/g%3E%3C/g%3E%3C/svg%3E)

-   确认项目正常访问
    

![Image](data:image/svg+xml,%3C%3Fxml version='1.0' encoding='UTF-8'%3F%3E%3Csvg width='1px' height='1px' viewBox='0 0 1 1' version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'%3E%3Ctitle%3E%3C/title%3E%3Cg stroke='none' stroke-width='1' fill='none' fill-rule='evenodd' fill-opacity='0'%3E%3Cg transform='translate(-249.000000, -126.000000)' fill='%23FFFFFF'%3E%3Crect x='249' y='126' width='1' height='1'%3E%3C/rect%3E%3C/g%3E%3C/g%3E%3C/svg%3E)

#### 安装 Three

```
<span data-darkreader-inline-bgcolor=""></span><code data-darkreader-inline-color="" data-darkreader-inline-bgimage="" data-darkreader-inline-bgcolor="">npm&nbsp;install&nbsp;--save&nbsp;three<br></code>
```

![Image](data:image/svg+xml,%3C%3Fxml version='1.0' encoding='UTF-8'%3F%3E%3Csvg width='1px' height='1px' viewBox='0 0 1 1' version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'%3E%3Ctitle%3E%3C/title%3E%3Cg stroke='none' stroke-width='1' fill='none' fill-rule='evenodd' fill-opacity='0'%3E%3Cg transform='translate(-249.000000, -126.000000)' fill='%23FFFFFF'%3E%3Crect x='249' y='126' width='1' height='1'%3E%3C/rect%3E%3C/g%3E%3C/g%3E%3C/svg%3E)

#### 删除无用代码，添加渲染节点

> 增加一个场景展示的div，用于渲染3D信息

![Image](data:image/svg+xml,%3C%3Fxml version='1.0' encoding='UTF-8'%3F%3E%3Csvg width='1px' height='1px' viewBox='0 0 1 1' version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'%3E%3Ctitle%3E%3C/title%3E%3Cg stroke='none' stroke-width='1' fill='none' fill-rule='evenodd' fill-opacity='0'%3E%3Cg transform='translate(-249.000000, -126.000000)' fill='%23FFFFFF'%3E%3Crect x='249' y='126' width='1' height='1'%3E%3C/rect%3E%3C/g%3E%3C/g%3E%3C/svg%3E)

### Three 实战

#### 加载场景及控制器

##### 初始化场景HDR图片

```
<span data-darkreader-inline-bgcolor=""></span><code data-darkreader-inline-color="" data-darkreader-inline-bgimage="" data-darkreader-inline-bgcolor=""><span data-darkreader-inline-color="">//&nbsp;初始化场景</span><br>&nbsp;&nbsp;initScene()&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;<span data-darkreader-inline-color="">this</span>.scene&nbsp;=&nbsp;<span data-darkreader-inline-color="">new</span>&nbsp;THREE.Scene();<br>&nbsp;&nbsp;&nbsp;&nbsp;<span data-darkreader-inline-color="">this</span>.setEnvMap(<span data-darkreader-inline-color="">"001"</span>);<br>&nbsp;&nbsp;}<br>&nbsp;<span data-darkreader-inline-color="">//&nbsp;场景设置</span><br>&nbsp;&nbsp;setEnvMap(hdr)&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;<span data-darkreader-inline-color="">new</span>&nbsp;RGBELoader().setPath(<span data-darkreader-inline-color="">"./hdr/"</span>).load(<span data-darkreader-inline-color="">`<span data-darkreader-inline-color="">${hdr}</span>.hdr`</span>,&nbsp;(texture)&nbsp;=&gt;&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;texture.mapping&nbsp;=&nbsp;THREE.EquirectangularRefractionMapping;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span data-darkreader-inline-color="">this</span>.scene.background&nbsp;=&nbsp;texture;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span data-darkreader-inline-color="">this</span>.scene.environment&nbsp;=&nbsp;texture;<br>&nbsp;&nbsp;&nbsp;&nbsp;});<br>&nbsp;&nbsp;}<br></code>
```

##### 确定相机位置

```
<span data-darkreader-inline-bgcolor=""></span><code data-darkreader-inline-color="" data-darkreader-inline-bgimage="" data-darkreader-inline-bgcolor="">&nbsp;initCamera()&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;<span data-darkreader-inline-color="">this</span>.camera&nbsp;=&nbsp;<span data-darkreader-inline-color="">new</span>&nbsp;THREE.PerspectiveCamera(<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span data-darkreader-inline-color="">45</span>,&nbsp;<span data-darkreader-inline-color="">//&nbsp;角度</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span data-darkreader-inline-color="">window</span>.innerWidth&nbsp;/&nbsp;<span data-darkreader-inline-color="">window</span>.innerHeight,&nbsp;<span data-darkreader-inline-color="">//&nbsp;比例</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span data-darkreader-inline-color="">0.25</span>,&nbsp;<span data-darkreader-inline-color="">//&nbsp;近</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span data-darkreader-inline-color="">200</span>&nbsp;<span data-darkreader-inline-color="">//&nbsp;远</span><br>&nbsp;&nbsp;&nbsp;&nbsp;);<br>&nbsp;&nbsp;&nbsp;&nbsp;<span data-darkreader-inline-color="">//&nbsp;相机位置</span><br>&nbsp;&nbsp;&nbsp;&nbsp;<span data-darkreader-inline-color="">this</span>.camera.position.set(<span data-darkreader-inline-color="">-1.8</span>,&nbsp;<span data-darkreader-inline-color="">0.6</span>,&nbsp;<span data-darkreader-inline-color="">2.7</span>);<br>&nbsp;&nbsp;}<br></code>
```

##### 渲染：根据相机位置和场景图渲染初始画面

```
<span data-darkreader-inline-bgcolor=""></span><code data-darkreader-inline-color="" data-darkreader-inline-bgimage="" data-darkreader-inline-bgcolor="">render()&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;<span data-darkreader-inline-color="">this</span>.renderer.render(<span data-darkreader-inline-color="">this</span>.scene,&nbsp;<span data-darkreader-inline-color="">this</span>.camera);<br>}<br></code>
```

##### 动画：渲染初始画面

```
<span data-darkreader-inline-bgcolor=""></span><code data-darkreader-inline-color="" data-darkreader-inline-bgimage="" data-darkreader-inline-bgcolor="">animate()&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;<span data-darkreader-inline-color="">this</span>.renderer.setAnimationLoop(<span data-darkreader-inline-color="">this</span>.render.bind(<span data-darkreader-inline-color="">this</span>));<br>}<br></code>
```

> 此时，这个页面只能展示出部分的静态画面，要想通过鼠标控制相机的位置，则需要增加控制器

![Image](data:image/svg+xml,%3C%3Fxml version='1.0' encoding='UTF-8'%3F%3E%3Csvg width='1px' height='1px' viewBox='0 0 1 1' version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'%3E%3Ctitle%3E%3C/title%3E%3Cg stroke='none' stroke-width='1' fill='none' fill-rule='evenodd' fill-opacity='0'%3E%3Cg transform='translate(-249.000000, -126.000000)' fill='%23FFFFFF'%3E%3Crect x='249' y='126' width='1' height='1'%3E%3C/rect%3E%3C/g%3E%3C/g%3E%3C/svg%3E)

##### 引入控制器

```
<span data-darkreader-inline-bgcolor=""></span><code data-darkreader-inline-color="" data-darkreader-inline-bgimage="" data-darkreader-inline-bgcolor=""><span data-darkreader-inline-color="">//&nbsp;控制器</span><br>&nbsp;&nbsp;initControls()&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;<span data-darkreader-inline-color="">this</span>.controls&nbsp;=&nbsp;<span data-darkreader-inline-color="">new</span>&nbsp;OrbitControls(<span data-darkreader-inline-color="">this</span>.camera,&nbsp;<span data-darkreader-inline-color="">this</span>.renderer.domElement);<br>&nbsp;&nbsp;}<br></code>
```

> 加入控制器后，则可以通过鼠标的滑动控制相机的角度

![Image](data:image/svg+xml,%3C%3Fxml version='1.0' encoding='UTF-8'%3F%3E%3Csvg width='1px' height='1px' viewBox='0 0 1 1' version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'%3E%3Ctitle%3E%3C/title%3E%3Cg stroke='none' stroke-width='1' fill='none' fill-rule='evenodd' fill-opacity='0'%3E%3Cg transform='translate(-249.000000, -126.000000)' fill='%23FFFFFF'%3E%3Crect x='249' y='126' width='1' height='1'%3E%3C/rect%3E%3C/g%3E%3C/g%3E%3C/svg%3E)

#### 增加产品模型

##### 引入模型解析器

```
<span data-darkreader-inline-bgcolor=""></span><code data-darkreader-inline-color="" data-darkreader-inline-bgimage="" data-darkreader-inline-bgcolor=""><span data-darkreader-inline-color="">import</span>&nbsp;{&nbsp;GLTFLoader&nbsp;}&nbsp;<span data-darkreader-inline-color="">from</span>&nbsp;<span data-darkreader-inline-color="">"three/examples/jsm/loaders/GLTFLoader"</span>;<br></code>
```

##### 添加模型到场景里

```
<span data-darkreader-inline-bgcolor=""></span><code data-darkreader-inline-color="" data-darkreader-inline-bgimage="" data-darkreader-inline-bgcolor="">setModel(modelName)&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;<span data-darkreader-inline-color="">const</span>&nbsp;loader&nbsp;=&nbsp;<span data-darkreader-inline-color="">new</span>&nbsp;GLTFLoader().setPath(<span data-darkreader-inline-color="">"/gltf/"</span>);<br>&nbsp;&nbsp;&nbsp;&nbsp;loader.load(modelName,&nbsp;(gltf)&nbsp;=&gt;&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span data-darkreader-inline-color="">this</span>.model&nbsp;=&nbsp;gltf.scene.children[<span data-darkreader-inline-color="">0</span>];<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span data-darkreader-inline-color="">this</span>.scene.add(gltf.scene);<br>&nbsp;&nbsp;&nbsp;&nbsp;});<br>&nbsp;&nbsp;}<br>&nbsp;&nbsp;<span data-darkreader-inline-color="">//&nbsp;添加模型</span><br>&nbsp;&nbsp;<span data-darkreader-inline-color="">async</span>&nbsp;addMesh()&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;<span data-darkreader-inline-color="">let</span>&nbsp;res&nbsp;=&nbsp;<span data-darkreader-inline-color="">await</span>&nbsp;<span data-darkreader-inline-color="">this</span>.setModel(<span data-darkreader-inline-color="">"bag2.glb"</span>);<br>&nbsp;&nbsp;}<br></code>
```

> 模型已经加入到场景里，但是模型不在场景中间🤔️，模型比较亮，真实物品看不清楚

![Image](data:image/svg+xml,%3C%3Fxml version='1.0' encoding='UTF-8'%3F%3E%3Csvg width='1px' height='1px' viewBox='0 0 1 1' version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'%3E%3Ctitle%3E%3C/title%3E%3Cg stroke='none' stroke-width='1' fill='none' fill-rule='evenodd' fill-opacity='0'%3E%3Cg transform='translate(-249.000000, -126.000000)' fill='%23FFFFFF'%3E%3Crect x='249' y='126' width='1' height='1'%3E%3C/rect%3E%3C/g%3E%3C/g%3E%3C/svg%3E)

> 打印一下模型解析后的数据，我们可以看到模型有自己的相机场景动画等信息，我们可以把当前相应的设置调整成模型的设置

![Image](data:image/svg+xml,%3C%3Fxml version='1.0' encoding='UTF-8'%3F%3E%3Csvg width='1px' height='1px' viewBox='0 0 1 1' version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'%3E%3Ctitle%3E%3C/title%3E%3Cg stroke='none' stroke-width='1' fill='none' fill-rule='evenodd' fill-opacity='0'%3E%3Cg transform='translate(-249.000000, -126.000000)' fill='%23FFFFFF'%3E%3Crect x='249' y='126' width='1' height='1'%3E%3C/rect%3E%3C/g%3E%3C/g%3E%3C/svg%3E)

##### 模型调整

-   调整相机为模型相机
    

```
<span data-darkreader-inline-bgcolor=""></span><code data-darkreader-inline-color="" data-darkreader-inline-bgimage="" data-darkreader-inline-bgcolor="">setModel(modelName)&nbsp;{<br>...<br><span data-darkreader-inline-color="">//&nbsp;修改相机为模型相机</span><br><span data-darkreader-inline-color="">this</span>.camera&nbsp;=&nbsp;gltf.cameras[<span data-darkreader-inline-color="">0</span>];<br>...<br>}<br></code>
```

> 调整后模型位置在画面中间

![Image](data:image/svg+xml,%3C%3Fxml version='1.0' encoding='UTF-8'%3F%3E%3Csvg width='1px' height='1px' viewBox='0 0 1 1' version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'%3E%3Ctitle%3E%3C/title%3E%3Cg stroke='none' stroke-width='1' fill='none' fill-rule='evenodd' fill-opacity='0'%3E%3Cg transform='translate(-249.000000, -126.000000)' fill='%23FFFFFF'%3E%3Crect x='249' y='126' width='1' height='1'%3E%3C/rect%3E%3C/g%3E%3C/g%3E%3C/svg%3E)

-   调整场景其他配置
    

```
<span data-darkreader-inline-bgcolor=""></span><code data-darkreader-inline-color="" data-darkreader-inline-bgimage="" data-darkreader-inline-bgcolor=""><span data-darkreader-inline-color="">//&nbsp;设置模型</span><br>&nbsp;&nbsp;setModel(modelName)&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;<span data-darkreader-inline-color="">return</span>&nbsp;<span data-darkreader-inline-color="">new</span>&nbsp;<span data-darkreader-inline-color="">Promise</span>(<span>(<span>resolve,&nbsp;reject</span>)&nbsp;=&gt;</span>&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span data-darkreader-inline-color="">const</span>&nbsp;loader&nbsp;=&nbsp;<span data-darkreader-inline-color="">new</span>&nbsp;GLTFLoader().setPath(<span data-darkreader-inline-color="">"./gltf/"</span>);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;loader.load(modelName,&nbsp;(gltf)&nbsp;=&gt;&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span data-darkreader-inline-color="">console</span>.log(gltf);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span data-darkreader-inline-color="">this</span>.model&nbsp;&amp;&amp;&nbsp;<span data-darkreader-inline-color="">this</span>.model.removeFromParent();<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span data-darkreader-inline-color="">this</span>.model&nbsp;=&nbsp;gltf.scene.children[<span data-darkreader-inline-color="">0</span>];<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span data-darkreader-inline-color="">if</span>&nbsp;(modelName&nbsp;===&nbsp;<span data-darkreader-inline-color="">"bag2.glb"</span>&nbsp;&amp;&amp;&nbsp;!<span data-darkreader-inline-color="">this</span>.dish)&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span data-darkreader-inline-color="">this</span>.dish&nbsp;=&nbsp;gltf.scene.children[<span data-darkreader-inline-color="">5</span>];<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span data-darkreader-inline-color="">//&nbsp;修改相机为模型相机</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span data-darkreader-inline-color="">this</span>.camera&nbsp;=&nbsp;gltf.cameras[<span data-darkreader-inline-color="">0</span>];<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span data-darkreader-inline-color="">//&nbsp;调用动画</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span data-darkreader-inline-color="">this</span>.mixer&nbsp;=&nbsp;<span data-darkreader-inline-color="">new</span>&nbsp;THREE.AnimationMixer(gltf.scene.children[<span data-darkreader-inline-color="">1</span>]);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span data-darkreader-inline-color="">this</span>.animateAction&nbsp;=&nbsp;<span data-darkreader-inline-color="">this</span>.mixer.clipAction(gltf.animations[<span data-darkreader-inline-color="">0</span>]);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span data-darkreader-inline-color="">//&nbsp;设置动画播放时长</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span data-darkreader-inline-color="">this</span>.animateAction.setDuration(<span data-darkreader-inline-color="">20</span>).setLoop(THREE.LoopOnce);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span data-darkreader-inline-color="">//&nbsp;设置播放后停止</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span data-darkreader-inline-color="">this</span>.animateAction.clampWhenFinished&nbsp;=&nbsp;<span data-darkreader-inline-color="">true</span>;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span data-darkreader-inline-color="">//&nbsp;&nbsp;&nbsp;设置灯光</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span data-darkreader-inline-color="">this</span>.spotlight1&nbsp;=&nbsp;gltf.scene.children[<span data-darkreader-inline-color="">2</span>].children[<span data-darkreader-inline-color="">0</span>];<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span data-darkreader-inline-color="">this</span>.spotlight1.intensity&nbsp;=&nbsp;<span data-darkreader-inline-color="">1</span>;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span data-darkreader-inline-color="">this</span>.spotlight2&nbsp;=&nbsp;gltf.scene.children[<span data-darkreader-inline-color="">3</span>].children[<span data-darkreader-inline-color="">0</span>];<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span data-darkreader-inline-color="">this</span>.spotlight2.intensity&nbsp;=&nbsp;<span data-darkreader-inline-color="">1</span>;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span data-darkreader-inline-color="">this</span>.spotlight3&nbsp;=&nbsp;gltf.scene.children[<span data-darkreader-inline-color="">4</span>].children[<span data-darkreader-inline-color="">0</span>];<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span data-darkreader-inline-color="">this</span>.spotlight3.intensity&nbsp;=&nbsp;<span data-darkreader-inline-color="">1</span>;<br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span data-darkreader-inline-color="">//&nbsp;this.scene.add(this.dish);</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span data-darkreader-inline-color="">this</span>.scene.add(gltf.scene);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;resolve(<span data-darkreader-inline-color="">`<span data-darkreader-inline-color="">${<span data-darkreader-inline-color="">this</span>.modelName}</span>模型添加成功`</span>);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;});<br>&nbsp;&nbsp;&nbsp;&nbsp;});<br>&nbsp;&nbsp;}<br></code>
```

> 调整参数后的产品展示效果

![Image](data:image/svg+xml,%3C%3Fxml version='1.0' encoding='UTF-8'%3F%3E%3Csvg width='1px' height='1px' viewBox='0 0 1 1' version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'%3E%3Ctitle%3E%3C/title%3E%3Cg stroke='none' stroke-width='1' fill='none' fill-rule='evenodd' fill-opacity='0'%3E%3Cg transform='translate(-249.000000, -126.000000)' fill='%23FFFFFF'%3E%3Crect x='249' y='126' width='1' height='1'%3E%3C/rect%3E%3C/g%3E%3C/g%3E%3C/svg%3E)

-   定时器和滚轮监听动画
    

```
<span data-darkreader-inline-bgcolor=""></span><code data-darkreader-inline-color="" data-darkreader-inline-bgimage="" data-darkreader-inline-bgcolor=""><span data-darkreader-inline-color="">//&nbsp;添加定时器</span><br>render()&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;<span data-darkreader-inline-color="">var</span>&nbsp;delta&nbsp;=&nbsp;<span data-darkreader-inline-color="">this</span>.clock.getDelta();<br>&nbsp;&nbsp;&nbsp;&nbsp;<span data-darkreader-inline-color="">this</span>.mixer&nbsp;&amp;&amp;&nbsp;<span data-darkreader-inline-color="">this</span>.mixer.update(delta);<br>&nbsp;&nbsp;&nbsp;&nbsp;<span data-darkreader-inline-color="">this</span>.renderer.render(<span data-darkreader-inline-color="">this</span>.scene,&nbsp;<span data-darkreader-inline-color="">this</span>.camera);<br>&nbsp;}<br>&nbsp;&nbsp;<br><span data-darkreader-inline-color="">//&nbsp;监听滚轮事件</span><br>&nbsp;&nbsp;&nbsp;&nbsp;<span data-darkreader-inline-color="">window</span>.addEventListener(<span data-darkreader-inline-color="">"mousewheel"</span>,&nbsp;<span data-darkreader-inline-color="">this</span>.onMouseWheel.bind(<span data-darkreader-inline-color="">this</span>));<br>&nbsp;&nbsp;&nbsp;&nbsp;<br><span data-darkreader-inline-color="">//&nbsp;监听滚轮事件</span><br>&nbsp;&nbsp;onMouseWheel(e)&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;<span data-darkreader-inline-color="">let</span>&nbsp;timeScale&nbsp;=&nbsp;e.deltaY&nbsp;&gt;&nbsp;<span data-darkreader-inline-color="">0</span>&nbsp;?&nbsp;<span data-darkreader-inline-color="">1</span>&nbsp;:&nbsp;<span data-darkreader-inline-color="">-1</span>;<br>&nbsp;&nbsp;&nbsp;&nbsp;<span data-darkreader-inline-color="">this</span>.animateAction.setEffectiveTimeScale(timeScale);<br>&nbsp;&nbsp;&nbsp;&nbsp;<span data-darkreader-inline-color="">this</span>.animateAction.paused&nbsp;=&nbsp;<span data-darkreader-inline-color="">false</span>;<br>&nbsp;&nbsp;&nbsp;&nbsp;<span data-darkreader-inline-color="">this</span>.animateAction.play();<br>&nbsp;&nbsp;&nbsp;&nbsp;<span data-darkreader-inline-color="">if</span>&nbsp;(<span data-darkreader-inline-color="">this</span>.timeoutId)&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;clearTimeout(<span data-darkreader-inline-color="">this</span>.timeoutId);<br>&nbsp;&nbsp;&nbsp;&nbsp;}<br>&nbsp;&nbsp;&nbsp;&nbsp;<span data-darkreader-inline-color="">this</span>.timeoutId&nbsp;=&nbsp;setTimeout(<span><span>()</span>&nbsp;=&gt;</span>&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span data-darkreader-inline-color="">this</span>.animateAction.halt(<span data-darkreader-inline-color="">0.3</span>);<br>&nbsp;&nbsp;&nbsp;&nbsp;},&nbsp;<span data-darkreader-inline-color="">300</span>);<br>&nbsp;&nbsp;}<br></code>
```

> 场景和产品模型都添加成功，结合动画，可以进行产品的预览

![Image](data:image/svg+xml,%3C%3Fxml version='1.0' encoding='UTF-8'%3F%3E%3Csvg width='1px' height='1px' viewBox='0 0 1 1' version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'%3E%3Ctitle%3E%3C/title%3E%3Cg stroke='none' stroke-width='1' fill='none' fill-rule='evenodd' fill-opacity='0'%3E%3Cg transform='translate(-249.000000, -126.000000)' fill='%23FFFFFF'%3E%3Crect x='249' y='126' width='1' height='1'%3E%3C/rect%3E%3C/g%3E%3C/g%3E%3C/svg%3E)

#### 添加窗口监听事件

> 调整页面窗口时，保证场景的全屏展示

```
<span data-darkreader-inline-bgcolor=""></span><code data-darkreader-inline-color="" data-darkreader-inline-bgimage="" data-darkreader-inline-bgcolor=""><span data-darkreader-inline-color="">//&nbsp;监听场景大小改变，调整渲染尺寸</span><br>&nbsp;&nbsp;<span data-darkreader-inline-color="">window</span>.addEventListener(<span data-darkreader-inline-color="">"resize"</span>,&nbsp;<span data-darkreader-inline-color="">this</span>.onWindowResize.bind(<span data-darkreader-inline-color="">this</span>));<br><span data-darkreader-inline-color="">//&nbsp;监听尺寸</span><br>&nbsp;&nbsp;onWindowResize()&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;<span data-darkreader-inline-color="">this</span>.camera.aspect&nbsp;=&nbsp;<span data-darkreader-inline-color="">window</span>.innerWidth&nbsp;/&nbsp;<span data-darkreader-inline-color="">window</span>.innerHeight;<br>&nbsp;&nbsp;&nbsp;&nbsp;<span data-darkreader-inline-color="">this</span>.camera.updateProjectionMatrix();<br>&nbsp;&nbsp;&nbsp;&nbsp;<span data-darkreader-inline-color="">this</span>.renderer.setSize(<span data-darkreader-inline-color="">window</span>.innerWidth,&nbsp;<span data-darkreader-inline-color="">window</span>.innerHeight);<br>&nbsp;&nbsp;}<br></code>
```

#### 优化加载

> 模型加载成功后在展示

```
<span data-darkreader-inline-bgcolor=""></span><code data-darkreader-inline-color="" data-darkreader-inline-bgimage="" data-darkreader-inline-bgcolor="">&nbsp;<span data-darkreader-inline-color="">constructor</span>(selector,&nbsp;onFinish)&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;<span data-darkreader-inline-color="">this</span>.onFinish&nbsp;=&nbsp;onFinish;<br>&nbsp;&nbsp;}<br><span data-darkreader-inline-color="">//&nbsp;添加物品增加回调函数</span><br><span data-darkreader-inline-color="">async</span>&nbsp;addMesh()&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;<span data-darkreader-inline-color="">let</span>&nbsp;res&nbsp;=&nbsp;<span data-darkreader-inline-color="">await</span>&nbsp;<span data-darkreader-inline-color="">this</span>.setModel(<span data-darkreader-inline-color="">"bag2.glb"</span>);<br>&nbsp;&nbsp;&nbsp;&nbsp;<span data-darkreader-inline-color="">this</span>.onFinish(res);<br>}<br></code>
```

#### 增加商品的介绍

> 根据duration和time 计算当前处于哪部门节点

![Image](data:image/svg+xml,%3C%3Fxml version='1.0' encoding='UTF-8'%3F%3E%3Csvg width='1px' height='1px' viewBox='0 0 1 1' version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'%3E%3Ctitle%3E%3C/title%3E%3Cg stroke='none' stroke-width='1' fill='none' fill-rule='evenodd' fill-opacity='0'%3E%3Cg transform='translate(-249.000000, -126.000000)' fill='%23FFFFFF'%3E%3Crect x='249' y='126' width='1' height='1'%3E%3C/rect%3E%3C/g%3E%3C/g%3E%3C/svg%3E)

![Image](data:image/svg+xml,%3C%3Fxml version='1.0' encoding='UTF-8'%3F%3E%3Csvg width='1px' height='1px' viewBox='0 0 1 1' version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'%3E%3Ctitle%3E%3C/title%3E%3Cg stroke='none' stroke-width='1' fill='none' fill-rule='evenodd' fill-opacity='0'%3E%3Cg transform='translate(-249.000000, -126.000000)' fill='%23FFFFFF'%3E%3Crect x='249' y='126' width='1' height='1'%3E%3C/rect%3E%3C/g%3E%3C/g%3E%3C/svg%3E)

```
<span data-darkreader-inline-bgcolor=""></span><code data-darkreader-inline-color="" data-darkreader-inline-bgimage="" data-darkreader-inline-bgcolor=""><span data-darkreader-inline-color="">window</span>.addEventListener(<span data-darkreader-inline-color="">"mousewheel"</span>,&nbsp;(e)&nbsp;=&gt;&nbsp;{<br>&nbsp;&nbsp;<span data-darkreader-inline-color="">let</span>&nbsp;duration&nbsp;=&nbsp;data.base3d.animateAction._clip.duration;<br>&nbsp;&nbsp;<span data-darkreader-inline-color="">let</span>&nbsp;time&nbsp;=&nbsp;data.base3d.animateAction.time;<br>&nbsp;&nbsp;<span data-darkreader-inline-color="">let</span>&nbsp;index&nbsp;=&nbsp;<span data-darkreader-inline-color="">Math</span>.floor((time&nbsp;/&nbsp;duration)&nbsp;*&nbsp;<span data-darkreader-inline-color="">4</span>);<br>&nbsp;&nbsp;data.descIndex&nbsp;=&nbsp;index;<br>});<br></code>
```

![Image](data:image/svg+xml,%3C%3Fxml version='1.0' encoding='UTF-8'%3F%3E%3Csvg width='1px' height='1px' viewBox='0 0 1 1' version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'%3E%3Ctitle%3E%3C/title%3E%3Cg stroke='none' stroke-width='1' fill='none' fill-rule='evenodd' fill-opacity='0'%3E%3Cg transform='translate(-249.000000, -126.000000)' fill='%23FFFFFF'%3E%3Crect x='249' y='126' width='1' height='1'%3E%3C/rect%3E%3C/g%3E%3C/g%3E%3C/svg%3E)

#### 增加选择场景和产品

##### 创建数据增加操作的dom

```
<span data-darkreader-inline-bgcolor=""></span><code data-darkreader-inline-color="" data-darkreader-inline-bgimage="" data-darkreader-inline-bgcolor=""><span>&lt;<span data-darkreader-inline-color="">template</span>&gt;</span><br>&nbsp;&nbsp;<span>&lt;<span data-darkreader-inline-color="">div</span>&nbsp;<span data-darkreader-inline-color="">class</span>=<span data-darkreader-inline-color="">"loading"</span>&nbsp;<span data-darkreader-inline-color="">v-show</span>=<span data-darkreader-inline-color="">"data.isLoading"</span>&gt;</span><br>&nbsp;&nbsp;&nbsp;&nbsp;<span>&lt;<span data-darkreader-inline-color="">Loading</span>&nbsp;<span data-darkreader-inline-color="">:progress</span>=<span data-darkreader-inline-color="">"data.progress"</span>&gt;</span><span>&lt;/<span data-darkreader-inline-color="">Loading</span>&gt;</span><br>&nbsp;&nbsp;<span>&lt;/<span data-darkreader-inline-color="">div</span>&gt;</span><br>&nbsp;&nbsp;<span>&lt;<span data-darkreader-inline-color="">div</span>&nbsp;<span data-darkreader-inline-color="">class</span>=<span data-darkreader-inline-color="">"product"</span>&nbsp;<span data-darkreader-inline-color="">id</span>=<span data-darkreader-inline-color="">"product"</span>&nbsp;<span data-darkreader-inline-color="">v-show</span>=<span data-darkreader-inline-color="">"!data.isLoading"</span>&gt;</span><br>&nbsp;&nbsp;&nbsp;&nbsp;<span>&lt;<span data-darkreader-inline-color="">div</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span data-darkreader-inline-color="">class</span>=<span data-darkreader-inline-color="">"desc"</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span data-darkreader-inline-color="">:class</span>=<span data-darkreader-inline-color="">"{&nbsp;active:&nbsp;data.descIndex&nbsp;==&nbsp;i&nbsp;}"</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span data-darkreader-inline-color="">v-if</span>=<span data-darkreader-inline-color="">"data.products[data.pIndex]"</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span data-darkreader-inline-color="">v-for</span>=<span data-darkreader-inline-color="">"(desc,&nbsp;i)&nbsp;in&nbsp;data.products[data.pIndex].desc"</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&gt;</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span>&lt;<span data-darkreader-inline-color="">h1</span>&nbsp;<span data-darkreader-inline-color="">class</span>=<span data-darkreader-inline-color="">"title"</span>&gt;</span>{{&nbsp;desc.title&nbsp;}}<span>&lt;/<span data-darkreader-inline-color="">h1</span>&gt;</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span>&lt;<span data-darkreader-inline-color="">p</span>&nbsp;<span data-darkreader-inline-color="">class</span>=<span data-darkreader-inline-color="">"content"</span>&gt;</span>{{&nbsp;desc.content&nbsp;}}<span>&lt;/<span data-darkreader-inline-color="">p</span>&gt;</span><br>&nbsp;&nbsp;&nbsp;&nbsp;<span>&lt;/<span data-darkreader-inline-color="">div</span>&gt;</span><br>&nbsp;&nbsp;<span>&lt;/<span data-darkreader-inline-color="">div</span>&gt;</span><br>&nbsp;&nbsp;<span>&lt;<span data-darkreader-inline-color="">div</span>&nbsp;<span data-darkreader-inline-color="">class</span>=<span data-darkreader-inline-color="">"prod-list"</span>&gt;</span><br>&nbsp;&nbsp;&nbsp;&nbsp;<span>&lt;<span data-darkreader-inline-color="">h1</span>&gt;</span><span>&lt;<span data-darkreader-inline-color="">SketchOutlined</span>&gt;</span><span>&lt;/<span data-darkreader-inline-color="">SketchOutlined</span>&gt;</span>产品推荐<span>&lt;/<span data-darkreader-inline-color="">h1</span>&gt;</span><br>&nbsp;&nbsp;&nbsp;&nbsp;<span>&lt;<span data-darkreader-inline-color="">div</span>&nbsp;<span data-darkreader-inline-color="">class</span>=<span data-darkreader-inline-color="">"products"</span>&gt;</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span>&lt;<span data-darkreader-inline-color="">div</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span data-darkreader-inline-color="">class</span>=<span data-darkreader-inline-color="">"prod-item"</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span data-darkreader-inline-color="">:class</span>=<span data-darkreader-inline-color="">"{&nbsp;active:&nbsp;pI&nbsp;==&nbsp;data.pIndex&nbsp;}"</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span data-darkreader-inline-color="">v-for</span>=<span data-darkreader-inline-color="">"(prod,&nbsp;pI)&nbsp;in&nbsp;data.products"</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@<span data-darkreader-inline-color="">click</span>=<span data-darkreader-inline-color="">"changeModel(prod,&nbsp;pI)"</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span>&lt;<span data-darkreader-inline-color="">div</span>&nbsp;<span data-darkreader-inline-color="">class</span>=<span data-darkreader-inline-color="">"prod-title"</span>&gt;</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{{&nbsp;prod.title&nbsp;}}<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span>&lt;/<span data-darkreader-inline-color="">div</span>&gt;</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span>&lt;<span data-darkreader-inline-color="">div</span>&nbsp;<span data-darkreader-inline-color="">class</span>=<span data-darkreader-inline-color="">"img"</span>&gt;</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span>&lt;<span data-darkreader-inline-color="">img</span>&nbsp;<span data-darkreader-inline-color="">:src</span>=<span data-darkreader-inline-color="">"prod.imgsrc"</span>&nbsp;<span data-darkreader-inline-color="">:alt</span>=<span data-darkreader-inline-color="">"prod.title"</span>&nbsp;/&gt;</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span>&lt;/<span data-darkreader-inline-color="">div</span>&gt;</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span>&lt;/<span data-darkreader-inline-color="">div</span>&gt;</span><br>&nbsp;&nbsp;&nbsp;&nbsp;<span>&lt;/<span data-darkreader-inline-color="">div</span>&gt;</span><br>&nbsp;&nbsp;<span>&lt;/<span data-darkreader-inline-color="">div</span>&gt;</span><br>&nbsp;&nbsp;<span>&lt;<span data-darkreader-inline-color="">div</span>&nbsp;<span data-darkreader-inline-color="">class</span>=<span data-darkreader-inline-color="">"scene"</span>&nbsp;<span data-darkreader-inline-color="">id</span>=<span data-darkreader-inline-color="">"scene"</span>&nbsp;<span data-darkreader-inline-color="">v-show</span>=<span data-darkreader-inline-color="">"!data.isLoading"</span>&gt;</span><span>&lt;/<span data-darkreader-inline-color="">div</span>&gt;</span><br>&nbsp;&nbsp;<span>&lt;<span data-darkreader-inline-color="">div</span>&nbsp;<span data-darkreader-inline-color="">class</span>=<span data-darkreader-inline-color="">"scene-list"</span>&gt;</span><br>&nbsp;&nbsp;&nbsp;&nbsp;<span>&lt;<span data-darkreader-inline-color="">h3</span>&gt;</span><span>&lt;<span data-darkreader-inline-color="">RadarChartOutlined</span>&gt;</span><span>&lt;/<span data-darkreader-inline-color="">RadarChartOutlined</span>&gt;</span>&nbsp;切换使用场景<span>&lt;/<span data-darkreader-inline-color="">h3</span>&gt;</span><br><br>&nbsp;&nbsp;&nbsp;&nbsp;<span>&lt;<span data-darkreader-inline-color="">div</span>&nbsp;<span data-darkreader-inline-color="">class</span>=<span data-darkreader-inline-color="">"scenes"</span>&gt;</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span>&lt;<span data-darkreader-inline-color="">div</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span data-darkreader-inline-color="">class</span>=<span data-darkreader-inline-color="">"scene-item"</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span data-darkreader-inline-color="">v-for</span>=<span data-darkreader-inline-color="">"(scene,&nbsp;index)&nbsp;in&nbsp;data.scenes"</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@<span data-darkreader-inline-color="">click</span>=<span data-darkreader-inline-color="">"changeHdr(scene,&nbsp;index)"</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span>&lt;<span data-darkreader-inline-color="">img</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span data-darkreader-inline-color="">:class</span>=<span data-darkreader-inline-color="">"{&nbsp;active:&nbsp;index&nbsp;==&nbsp;data.sceneIndex&nbsp;}"</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span data-darkreader-inline-color="">:src</span>=<span data-darkreader-inline-color="">"`./hdr/${scene}.jpg`"</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span data-darkreader-inline-color="">:alt</span>=<span data-darkreader-inline-color="">"scene"</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/&gt;</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span>&lt;/<span data-darkreader-inline-color="">div</span>&gt;</span><br>&nbsp;&nbsp;&nbsp;&nbsp;<span>&lt;/<span data-darkreader-inline-color="">div</span>&gt;</span><br>&nbsp;&nbsp;<span>&lt;/<span data-darkreader-inline-color="">div</span>&gt;</span><br><span>&lt;/<span data-darkreader-inline-color="">template</span>&gt;</span><br><span>&lt;<span data-darkreader-inline-color="">script</span>&nbsp;<span data-darkreader-inline-color="">setup</span>&gt;</span><span><br><span data-darkreader-inline-color="">import</span>&nbsp;Base3D&nbsp;<span data-darkreader-inline-color="">from</span>&nbsp;<span data-darkreader-inline-color="">"../utils/base3d"</span>;<br><span data-darkreader-inline-color="">import</span>&nbsp;{&nbsp;reactive,&nbsp;onMounted&nbsp;}&nbsp;<span data-darkreader-inline-color="">from</span>&nbsp;<span data-darkreader-inline-color="">"vue"</span>;<br><span data-darkreader-inline-color="">const</span>&nbsp;infoList&nbsp;=&nbsp;[<br>&nbsp;&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;<span data-darkreader-inline-color="">id</span>:&nbsp;<span data-darkreader-inline-color="">7589</span>,<br>&nbsp;&nbsp;&nbsp;&nbsp;<span data-darkreader-inline-color="">title</span>:&nbsp;<span data-darkreader-inline-color="">"GUCCI&nbsp;古驰新款女包"</span>,<br>&nbsp;&nbsp;&nbsp;&nbsp;<span data-darkreader-inline-color="">imgsrc</span>:&nbsp;<span data-darkreader-inline-color="">"./imgs/bag.png"</span>,<br>&nbsp;&nbsp;&nbsp;&nbsp;<span data-darkreader-inline-color="">price</span>:&nbsp;<span data-darkreader-inline-color="">17899</span>,<br>&nbsp;&nbsp;&nbsp;&nbsp;<span data-darkreader-inline-color="">modelPath</span>:&nbsp;<span data-darkreader-inline-color="">"./gltf/"</span>,<br>&nbsp;&nbsp;&nbsp;&nbsp;<span data-darkreader-inline-color="">modelName</span>:&nbsp;<span data-darkreader-inline-color="">"bag2.glb"</span>,<br>&nbsp;&nbsp;&nbsp;&nbsp;<span data-darkreader-inline-color="">desc</span>:&nbsp;[<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span data-darkreader-inline-color="">title</span>:&nbsp;<span data-darkreader-inline-color="">"与一款全新的邮差包设计。"</span>,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span data-darkreader-inline-color="">content</span>:&nbsp;<span data-darkreader-inline-color="">"该系列手袋同时推出摩登廓形的水桶包款式"</span>,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;},<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span data-darkreader-inline-color="">title</span>:&nbsp;<span data-darkreader-inline-color="">"向60年前古驰的经典手袋致敬。"</span>,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span data-darkreader-inline-color="">content</span>:&nbsp;<span data-darkreader-inline-color="">"Gucci&nbsp;1955马衔扣系列手袋延续经典手袋线条与造型"</span>,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;},<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span data-darkreader-inline-color="">title</span>:&nbsp;<span data-darkreader-inline-color="">"手袋结构设计精巧"</span>,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span data-darkreader-inline-color="">content</span>:&nbsp;<span data-darkreader-inline-color="">"搭配可调节长度的肩带，肩背或斜挎皆宜。"</span>,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;},<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span data-darkreader-inline-color="">title</span>:&nbsp;<span data-darkreader-inline-color="">"GUCCI&nbsp;1955马衔扣系列手袋"</span>,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span data-darkreader-inline-color="">content</span>:<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span data-darkreader-inline-color="">"标志性的马衔扣设计源于马术运动，由金属双环和一条衔链组合而成。"</span>,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;},<br>&nbsp;&nbsp;&nbsp;&nbsp;],<br>&nbsp;&nbsp;},<br>&nbsp;&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;<span data-darkreader-inline-color="">id</span>:&nbsp;<span data-darkreader-inline-color="">7590</span>,<br>&nbsp;&nbsp;&nbsp;&nbsp;<span data-darkreader-inline-color="">title</span>:&nbsp;<span data-darkreader-inline-color="">"Macbook&nbsp;Pro"</span>,<br>&nbsp;&nbsp;&nbsp;&nbsp;<span data-darkreader-inline-color="">imgsrc</span>:&nbsp;<span data-darkreader-inline-color="">"./imgs/macpro.jpg"</span>,<br>&nbsp;&nbsp;&nbsp;&nbsp;<span data-darkreader-inline-color="">price</span>:&nbsp;<span data-darkreader-inline-color="">25899</span>,<br>&nbsp;&nbsp;&nbsp;&nbsp;<span data-darkreader-inline-color="">modelPath</span>:&nbsp;<span data-darkreader-inline-color="">"./gltf/"</span>,<br>&nbsp;&nbsp;&nbsp;&nbsp;<span data-darkreader-inline-color="">modelName</span>:&nbsp;<span data-darkreader-inline-color="">"Macbookpro2.glb"</span>,<br>&nbsp;&nbsp;&nbsp;&nbsp;<span data-darkreader-inline-color="">desc</span>:&nbsp;[<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span data-darkreader-inline-color="">title</span>:&nbsp;<span data-darkreader-inline-color="">"超高速M1&nbsp;Pro和M1&nbsp;Max芯片"</span>,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span data-darkreader-inline-color="">content</span>:&nbsp;<span data-darkreader-inline-color="">"带来颠覆性表现和惊人续航"</span>,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;},<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span data-darkreader-inline-color="">title</span>:&nbsp;<span data-darkreader-inline-color="">"炫目的Liquid视网膜XDR显示屏"</span>,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span data-darkreader-inline-color="">content</span>:&nbsp;<span data-darkreader-inline-color="">"Macbookpro各类强大端口也都整装就位"</span>,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;},<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span data-darkreader-inline-color="">title</span>:&nbsp;<span data-darkreader-inline-color="">"战力更猛，耐力也更强！"</span>,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span data-darkreader-inline-color="">content</span>:&nbsp;<span data-darkreader-inline-color="">"无论是剪辑8K视频、编译代码都能随时随地轻松搞定"</span>,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;},<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span data-darkreader-inline-color="">title</span>:&nbsp;<span data-darkreader-inline-color="">"Pro到MAX，霸气不封顶"</span>,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span data-darkreader-inline-color="">content</span>:&nbsp;<span data-darkreader-inline-color="">"图形处理器速度最高提升至4倍，机器学习性能提升至5倍"</span>,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;},<br>&nbsp;&nbsp;&nbsp;&nbsp;],<br>&nbsp;&nbsp;},<br>&nbsp;&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;<span data-darkreader-inline-color="">id</span>:&nbsp;<span data-darkreader-inline-color="">7591</span>,<br>&nbsp;&nbsp;&nbsp;&nbsp;<span data-darkreader-inline-color="">title</span>:&nbsp;<span data-darkreader-inline-color="">"水晶凉鞋女细跟"</span>,<br>&nbsp;&nbsp;&nbsp;&nbsp;<span data-darkreader-inline-color="">imgsrc</span>:&nbsp;<span data-darkreader-inline-color="">"./imgs/womenshoes.jpg"</span>,<br>&nbsp;&nbsp;&nbsp;&nbsp;<span data-darkreader-inline-color="">price</span>:&nbsp;<span data-darkreader-inline-color="">17899</span>,<br>&nbsp;&nbsp;&nbsp;&nbsp;<span data-darkreader-inline-color="">modelPath</span>:&nbsp;<span data-darkreader-inline-color="">"./gltf/"</span>,<br>&nbsp;&nbsp;&nbsp;&nbsp;<span data-darkreader-inline-color="">modelName</span>:&nbsp;<span data-darkreader-inline-color="">"shoes.glb"</span>,<br>&nbsp;&nbsp;&nbsp;&nbsp;<span data-darkreader-inline-color="">desc</span>:&nbsp;[<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{&nbsp;<span data-darkreader-inline-color="">title</span>:&nbsp;<span data-darkreader-inline-color="">"白变女神季"</span>,&nbsp;<span data-darkreader-inline-color="">content</span>:&nbsp;<span data-darkreader-inline-color="">"性感潮品、优雅轻淑范！"</span>&nbsp;},<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{&nbsp;<span data-darkreader-inline-color="">title</span>:&nbsp;<span data-darkreader-inline-color="">"舒适、焕新"</span>,&nbsp;<span data-darkreader-inline-color="">content</span>:&nbsp;<span data-darkreader-inline-color="">"手感光滑、富有弹性、舒适一整天"</span>&nbsp;},<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{&nbsp;<span data-darkreader-inline-color="">title</span>:&nbsp;<span data-darkreader-inline-color="">"个性、魅力"</span>,&nbsp;<span data-darkreader-inline-color="">content</span>:&nbsp;<span data-darkreader-inline-color="">"水晶搭配金属，凸显柔美气质"</span>&nbsp;},<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{&nbsp;<span data-darkreader-inline-color="">title</span>:&nbsp;<span data-darkreader-inline-color="">"全透、高端水晶"</span>,&nbsp;<span data-darkreader-inline-color="">content</span>:&nbsp;<span data-darkreader-inline-color="">"每一处的细节，都很到位!"</span>&nbsp;},<br>&nbsp;&nbsp;&nbsp;&nbsp;],<br>&nbsp;&nbsp;},<br>];<br><span data-darkreader-inline-color="">const</span>&nbsp;hdr&nbsp;=&nbsp;[<span data-darkreader-inline-color="">"000"</span>,&nbsp;<span data-darkreader-inline-color="">"001"</span>,&nbsp;<span data-darkreader-inline-color="">"002"</span>,&nbsp;<span data-darkreader-inline-color="">"003"</span>,&nbsp;<span data-darkreader-inline-color="">"004"</span>,&nbsp;<span data-darkreader-inline-color="">"005"</span>];<br><span data-darkreader-inline-color="">const</span>&nbsp;data&nbsp;=&nbsp;reactive({<br>&nbsp;&nbsp;<span data-darkreader-inline-color="">products</span>:&nbsp;[],<br>&nbsp;&nbsp;<span data-darkreader-inline-color="">isLoading</span>:&nbsp;<span data-darkreader-inline-color="">true</span>,<br>&nbsp;&nbsp;<span data-darkreader-inline-color="">scenes</span>:&nbsp;[],<br>&nbsp;&nbsp;<span data-darkreader-inline-color="">pIndex</span>:&nbsp;<span data-darkreader-inline-color="">0</span>,<br>&nbsp;&nbsp;<span data-darkreader-inline-color="">sceneIndex</span>:&nbsp;<span data-darkreader-inline-color="">0</span>,<br>&nbsp;&nbsp;<span data-darkreader-inline-color="">base3d</span>:&nbsp;{},<br>&nbsp;&nbsp;<span data-darkreader-inline-color="">descIndex</span>:&nbsp;<span data-darkreader-inline-color="">0</span>,<br>&nbsp;&nbsp;<span data-darkreader-inline-color="">progress</span>:&nbsp;<span data-darkreader-inline-color="">0</span>,<br>});<br><span><span data-darkreader-inline-color="">function</span>&nbsp;<span data-darkreader-inline-color="">LoadingFinish</span>(<span></span>)&nbsp;</span>{<br>&nbsp;&nbsp;data.isLoading&nbsp;=&nbsp;<span data-darkreader-inline-color="">false</span>;<br>}<br>onMounted(<span><span>()</span>&nbsp;=&gt;</span>&nbsp;{<br>&nbsp;&nbsp;data.products&nbsp;=&nbsp;infoList;<br>&nbsp;&nbsp;data.scenes&nbsp;=&nbsp;hdr;<br>&nbsp;&nbsp;data.base3d&nbsp;=&nbsp;<span data-darkreader-inline-color="">new</span>&nbsp;Base3D(<span data-darkreader-inline-color="">"#scene"</span>,&nbsp;LoadingFinish);<br>&nbsp;&nbsp;data.base3d.onProgress(<span>(<span>e</span>)&nbsp;=&gt;</span>&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;<span data-darkreader-inline-color="">let</span>&nbsp;progressNum&nbsp;=&nbsp;e.loaded&nbsp;/&nbsp;e.total;<br>&nbsp;&nbsp;&nbsp;&nbsp;progressNum&nbsp;=&nbsp;progressNum.toFixed(<span data-darkreader-inline-color="">2</span>)&nbsp;*&nbsp;<span data-darkreader-inline-color="">100</span>;<br>&nbsp;&nbsp;&nbsp;&nbsp;data.progress&nbsp;=&nbsp;progressNum;<br>&nbsp;&nbsp;&nbsp;&nbsp;<span data-darkreader-inline-color="">//&nbsp;console.log(progressNum);</span><br>&nbsp;&nbsp;});<br>});<br><br><span data-darkreader-inline-color="">window</span>.addEventListener(<span data-darkreader-inline-color="">"mousewheel"</span>,&nbsp;(e)&nbsp;=&gt;&nbsp;{<br>&nbsp;&nbsp;<span data-darkreader-inline-color="">console</span>.log(<span data-darkreader-inline-color="">"🚀.animateAction"</span>,&nbsp;data.base3d.animateAction);<br>&nbsp;&nbsp;<span data-darkreader-inline-color="">let</span>&nbsp;duration&nbsp;=&nbsp;data.base3d.animateAction._clip.duration;<br>&nbsp;&nbsp;<span data-darkreader-inline-color="">let</span>&nbsp;time&nbsp;=&nbsp;data.base3d.animateAction.time;<br>&nbsp;&nbsp;<span data-darkreader-inline-color="">let</span>&nbsp;index&nbsp;=&nbsp;<span data-darkreader-inline-color="">Math</span>.floor((time&nbsp;/&nbsp;duration)&nbsp;*&nbsp;<span data-darkreader-inline-color="">4</span>);<br>&nbsp;&nbsp;data.descIndex&nbsp;=&nbsp;index;<br>});<br><br></span><span>&lt;/<span data-darkreader-inline-color="">script</span>&gt;</span><br><br><span>&lt;<span data-darkreader-inline-color="">style</span>&nbsp;<span data-darkreader-inline-color="">scoped</span>&gt;</span><span><br><span data-darkreader-inline-color="">.desc</span>&nbsp;{<br>&nbsp;&nbsp;<span data-darkreader-inline-color="">position</span>:&nbsp;fixed;<br>&nbsp;&nbsp;<span data-darkreader-inline-color="">z-index</span>:&nbsp;<span data-darkreader-inline-color="">100000</span>;<br>&nbsp;&nbsp;<span data-darkreader-inline-color="">background-color</span>:&nbsp;<span data-darkreader-inline-color="">rgba</span>(<span data-darkreader-inline-color="">255</span>,&nbsp;<span data-darkreader-inline-color="">255</span>,&nbsp;<span data-darkreader-inline-color="">255</span>,&nbsp;<span data-darkreader-inline-color="">0.5</span>);<br>&nbsp;&nbsp;<span data-darkreader-inline-color="">width</span>:&nbsp;<span data-darkreader-inline-color="">600px</span>;<br>&nbsp;&nbsp;<span data-darkreader-inline-color="">top</span>:&nbsp;<span data-darkreader-inline-color="">100px</span>;<br>&nbsp;&nbsp;<span data-darkreader-inline-color="">left</span>:&nbsp;<span data-darkreader-inline-color="">50%</span>;<br>&nbsp;&nbsp;<span data-darkreader-inline-color="">margin-left</span>:&nbsp;-<span data-darkreader-inline-color="">300px</span>;<br>&nbsp;&nbsp;<span data-darkreader-inline-color="">transition</span>:&nbsp;all&nbsp;<span data-darkreader-inline-color="">0.5s</span>;<br>&nbsp;&nbsp;<span data-darkreader-inline-color="">transform</span>:&nbsp;<span data-darkreader-inline-color="">translate</span>(-<span data-darkreader-inline-color="">100vw</span>,&nbsp;<span data-darkreader-inline-color="">0</span>);<br>&nbsp;&nbsp;<span data-darkreader-inline-color="">padding</span>:&nbsp;<span data-darkreader-inline-color="">15px</span>;<br>}<br><span data-darkreader-inline-color="">.desc</span><span data-darkreader-inline-color="">.active</span>&nbsp;{<br>&nbsp;&nbsp;<span data-darkreader-inline-color="">transform</span>:&nbsp;<span data-darkreader-inline-color="">translate</span>(<span data-darkreader-inline-color="">0</span>,&nbsp;<span data-darkreader-inline-color="">0</span>);<br>}<br><span data-darkreader-inline-color="">.prod-list</span>,<br><span data-darkreader-inline-color="">.scene-list</span>&nbsp;{<br>&nbsp;&nbsp;<span data-darkreader-inline-color="">display</span>:&nbsp;block;<br>&nbsp;&nbsp;<span data-darkreader-inline-color="">position</span>:&nbsp;fixed;<br>&nbsp;&nbsp;<span data-darkreader-inline-color="">top</span>:&nbsp;<span data-darkreader-inline-color="">0</span>;<br>&nbsp;&nbsp;<span data-darkreader-inline-color="">z-index</span>:&nbsp;<span data-darkreader-inline-color="">999</span>;<br>&nbsp;&nbsp;<span data-darkreader-inline-color="">width</span>:&nbsp;auto;<br>}<br><span data-darkreader-inline-color="">h1</span>&nbsp;{<br>&nbsp;&nbsp;<span data-darkreader-inline-color="">font-size</span>:&nbsp;<span data-darkreader-inline-color="">20px</span>;<br>&nbsp;&nbsp;<span data-darkreader-inline-color="">font-weight</span>:&nbsp;<span data-darkreader-inline-color="">900</span>;<br>&nbsp;&nbsp;<span data-darkreader-inline-color="">padding</span>:&nbsp;<span data-darkreader-inline-color="">10px</span>&nbsp;<span data-darkreader-inline-color="">25px</span>&nbsp;<span data-darkreader-inline-color="">0</span>;<br>}<br><span data-darkreader-inline-color="">.prod-list</span>&nbsp;{<br>&nbsp;&nbsp;<span data-darkreader-inline-color="">left</span>:&nbsp;<span data-darkreader-inline-color="">0</span>;<br>}<br><span data-darkreader-inline-color="">.scene-list</span>&nbsp;{<br>&nbsp;&nbsp;<span data-darkreader-inline-color="">right</span>:&nbsp;<span data-darkreader-inline-color="">0</span>;<br>}<br><span data-darkreader-inline-color="">.products</span>&nbsp;{<br>&nbsp;&nbsp;<span data-darkreader-inline-color="">display</span>:&nbsp;flex;<br>&nbsp;&nbsp;<span data-darkreader-inline-color="">flex-direction</span>:&nbsp;column;<br>&nbsp;&nbsp;<span data-darkreader-inline-color="">justify-content</span>:&nbsp;center;<br>&nbsp;&nbsp;<span data-darkreader-inline-color="">align-items</span>:&nbsp;center;<br>}<br><span data-darkreader-inline-color="">.prod-item</span>&nbsp;{<br>&nbsp;&nbsp;<span data-darkreader-inline-color="">display</span>:&nbsp;flex;<br>&nbsp;&nbsp;<span data-darkreader-inline-color="">flex-direction</span>:&nbsp;column;<br>&nbsp;&nbsp;<span data-darkreader-inline-color="">justify-content</span>:&nbsp;center;<br>&nbsp;&nbsp;<span data-darkreader-inline-color="">align-items</span>:&nbsp;center;<br>&nbsp;&nbsp;<span data-darkreader-inline-color="">width</span>:&nbsp;<span data-darkreader-inline-color="">250px</span>;<br>&nbsp;&nbsp;<span data-darkreader-inline-color="">background-color</span>:&nbsp;<span data-darkreader-inline-color="">rgba</span>(<span data-darkreader-inline-color="">255</span>,&nbsp;<span data-darkreader-inline-color="">255</span>,&nbsp;<span data-darkreader-inline-color="">255</span>,&nbsp;<span data-darkreader-inline-color="">0.5</span>);<br>&nbsp;&nbsp;<span data-darkreader-inline-color="">border-radius</span>:&nbsp;<span data-darkreader-inline-color="">20px</span>;<br>&nbsp;&nbsp;<span data-darkreader-inline-color="">overflow</span>:&nbsp;hidden;<br>&nbsp;&nbsp;<span data-darkreader-inline-color="">margin</span>:&nbsp;<span data-darkreader-inline-color="">10px</span>&nbsp;<span data-darkreader-inline-color="">0</span>;<br>&nbsp;&nbsp;<span data-darkreader-inline-color="">box-shadow</span>:&nbsp;<span data-darkreader-inline-color="">2px</span>&nbsp;<span data-darkreader-inline-color="">2px</span>&nbsp;<span data-darkreader-inline-color="">5px</span>&nbsp;<span data-darkreader-inline-color="">#666</span>;<br>&nbsp;&nbsp;<span data-darkreader-inline-color="">transition</span>:&nbsp;all&nbsp;<span data-darkreader-inline-color="">0.3s</span>;<br>}<br><span data-darkreader-inline-color="">.prod-item</span>&nbsp;<span data-darkreader-inline-color="">img</span>&nbsp;{<br>&nbsp;&nbsp;<span data-darkreader-inline-color="">width</span>:&nbsp;<span data-darkreader-inline-color="">190px</span>;<br>}<br><span data-darkreader-inline-color="">.prod-title</span>&nbsp;{<br>&nbsp;&nbsp;<span data-darkreader-inline-color="">padding</span>:&nbsp;<span data-darkreader-inline-color="">0</span>&nbsp;<span data-darkreader-inline-color="">20px</span>;<br>}<br><span data-darkreader-inline-color="">.scene-item</span>&nbsp;{<br>&nbsp;&nbsp;<span data-darkreader-inline-color="">padding</span>:&nbsp;<span data-darkreader-inline-color="">6px</span>&nbsp;<span data-darkreader-inline-color="">0</span>;<br>}<br><span data-darkreader-inline-color="">.scene-item</span>&nbsp;<span data-darkreader-inline-color="">img</span>&nbsp;{<br>&nbsp;&nbsp;<span data-darkreader-inline-color="">width</span>:&nbsp;<span data-darkreader-inline-color="">250px</span>;<br>&nbsp;&nbsp;<span data-darkreader-inline-color="">border-radius</span>:&nbsp;<span data-darkreader-inline-color="">10px</span>;<br>&nbsp;&nbsp;<span data-darkreader-inline-color="">box-shadow</span>:&nbsp;<span data-darkreader-inline-color="">2px</span>&nbsp;<span data-darkreader-inline-color="">2px</span>&nbsp;<span data-darkreader-inline-color="">10px</span>&nbsp;<span data-darkreader-inline-color="">#666</span>;<br>&nbsp;&nbsp;<span data-darkreader-inline-color="">transition</span>:&nbsp;all&nbsp;<span data-darkreader-inline-color="">0.3s</span>;<br>}<br><span data-darkreader-inline-color="">img</span><span data-darkreader-inline-color="">.active</span>&nbsp;{<br>&nbsp;&nbsp;<span data-darkreader-inline-color="">box-shadow</span>:&nbsp;<span data-darkreader-inline-color="">2px</span>&nbsp;<span data-darkreader-inline-color="">2px</span>&nbsp;<span data-darkreader-inline-color="">5px</span>&nbsp;<span data-darkreader-inline-color="">#666</span>,&nbsp;<span data-darkreader-inline-color="">0px</span>&nbsp;<span data-darkreader-inline-color="">0px</span>&nbsp;<span data-darkreader-inline-color="">10px</span>&nbsp;red;<br>}<br><span data-darkreader-inline-color="">img</span><span data-darkreader-inline-color="">:hover</span>&nbsp;{<br>&nbsp;&nbsp;<span data-darkreader-inline-color="">transform</span>:&nbsp;<span data-darkreader-inline-color="">translate</span>(<span data-darkreader-inline-color="">0px</span>,&nbsp;-<span data-darkreader-inline-color="">5px</span>);<br>&nbsp;&nbsp;<span data-darkreader-inline-color="">box-shadow</span>:&nbsp;<span data-darkreader-inline-color="">2px</span>&nbsp;<span data-darkreader-inline-color="">2px</span>&nbsp;<span data-darkreader-inline-color="">5px</span>&nbsp;<span data-darkreader-inline-color="">#666</span>,&nbsp;<span data-darkreader-inline-color="">0px</span>&nbsp;<span data-darkreader-inline-color="">0px</span>&nbsp;<span data-darkreader-inline-color="">10px</span>&nbsp;orangered;<br>}<br></span><span>&lt;/<span data-darkreader-inline-color="">style</span>&gt;</span><br></code>
```

![Image](data:image/svg+xml,%3C%3Fxml version='1.0' encoding='UTF-8'%3F%3E%3Csvg width='1px' height='1px' viewBox='0 0 1 1' version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'%3E%3Ctitle%3E%3C/title%3E%3Cg stroke='none' stroke-width='1' fill='none' fill-rule='evenodd' fill-opacity='0'%3E%3Cg transform='translate(-249.000000, -126.000000)' fill='%23FFFFFF'%3E%3Crect x='249' y='126' width='1' height='1'%3E%3C/rect%3E%3C/g%3E%3C/g%3E%3C/svg%3E)

##### 增加操作事件

```
<span data-darkreader-inline-bgcolor=""></span><code data-darkreader-inline-color="" data-darkreader-inline-bgimage="" data-darkreader-inline-bgcolor=""><span><span data-darkreader-inline-color="">function</span>&nbsp;<span data-darkreader-inline-color="">changeModel</span>(<span>prod,&nbsp;pI</span>)&nbsp;</span>{<br>&nbsp;&nbsp;data.pIndex&nbsp;=&nbsp;pI;<br>&nbsp;&nbsp;data.base3d.setModel(prod.modelName);<br>}<br><span><span data-darkreader-inline-color="">function</span>&nbsp;<span data-darkreader-inline-color="">changeHdr</span>(<span>scene,&nbsp;index</span>)&nbsp;</span>{<br>&nbsp;&nbsp;data.sceneIndex&nbsp;=&nbsp;index;<br>&nbsp;&nbsp;data.base3d.setEnvMap(scene);<br>}<br></code>
```

#### 大功告成

> 支持不同位置展示不同描述：配合数据配置渲染不同桢的效果

![Image](data:image/svg+xml,%3C%3Fxml version='1.0' encoding='UTF-8'%3F%3E%3Csvg width='1px' height='1px' viewBox='0 0 1 1' version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'%3E%3Ctitle%3E%3C/title%3E%3Cg stroke='none' stroke-width='1' fill='none' fill-rule='evenodd' fill-opacity='0'%3E%3Cg transform='translate(-249.000000, -126.000000)' fill='%23FFFFFF'%3E%3Crect x='249' y='126' width='1' height='1'%3E%3C/rect%3E%3C/g%3E%3C/g%3E%3C/svg%3E)

> 根据选中的产品，切换相应产品效果

![Image](data:image/svg+xml,%3C%3Fxml version='1.0' encoding='UTF-8'%3F%3E%3Csvg width='1px' height='1px' viewBox='0 0 1 1' version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'%3E%3Ctitle%3E%3C/title%3E%3Cg stroke='none' stroke-width='1' fill='none' fill-rule='evenodd' fill-opacity='0'%3E%3Cg transform='translate(-249.000000, -126.000000)' fill='%23FFFFFF'%3E%3Crect x='249' y='126' width='1' height='1'%3E%3C/rect%3E%3C/g%3E%3C/g%3E%3C/svg%3E)

> 根据选中场景，切换相应的场景

![Image](data:image/svg+xml,%3C%3Fxml version='1.0' encoding='UTF-8'%3F%3E%3Csvg width='1px' height='1px' viewBox='0 0 1 1' version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'%3E%3Ctitle%3E%3C/title%3E%3Cg stroke='none' stroke-width='1' fill='none' fill-rule='evenodd' fill-opacity='0'%3E%3Cg transform='translate(-249.000000, -126.000000)' fill='%23FFFFFF'%3E%3Crect x='249' y='126' width='1' height='1'%3E%3C/rect%3E%3C/g%3E%3C/g%3E%3C/svg%3E)

### 总结

-   通过类的方式创建的方法，能够很好的保存了创建过程中3D模型的所具备的属性和功能，在实例化后，可以很便捷的获取到相应的属性
    
-   在创建场景/模型时，可以根据要突出的效果调整相应的参数，我们可以认真观察创建出来的实例对象中包含的属性和方法，方便我们渲染使用
    

![Image](data:image/svg+xml,%3C%3Fxml version='1.0' encoding='UTF-8'%3F%3E%3Csvg width='1px' height='1px' viewBox='0 0 1 1' version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'%3E%3Ctitle%3E%3C/title%3E%3Cg stroke='none' stroke-width='1' fill='none' fill-rule='evenodd' fill-opacity='0'%3E%3Cg transform='translate(-249.000000, -126.000000)' fill='%23FFFFFF'%3E%3Crect x='249' y='126' width='1' height='1'%3E%3C/rect%3E%3C/g%3E%3C/g%3E%3C/svg%3E)

### 参考包/支持

-   Three.js<sup data-darkreader-inline-color="">[2]</sup>
    
-   本项目参考视频<sup data-darkreader-inline-color="">[3]</sup>
    
-   源码<sup data-darkreader-inline-color="">[4]</sup>
    

参考资料

\[1\]

vite中文网: _https://vitejs.cn/guide/#scaffolding-your-first-vite-project_

\[2\]

Three.js: _http://www.webgl3d.cn/Three.js/_

\[3\]

threejs打造沉浸式商城2022全新Vue3企业项目实战: _https://www.bilibili.com/video/BV15T4y1175F/?p=21&vd\_source=797532e4fa3575d6c48e18321f8de472_

\[4\]

源码: _https://gitee.com/yueliangliaoliao/vue-three_

> 作者：前端了了liaoliao
> 
> 链接：https://juejin.cn/post/7137192060045492231