ä»Šå¹´2æœˆä»½ï¼ŒReact å‘å¸ƒæ¶ˆæ¯ç¡®è®¤ä»Šå¹´å‘å¸ƒ v19 ç‰ˆæœ¬ï¼Œå°˜å°ä¸¤å¹´çš„ç‰ˆæœ¬å·ç»ˆäºè¦æ›´æ–°äº†ã€‚è¯¦æƒ…ç‚¹å‡»ï¼šReact 19 å‘å¸ƒåœ¨å³ï¼ŒæŠ¢å…ˆå­¦ä¹ ä¸€ä¸‹æ–°ç‰¹æ€§\[1\]ã€‚é‚£æ—¶å€™ï¼ŒReact æˆå‘˜Â **Andrew Clark**Â æ˜ç¡®äº†æ–°ç‰ˆæœ¬å°†åœ¨3æœˆæˆ–4æœˆå‘å¸ƒã€‚

è¦ä¸æ€ä¹ˆè¯´ã€ŒDDLæ˜¯ç¬¬ä¸€ç”Ÿäº§åŠ›ã€ï¼Œè¿™ä¸4æœˆåº•äº†ï¼Œæ–°ç‰ˆæœ¬å°±è¸©ç‚¹å‘å¸ƒäº†ã€‚è¿™æ¬¡å‘å¸ƒçš„ç‰ˆæœ¬å·æ˜¯19.0.0-Betaã€‚

è™½ç„¶åªæ˜¯ Beta ç‰ˆï¼Œä½†ä¹Ÿå¤Ÿè®©ç¤¾åŒºå…´å¥‹äº†ï¼š

**Dan**Â è¯´ã€Œthey did whatã€

**Andrew Clark**Â è¯´ã€ŒReact 19: Never forwardRef againã€

**Josh W. Comeau**Â è¯´ã€ŒLots of nice quality-of-life improvements here!ã€

å”¯ä¸€çš„é—æ†¾æ˜¯ï¼Œç» React æˆå‘˜ lauren ç¡®è®¤ï¼ŒReact Compiler åˆè·³ç¥¨äº†ã€‚è¿™ä¸ªä¸œè¥¿åŸæ¥çš„åç§°å«åšã€ŒReact Forgetã€ï¼ŒçœŸå°±æ˜¯ Forget å±æ€§æ‹‰æ»¡äº†ã€‚

æ€»ç»“ä¸€ä¸‹ 19.0.0-Beta ç‰ˆæœ¬çš„å‘å¸ƒçš„ç‰¹æ€§å°±æ˜¯ï¼š

1.  ä¸€ä¸ª Actions
    
2.  ä¸‰ä¸ªæ–° hook
    
3.  ä¸€ä¸ªæ–° API
    
4.  ref å’Œ context ç”¨æ³•æ›´æ–¹ä¾¿
    
5.  å…¶ä»–æ”¯æ’‘ç±»æ›´æ–°ã€æœåŠ¡ç«¯èƒ½åŠ›æ›´æ–°
    

æ¥ä¸‹æ¥æœ¬æ–‡ä¸€ä¸ªä¸ªä»‹ç»ã€‚

> å…¬ä¼—å·åå° ğŸ‘†Â å›å¤ã€Œ**`åŠ ç¾¤`**ã€ï¼ŒåŠ å…¥ã€Œ**ğŸŒ`ç‹¬ç«‹å…¨æ ˆå¼€å‘äº¤æµç¾¤`**ã€ï¼Œä¸€èµ·å­¦ä¹ äº¤æµå‰ç«¯å’Œ Node ç«¯æŠ€æœ¯

## Actions

Actions ä¸æ˜¯ä¸€ä¸ª APIï¼Œæ˜¯ä¸€ç§ç®€åŒ–è¯·æ±‚æ•°æ®å¤„ç†çš„æ–¹æ³•ç»Ÿç§°ã€‚ä¸€ä¸ªåˆæ ¼çš„ Actions è¦èƒ½å¤Ÿç®€åŒ–å¼‚æ­¥æ“ä½œï¼Œè®©å¼€å‘è€…æ›´ä¸“æ³¨äºä¸šåŠ¡é€»è¾‘è€Œä¸æ˜¯çŠ¶æ€ç®¡ç†ã€‚

è®©æˆ‘ä»¬é€šè¿‡ä¸€ä¸ªç®€å•çš„ä¾‹å­æ¥ç†è§£Actionsçš„ä½œç”¨ã€‚å‡è®¾æˆ‘ä»¬æœ‰ä¸€ä¸ªè¡¨å•ï¼Œç”¨æˆ·å¯ä»¥é€šè¿‡è¯¥è¡¨å•æ›´æ–°ä»–ä»¬çš„å§“åã€‚ä»¥å‰ï¼Œæˆ‘ä»¬å¯èƒ½ä¼šä½¿ç”¨useStateæ¥æ‰‹åŠ¨ç®¡ç†è¡¨å•çŠ¶æ€ã€é”™è¯¯çŠ¶æ€å’Œæäº¤çŠ¶æ€ï¼Œä»£ç å¯èƒ½ä¼šçœ‹èµ·æ¥åƒè¿™æ ·ï¼š

```
<section><span><span data-darkreader-inline-bgcolor=""></span><span data-darkreader-inline-bgcolor=""></span><span data-darkreader-inline-bgcolor=""></span></span><span> </span></section><pre data-title="true"><code data-line="63" data-darkreader-inline-bgimage=""><span data-darkreader-inline-border-left=""><span data-darkreader-inline-color="">function</span> <span data-darkreader-inline-color="">UpdateName</span><span data-darkreader-inline-color="">(</span><span data-darkreader-inline-color="">)</span> <span data-darkreader-inline-color="">{</span><br></span><span data-darkreader-inline-border-left="">  <span data-darkreader-inline-color="">const</span> <span data-darkreader-inline-color="">[</span>name<span data-darkreader-inline-color="">,</span> setName<span data-darkreader-inline-color="">]</span> <span data-darkreader-inline-color="" data-darkreader-inline-bgimage="" data-darkreader-inline-bgcolor="">=</span> <span data-darkreader-inline-color="">useState</span><span data-darkreader-inline-color="">(</span><span data-darkreader-inline-color="">""</span><span data-darkreader-inline-color="">)</span><span data-darkreader-inline-color="">;</span><br></span><span data-darkreader-inline-border-left="">  <span data-darkreader-inline-color="">const</span> <span data-darkreader-inline-color="">[</span>error<span data-darkreader-inline-color="">,</span> setError<span data-darkreader-inline-color="">]</span> <span data-darkreader-inline-color="" data-darkreader-inline-bgimage="" data-darkreader-inline-bgcolor="">=</span> <span data-darkreader-inline-color="">useState</span><span data-darkreader-inline-color="">(</span><span data-darkreader-inline-color="">null</span><span data-darkreader-inline-color="">)</span><span data-darkreader-inline-color="">;</span><br></span><span data-darkreader-inline-border-left="">  <span data-darkreader-inline-color="">const</span> <span data-darkreader-inline-color="">[</span>isPending<span data-darkreader-inline-color="">,</span> setIsPending<span data-darkreader-inline-color="">]</span> <span data-darkreader-inline-color="" data-darkreader-inline-bgimage="" data-darkreader-inline-bgcolor="">=</span> <span data-darkreader-inline-color="">useState</span><span data-darkreader-inline-color="">(</span>false<span data-darkreader-inline-color="">)</span><span data-darkreader-inline-color="">;</span><br></span><span data-darkreader-inline-border-left=""><br></span><span data-darkreader-inline-border-left="">  <span data-darkreader-inline-color="">const</span> <span data-darkreader-inline-color="">handleSubmit</span> <span data-darkreader-inline-color="" data-darkreader-inline-bgimage="" data-darkreader-inline-bgcolor="">=</span> <span data-darkreader-inline-color="">async</span> <span data-darkreader-inline-color="">(</span><span data-darkreader-inline-color="">)</span> <span data-darkreader-inline-color="" data-darkreader-inline-bgimage="" data-darkreader-inline-bgcolor="">=&gt;</span> <span data-darkreader-inline-color="">{</span><br></span><span data-darkreader-inline-border-left="">    <span data-darkreader-inline-color="">setIsPending</span><span data-darkreader-inline-color="">(</span>true<span data-darkreader-inline-color="">)</span><span data-darkreader-inline-color="">;</span><br></span><span data-darkreader-inline-border-left="">    <span data-darkreader-inline-color="">const</span> error <span data-darkreader-inline-color="" data-darkreader-inline-bgimage="" data-darkreader-inline-bgcolor="">=</span> <span data-darkreader-inline-color="">await</span> <span data-darkreader-inline-color="">updateName</span><span data-darkreader-inline-color="">(</span>name<span data-darkreader-inline-color="">)</span><span data-darkreader-inline-color="">;</span><br></span><span data-darkreader-inline-border-left="">    <span data-darkreader-inline-color="">setIsPending</span><span data-darkreader-inline-color="">(</span>false<span data-darkreader-inline-color="">)</span><span data-darkreader-inline-color="">;</span><br></span><span data-darkreader-inline-border-left="">    <span data-darkreader-inline-color="">if</span> <span data-darkreader-inline-color="">(</span>error<span data-darkreader-inline-color="">)</span> <span data-darkreader-inline-color="">{</span><br></span><span data-darkreader-inline-border-left="">      <span data-darkreader-inline-color="">setError</span><span data-darkreader-inline-color="">(</span>error<span data-darkreader-inline-color="">)</span><span data-darkreader-inline-color="">;</span><br></span><span data-darkreader-inline-border-left="">      <span data-darkreader-inline-color="">return</span><span data-darkreader-inline-color="">;</span><br></span><span data-darkreader-inline-border-left="">    <span data-darkreader-inline-color="">}</span> <br></span><span data-darkreader-inline-border-left="">    <span data-darkreader-inline-color="">redirect</span><span data-darkreader-inline-color="">(</span><span data-darkreader-inline-color="">"/path"</span><span data-darkreader-inline-color="">)</span><span data-darkreader-inline-color="">;</span><br></span><span data-darkreader-inline-border-left="">  <span data-darkreader-inline-color="">}</span><span data-darkreader-inline-color="">;</span><br></span><span data-darkreader-inline-border-left=""><br></span><span data-darkreader-inline-border-left="">  <span data-darkreader-inline-color="">return</span> <span data-darkreader-inline-color="">(</span><br></span><span data-darkreader-inline-border-left="">    <span data-darkreader-inline-color="">&lt;</span>div<span data-darkreader-inline-color="">&gt;</span><br></span><span data-darkreader-inline-border-left="">      <span data-darkreader-inline-color="">&lt;</span>input <span data-darkreader-inline-color="">value</span><span data-darkreader-inline-color="">=</span><span data-darkreader-inline-color="">{</span>name<span data-darkreader-inline-color="">}</span> <span data-darkreader-inline-color="">onChange</span><span data-darkreader-inline-color="">=</span><span data-darkreader-inline-color="">{</span><span data-darkreader-inline-color="">(</span>event<span data-darkreader-inline-color="">)</span> <span data-darkreader-inline-color="" data-darkreader-inline-bgimage="" data-darkreader-inline-bgcolor="">=&gt;</span> <span data-darkreader-inline-color="">setName</span><span data-darkreader-inline-color="">(</span>event<span data-darkreader-inline-color="">.</span>target<span data-darkreader-inline-color="">.</span>value<span data-darkreader-inline-color="">)</span><span data-darkreader-inline-color="">}</span> <span data-darkreader-inline-color="">/&gt;</span><br></span><span data-darkreader-inline-border-left="">      <span data-darkreader-inline-color="">&lt;</span>button <span data-darkreader-inline-color="">onClick</span><span data-darkreader-inline-color="">=</span><span data-darkreader-inline-color="">{</span>handleSubmit<span data-darkreader-inline-color="">}</span> <span data-darkreader-inline-color="">disabled</span><span data-darkreader-inline-color="">=</span><span data-darkreader-inline-color="">{</span>isPending<span data-darkreader-inline-color="">}</span><span data-darkreader-inline-color="">&gt;</span><br></span><span data-darkreader-inline-border-left="">        Update<br></span><span data-darkreader-inline-border-left="">      <span data-darkreader-inline-color="">&lt;/</span>button<span data-darkreader-inline-color="">&gt;</span><br></span><span data-darkreader-inline-border-left="">      <span data-darkreader-inline-color="">{</span>error <span data-darkreader-inline-color="" data-darkreader-inline-bgimage="" data-darkreader-inline-bgcolor="">&amp;&amp;</span> <span data-darkreader-inline-color="">&lt;</span>p<span data-darkreader-inline-color="">&gt;</span><span data-darkreader-inline-color="">{</span>error<span data-darkreader-inline-color="">}</span><span data-darkreader-inline-color="">&lt;/</span>p<span data-darkreader-inline-color="">&gt;</span><span data-darkreader-inline-color="">}</span><br></span><span data-darkreader-inline-border-left="">    <span data-darkreader-inline-color="">&lt;/</span>div<span data-darkreader-inline-color="">&gt;</span><br></span><span data-darkreader-inline-border-left="">  <span data-darkreader-inline-color="">)</span><span data-darkreader-inline-color="">;</span><br></span><span data-darkreader-inline-border-left=""><span data-darkreader-inline-color="">}</span><br></span></code></pre>
```

è¿™æ®µä»£ç éœ€è¦æ‰‹åŠ¨å¤„ç†è®¸å¤šç»†èŠ‚ã€‚ä½†æ˜¯ï¼Œæœ‰äº† React 19 çš„ Actionsï¼Œæƒ…å†µå°±æœ‰æ‰€ä¼˜åŒ–ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨Â `useTransition`Â hook æ¥å¤„ç†è¡¨å•æäº¤ï¼Œå®ƒä¼šè‡ªåŠ¨å¤„ç† pending çŠ¶æ€ï¼Œè®©æˆ‘ä»¬çš„ä»£ç æ›´åŠ ç®€æ´ï¼š

```
<section><span><span data-darkreader-inline-bgcolor=""></span><span data-darkreader-inline-bgcolor=""></span><span data-darkreader-inline-bgcolor=""></span></span><span> </span></section><pre data-title="true"><code data-line="94" data-darkreader-inline-bgimage=""><span data-darkreader-inline-border-left=""><span data-darkreader-inline-color="">function</span> <span data-darkreader-inline-color="">UpdateName</span><span data-darkreader-inline-color="">(</span><span data-darkreader-inline-color="">)</span> <span data-darkreader-inline-color="">{</span><br></span><span data-darkreader-inline-border-left="">  <span data-darkreader-inline-color="">const</span> <span data-darkreader-inline-color="">[</span>name<span data-darkreader-inline-color="">,</span> setName<span data-darkreader-inline-color="">]</span> <span data-darkreader-inline-color="" data-darkreader-inline-bgimage="" data-darkreader-inline-bgcolor="">=</span> <span data-darkreader-inline-color="">useState</span><span data-darkreader-inline-color="">(</span><span data-darkreader-inline-color="">""</span><span data-darkreader-inline-color="">)</span><span data-darkreader-inline-color="">;</span><br></span><span data-darkreader-inline-border-left="">  <span data-darkreader-inline-color="">const</span> <span data-darkreader-inline-color="">[</span>error<span data-darkreader-inline-color="">,</span> setError<span data-darkreader-inline-color="">]</span> <span data-darkreader-inline-color="" data-darkreader-inline-bgimage="" data-darkreader-inline-bgcolor="">=</span> <span data-darkreader-inline-color="">useState</span><span data-darkreader-inline-color="">(</span><span data-darkreader-inline-color="">null</span><span data-darkreader-inline-color="">)</span><span data-darkreader-inline-color="">;</span><br></span><span data-darkreader-inline-border-left="">  <span data-darkreader-inline-color="">const</span> <span data-darkreader-inline-color="">[</span>isPending<span data-darkreader-inline-color="">,</span> startTransition<span data-darkreader-inline-color="">]</span> <span data-darkreader-inline-color="" data-darkreader-inline-bgimage="" data-darkreader-inline-bgcolor="">=</span> <span data-darkreader-inline-color="">useTransition</span><span data-darkreader-inline-color="">(</span><span data-darkreader-inline-color="">)</span><span data-darkreader-inline-color="">;</span><br></span><span data-darkreader-inline-border-left=""><br></span><span data-darkreader-inline-border-left="">  <span data-darkreader-inline-color="">const</span> <span data-darkreader-inline-color="">handleSubmit</span> <span data-darkreader-inline-color="" data-darkreader-inline-bgimage="" data-darkreader-inline-bgcolor="">=</span> <span data-darkreader-inline-color="">async</span> <span data-darkreader-inline-color="">(</span><span data-darkreader-inline-color="">)</span> <span data-darkreader-inline-color="" data-darkreader-inline-bgimage="" data-darkreader-inline-bgcolor="">=&gt;</span> <span data-darkreader-inline-color="">{</span><br></span><span data-darkreader-inline-border-left="">    <span data-darkreader-inline-color="">startTransition</span><span data-darkreader-inline-color="">(</span><span data-darkreader-inline-color="">async</span> <span data-darkreader-inline-color="">(</span><span data-darkreader-inline-color="">)</span> <span data-darkreader-inline-color="" data-darkreader-inline-bgimage="" data-darkreader-inline-bgcolor="">=&gt;</span> <span data-darkreader-inline-color="">{</span><br></span><span data-darkreader-inline-border-left="">      <span data-darkreader-inline-color="">const</span> error <span data-darkreader-inline-color="" data-darkreader-inline-bgimage="" data-darkreader-inline-bgcolor="">=</span> <span data-darkreader-inline-color="">await</span> <span data-darkreader-inline-color="">updateName</span><span data-darkreader-inline-color="">(</span>name<span data-darkreader-inline-color="">)</span><span data-darkreader-inline-color="">;</span><br></span><span data-darkreader-inline-border-left="">      <span data-darkreader-inline-color="">if</span> <span data-darkreader-inline-color="">(</span>error<span data-darkreader-inline-color="">)</span> <span data-darkreader-inline-color="">{</span><br></span><span data-darkreader-inline-border-left="">        <span data-darkreader-inline-color="">setError</span><span data-darkreader-inline-color="">(</span>error<span data-darkreader-inline-color="">)</span><span data-darkreader-inline-color="">;</span><br></span><span data-darkreader-inline-border-left="">        <span data-darkreader-inline-color="">return</span><span data-darkreader-inline-color="">;</span><br></span><span data-darkreader-inline-border-left="">      <span data-darkreader-inline-color="">}</span> <br></span><span data-darkreader-inline-border-left="">      <span data-darkreader-inline-color="">redirect</span><span data-darkreader-inline-color="">(</span><span data-darkreader-inline-color="">"/path"</span><span data-darkreader-inline-color="">)</span><span data-darkreader-inline-color="">;</span><br></span><span data-darkreader-inline-border-left="">    <span data-darkreader-inline-color="">}</span><span data-darkreader-inline-color="">)</span><br></span><span data-darkreader-inline-border-left="">  <span data-darkreader-inline-color="">}</span><span data-darkreader-inline-color="">;</span><br></span><span data-darkreader-inline-border-left=""><br></span><span data-darkreader-inline-border-left="">  <span data-darkreader-inline-color="">return</span> <span data-darkreader-inline-color="">(</span><br></span><span data-darkreader-inline-border-left="">    <span data-darkreader-inline-color="">&lt;</span>div<span data-darkreader-inline-color="">&gt;</span><br></span><span data-darkreader-inline-border-left="">      <span data-darkreader-inline-color="">&lt;</span>input <span data-darkreader-inline-color="">value</span><span data-darkreader-inline-color="">=</span><span data-darkreader-inline-color="">{</span>name<span data-darkreader-inline-color="">}</span> <span data-darkreader-inline-color="">onChange</span><span data-darkreader-inline-color="">=</span><span data-darkreader-inline-color="">{</span><span data-darkreader-inline-color="">(</span>event<span data-darkreader-inline-color="">)</span> <span data-darkreader-inline-color="" data-darkreader-inline-bgimage="" data-darkreader-inline-bgcolor="">=&gt;</span> <span data-darkreader-inline-color="">setName</span><span data-darkreader-inline-color="">(</span>event<span data-darkreader-inline-color="">.</span>target<span data-darkreader-inline-color="">.</span>value<span data-darkreader-inline-color="">)</span><span data-darkreader-inline-color="">}</span> <span data-darkreader-inline-color="">/&gt;</span><br></span><span data-darkreader-inline-border-left="">      <span data-darkreader-inline-color="">&lt;</span>button <span data-darkreader-inline-color="">onClick</span><span data-darkreader-inline-color="">=</span><span data-darkreader-inline-color="">{</span>handleSubmit<span data-darkreader-inline-color="">}</span> <span data-darkreader-inline-color="">disabled</span><span data-darkreader-inline-color="">=</span><span data-darkreader-inline-color="">{</span>isPending<span data-darkreader-inline-color="">}</span><span data-darkreader-inline-color="">&gt;</span><br></span><span data-darkreader-inline-border-left="">        Update<br></span><span data-darkreader-inline-border-left="">      <span data-darkreader-inline-color="">&lt;/</span>button<span data-darkreader-inline-color="">&gt;</span><br></span><span data-darkreader-inline-border-left="">      <span data-darkreader-inline-color="">{</span>error <span data-darkreader-inline-color="" data-darkreader-inline-bgimage="" data-darkreader-inline-bgcolor="">&amp;&amp;</span> <span data-darkreader-inline-color="">&lt;</span>p<span data-darkreader-inline-color="">&gt;</span><span data-darkreader-inline-color="">{</span>error<span data-darkreader-inline-color="">}</span><span data-darkreader-inline-color="">&lt;/</span>p<span data-darkreader-inline-color="">&gt;</span><span data-darkreader-inline-color="">}</span><br></span><span data-darkreader-inline-border-left="">    <span data-darkreader-inline-color="">&lt;/</span>div<span data-darkreader-inline-color="">&gt;</span><br></span><span data-darkreader-inline-border-left="">  <span data-darkreader-inline-color="">)</span><span data-darkreader-inline-color="">;</span><br></span><span data-darkreader-inline-border-left=""><span data-darkreader-inline-color="">}</span><br></span></code></pre>
```

åœ¨Â `handleSubmit`Â å‡½æ•°ä¸­ï¼Œå¼‚æ­¥è¯·æ±‚çš„é€»è¾‘è¢«æ”¾å…¥Â `startTransition`Â çš„å›è°ƒä¸­ã€‚`startTransition`Â è¢«è°ƒç”¨æ—¶ï¼ŒReact ä¼šç«‹å³å°†Â `isPending`Â è®¾ä¸º trueï¼Œè¡¨ç¤ºè¿‡æ¸¡ï¼ˆè¯·æ±‚ï¼‰æ­£åœ¨è¿›è¡Œã€‚ç„¶å React ä¼šåœ¨åå°æ‰§è¡ŒÂ `startTransition`Â çš„å›è°ƒå‡½æ•°ï¼Œå‘é€å¼‚æ­¥è¯·æ±‚ã€‚åœ¨è¯·æ±‚å®Œæˆåï¼ŒReact ä¼šè‡ªåŠ¨å°†Â `isPending`Â åˆ‡æ¢ä¸º falseã€‚

æˆ‘ä»¬åªè¦å°†Â `isPending`Â ç»‘å®šåˆ°æäº¤æŒ‰é’®çš„Â `disabled`Â å±æ€§ï¼Œè¿™æ ·åœ¨è¯·æ±‚è¿›è¡ŒæœŸé—´æŒ‰é’®ä¼šè‡ªåŠ¨è¿›å…¥ç¦ç”¨çŠ¶æ€ï¼Œé¿å…ç”¨æˆ·é‡å¤æäº¤ã€‚

ä¸‹é¢æ€»ç»“ä¸€ä¸‹ React å¯¹ Actions çš„çº¦å®šå’Œè¯´æ˜ï¼š

-   **å‘½åçº¦å®š**ï¼šä½¿ç”¨å¼‚æ­¥è¿‡æ¸¡çš„å‡½æ•°å¯ä»¥è¢«ç§°ä¸ºâ€œActionsâ€ã€‚
    
-   **æŒ‚èµ·çŠ¶æ€**ï¼šActions è‡ªåŠ¨ç®¡ç†æäº¤æ•°æ®çš„æŒ‚èµ·çŠ¶æ€ã€‚å½“å‘èµ·è¯·æ±‚æ—¶ï¼ŒæŒ‚èµ·çŠ¶æ€ä¼šè‡ªåŠ¨å¯åŠ¨ï¼Œå½“æœ€ç»ˆçŠ¶æ€æ›´æ–°åï¼ŒæŒ‚èµ·çŠ¶æ€å°±ä¼šè‡ªåŠ¨é‡ç½®ã€‚è¿™æ ·å¯ä»¥ç¡®ä¿ç”¨æˆ·åœ¨ç­‰å¾…æ•°æ®æäº¤æ—¶èƒ½å¤Ÿè·å¾—åé¦ˆï¼ŒåŒæ—¶åœ¨è¯·æ±‚å®Œæˆåæ¸…é™¤æŒ‚èµ·çŠ¶æ€ã€‚
    
-   **ä¹è§‚æ›´æ–°**ï¼šActions æ”¯æŒä¹è§‚æ›´æ–°ï¼Œå³åœ¨ç­‰å¾…è¯·æ±‚æäº¤æ—¶å°±å‘ç”¨æˆ·æ˜¾ç¤ºæ­£ç¡®çš„æäº¤ç»“æœã€‚å¦‚æœæœ€ç»ˆè¯·æ±‚å¤±è´¥ï¼Œä¹è§‚æ›´æ–°ä¼šè‡ªåŠ¨æ¢å¤åˆ°å…¶åŸå§‹å€¼ã€‚
    
-   **é”™è¯¯å¤„ç†**ï¼šActions æä¾›äº†å†…ç½®çš„é”™è¯¯å¤„ç†åŠŸèƒ½ã€‚å½“è¯·æ±‚å¤±è´¥æ—¶ï¼Œä½ å¯ä»¥ä½¿ç”¨é”™è¯¯è¾¹ç•Œæ¥æ˜¾ç¤ºé”™è¯¯ä¿¡æ¯ã€‚
    
-   **è¡¨å•æ”¯æŒ**ï¼š`<form>`Â å…ƒç´ ç°åœ¨æ”¯æŒå°†å‡½æ•°ä¼ é€’ç»™Â `action`Â å’ŒÂ `formAction`Â å±æ€§ã€‚é€šè¿‡å°†å‡½æ•°ä¼ é€’ç»™Â `action`Â å±æ€§ï¼Œå¯ä»¥ä½¿ç”¨ Actions æ¥å¤„ç†è¡¨å•æäº¤ï¼Œé»˜è®¤æƒ…å†µä¸‹ä¼šåœ¨æäº¤åè‡ªåŠ¨é‡ç½®è¡¨å•ã€‚è¿™ç®€åŒ–äº†è¡¨å•å¤„ç†çš„è¿‡ç¨‹ï¼Œä½¿å…¶æ›´åŠ ç›´è§‚å’Œé«˜æ•ˆã€‚
    

## ä¸‰ä¸ªæ–° Hook

ä¸ºä»€ä¹ˆè¦å…ˆä»‹ç» Actions å‘¢ï¼Ÿå› ä¸º React 19 åœ¨ Actions åŸºç¡€ä¸Šå¼•å…¥äº†ä¸‰ä¸ªæ–° Hookï¼Œæ¯ä¸€ä¸ªéƒ½æ˜¯ä¸ºäº†ç®€åŒ–å¼€å‘è€…æ“ä½œçŠ¶æ€çš„å¤æ‚åº¦ã€‚

### useOptimistic

`useOptimistic`Â çš„ä¸»è¦ç›®çš„æ˜¯è®©æˆ‘ä»¬å¯ä»¥åœ¨ç­‰å¾…å¼‚æ­¥æ“ä½œç»“æœçš„æ—¶å€™ï¼Œå…ˆå‡è®¾æ“ä½œæˆåŠŸå¹¶æ›´æ–°çŠ¶æ€ï¼Œç„¶åå†æ ¹æ®å®é™…ç»“æœæ¥ç¡®è®¤çŠ¶æ€ã€‚

å®ƒçš„åŸºæœ¬ç”¨æ³•å¦‚ä¸‹ï¼š

```
<section><span><span data-darkreader-inline-bgcolor=""></span><span data-darkreader-inline-bgcolor=""></span><span data-darkreader-inline-bgcolor=""></span></span><span> </span></section><pre data-title="true"><code data-line="131" data-darkreader-inline-bgimage=""><span data-darkreader-inline-border-left=""><span data-darkreader-inline-color="">import</span> <span data-darkreader-inline-color="">{</span> useOptimistic <span data-darkreader-inline-color="">}</span> <span data-darkreader-inline-color="">from</span> <span data-darkreader-inline-color="">'react'</span><span data-darkreader-inline-color="">;</span><br></span><span data-darkreader-inline-border-left=""><br></span><span data-darkreader-inline-border-left=""><span data-darkreader-inline-color="">function</span> <span data-darkreader-inline-color="">AppContainer</span><span data-darkreader-inline-color="">(</span><span data-darkreader-inline-color="">)</span> <span data-darkreader-inline-color="">{</span><br></span><span data-darkreader-inline-border-left="">  <span data-darkreader-inline-color="">const</span> <span data-darkreader-inline-color="">[</span>optimisticState<span data-darkreader-inline-color="">,</span> addOptimistic<span data-darkreader-inline-color="">]</span> <span data-darkreader-inline-color="" data-darkreader-inline-bgimage="" data-darkreader-inline-bgcolor="">=</span> <span data-darkreader-inline-color="">useOptimistic</span><span data-darkreader-inline-color="">(</span><br></span><span data-darkreader-inline-border-left="">    state<span data-darkreader-inline-color="">,</span><br></span><span data-darkreader-inline-border-left="">    <span data-darkreader-inline-color="">// updateFn</span><br></span><span data-darkreader-inline-border-left="">    <span data-darkreader-inline-color="">(</span>currentState<span data-darkreader-inline-color="">,</span> optimisticValue<span data-darkreader-inline-color="">)</span> <span data-darkreader-inline-color="" data-darkreader-inline-bgimage="" data-darkreader-inline-bgcolor="">=&gt;</span> <span data-darkreader-inline-color="">{</span><br></span><span data-darkreader-inline-border-left="">      <span data-darkreader-inline-color="">// merge and return new state</span><br></span><span data-darkreader-inline-border-left="">      <span data-darkreader-inline-color="">// with optimistic value</span><br></span><span data-darkreader-inline-border-left="">    <span data-darkreader-inline-color="">}</span><br></span><span data-darkreader-inline-border-left="">  <span data-darkreader-inline-color="">)</span><span data-darkreader-inline-color="">;</span><br></span><span data-darkreader-inline-border-left=""><span data-darkreader-inline-color="">}</span><br></span></code></pre>
```

å…¶ä¸­ï¼š

-   `state`: åˆå§‹çŠ¶æ€å’Œæ²¡æœ‰æ­£åœ¨è¿›è¡Œçš„æ“ä½œæ—¶è¿”å›çš„çŠ¶æ€ã€‚
    
-   `updateFn(currentState, optimisticValue)`: ä¸€ä¸ªçº¯å‡½æ•°ï¼Œæ¥å—å½“å‰çŠ¶æ€å’ŒÂ `addOptimistic`Â ä¼ å…¥çš„ä¹è§‚æ›´æ–°å€¼ï¼Œè¿”å›åˆå¹¶åçš„ä¹è§‚çŠ¶æ€ã€‚
    
-   `optimisticState`: ä¹è§‚çŠ¶æ€,å¦‚æœæ²¡æœ‰æ­£åœ¨è¿›è¡Œçš„æ“ä½œï¼Œåˆ™ç­‰äºÂ `state`ï¼Œå¦åˆ™ç­‰äºÂ `updateFn`Â çš„è¿”å›å€¼ã€‚
    
-   `addOptimistic`: ä¸€ä¸ªç”¨äºè§¦å‘ä¹è§‚æ›´æ–°çš„å‡½æ•°ï¼Œæ¥å—ä¸€ä¸ªä»»æ„ç±»å‹çš„Â `optimisticValue`Â å‚æ•°ï¼Œå¹¶å°†å…¶ä¼ é€’ç»™Â `updateFn`ã€‚
    

`useOptimistic`Â çš„ä½¿ç”¨åœºæ™¯éå¸¸å¹¿æ³›ï¼Œä¾‹å¦‚ï¼šè¡¨å•æäº¤ã€ç‚¹èµã€æ”¶è—ã€åˆ é™¤ç­‰éœ€è¦å³æ—¶åé¦ˆçš„åœºæ™¯å‡é€‚ç”¨ã€‚

è¿™æ˜¯ä¸€ä¸ªåˆ é™¤æ•°æ®ä¹è§‚æ›´æ–°çš„ä¾‹å­ï¼š

```
<section><span><span data-darkreader-inline-bgcolor=""></span><span data-darkreader-inline-bgcolor=""></span><span data-darkreader-inline-bgcolor=""></span></span><span> </span></section><pre data-title="true"><code data-line="190" data-darkreader-inline-bgimage=""><span data-darkreader-inline-border-left=""><span data-darkreader-inline-color="">import</span> React<span data-darkreader-inline-color="">,</span> <span data-darkreader-inline-color="">{</span> useState <span data-darkreader-inline-color="">}</span> <span data-darkreader-inline-color="">from</span> <span data-darkreader-inline-color="">'react'</span><span data-darkreader-inline-color="">;</span><br></span><span data-darkreader-inline-border-left=""><span data-darkreader-inline-color="">import</span> <span data-darkreader-inline-color="">{</span> useOptimistic <span data-darkreader-inline-color="">}</span> <span data-darkreader-inline-color="">from</span> <span data-darkreader-inline-color="">'react'</span><span data-darkreader-inline-color="">;</span><br></span><span data-darkreader-inline-border-left=""><br></span><span data-darkreader-inline-border-left=""><span data-darkreader-inline-color="">function</span> <span data-darkreader-inline-color="">AppContainer</span><span data-darkreader-inline-color="">(</span><span data-darkreader-inline-color="">)</span> <span data-darkreader-inline-color="">{</span><br></span><span data-darkreader-inline-border-left=""><span data-darkreader-inline-color="">// é»˜è®¤æ•°æ®</span><br></span><span data-darkreader-inline-border-left="">  <span data-darkreader-inline-color="">const</span> <span data-darkreader-inline-color="">[</span>state<span data-darkreader-inline-color="">,</span> setState<span data-darkreader-inline-color="">]</span> <span data-darkreader-inline-color="" data-darkreader-inline-bgimage="" data-darkreader-inline-bgcolor="">=</span> <span data-darkreader-inline-color="">useState</span><span data-darkreader-inline-color="">(</span><span data-darkreader-inline-color="">[</span><br></span><span data-darkreader-inline-border-left="">    <span data-darkreader-inline-color="">{</span> id<span data-darkreader-inline-color="" data-darkreader-inline-bgimage="" data-darkreader-inline-bgcolor="">:</span> 1<span data-darkreader-inline-color="">,</span> name<span data-darkreader-inline-color="" data-darkreader-inline-bgimage="" data-darkreader-inline-bgcolor="">:</span> <span data-darkreader-inline-color="">'Item 1'</span> <span data-darkreader-inline-color="">}</span><span data-darkreader-inline-color="">,</span><br></span><span data-darkreader-inline-border-left="">    <span data-darkreader-inline-color="">{</span> id<span data-darkreader-inline-color="" data-darkreader-inline-bgimage="" data-darkreader-inline-bgcolor="">:</span> 2<span data-darkreader-inline-color="">,</span> name<span data-darkreader-inline-color="" data-darkreader-inline-bgimage="" data-darkreader-inline-bgcolor="">:</span> <span data-darkreader-inline-color="">'Item 2'</span> <span data-darkreader-inline-color="">}</span><span data-darkreader-inline-color="">,</span><br></span><span data-darkreader-inline-border-left="">    <span data-darkreader-inline-color="">{</span> id<span data-darkreader-inline-color="" data-darkreader-inline-bgimage="" data-darkreader-inline-bgcolor="">:</span> 3<span data-darkreader-inline-color="">,</span> name<span data-darkreader-inline-color="" data-darkreader-inline-bgimage="" data-darkreader-inline-bgcolor="">:</span> <span data-darkreader-inline-color="">'Item 3'</span> <span data-darkreader-inline-color="">}</span><span data-darkreader-inline-color="">,</span><br></span><span data-darkreader-inline-border-left="">  <span data-darkreader-inline-color="">]</span><span data-darkreader-inline-color="">)</span><span data-darkreader-inline-color="">;</span><br></span><span data-darkreader-inline-border-left=""><br></span><span data-darkreader-inline-border-left=""><span data-darkreader-inline-color="">// å®šä¹‰æ›´æ–°å‡½æ•°ï¼Œè¯¥å‡½æ•°åŸºäºå½“å‰çŠ¶æ€å’Œä¹è§‚å€¼ï¼ˆè¦åˆ é™¤çš„æ¡ç›®çš„IDï¼‰æ¥æ›´æ–°çŠ¶æ€</span><br></span><span data-darkreader-inline-border-left="">  <span data-darkreader-inline-color="">const</span> <span data-darkreader-inline-color="">updateFn</span> <span data-darkreader-inline-color="" data-darkreader-inline-bgimage="" data-darkreader-inline-bgcolor="">=</span> <span data-darkreader-inline-color="">(</span>currentState<span data-darkreader-inline-color="">,</span> optimisticId<span data-darkreader-inline-color="">)</span> <span data-darkreader-inline-color="" data-darkreader-inline-bgimage="" data-darkreader-inline-bgcolor="">=&gt;</span> <span data-darkreader-inline-color="">{</span><br></span><span data-darkreader-inline-border-left="">    <span data-darkreader-inline-color="">return</span> currentState<span data-darkreader-inline-color="">.</span><span data-darkreader-inline-color="">filter</span><span data-darkreader-inline-color="">(</span>item <span data-darkreader-inline-color="" data-darkreader-inline-bgimage="" data-darkreader-inline-bgcolor="">=&gt;</span> item<span data-darkreader-inline-color="">.</span>id <span data-darkreader-inline-color="" data-darkreader-inline-bgimage="" data-darkreader-inline-bgcolor="">!==</span> optimisticId<span data-darkreader-inline-color="">)</span><span data-darkreader-inline-color="">;</span><br></span><span data-darkreader-inline-border-left="">  <span data-darkreader-inline-color="">}</span><span data-darkreader-inline-color="">;</span><br></span><span data-darkreader-inline-border-left=""><br></span><span data-darkreader-inline-border-left="">  <span data-darkreader-inline-color="">const</span> <span data-darkreader-inline-color="">[</span>optimisticState<span data-darkreader-inline-color="">,</span> addOptimistic<span data-darkreader-inline-color="">]</span> <span data-darkreader-inline-color="" data-darkreader-inline-bgimage="" data-darkreader-inline-bgcolor="">=</span> <span data-darkreader-inline-color="">useOptimistic</span><span data-darkreader-inline-color="">(</span>state<span data-darkreader-inline-color="">,</span> updateFn<span data-darkreader-inline-color="">)</span><span data-darkreader-inline-color="">;</span><br></span><span data-darkreader-inline-border-left=""><br></span><span data-darkreader-inline-border-left=""><span data-darkreader-inline-color="">// åˆ é™¤item</span><br></span><span data-darkreader-inline-border-left="">  <span data-darkreader-inline-color="">const</span> <span data-darkreader-inline-color="">deleteItem</span> <span data-darkreader-inline-color="" data-darkreader-inline-bgimage="" data-darkreader-inline-bgcolor="">=</span> <span data-darkreader-inline-color="">async</span> <span data-darkreader-inline-color="">(</span>itemId<span data-darkreader-inline-color="">)</span> <span data-darkreader-inline-color="" data-darkreader-inline-bgimage="" data-darkreader-inline-bgcolor="">=&gt;</span> <span data-darkreader-inline-color="">{</span><br></span><span data-darkreader-inline-border-left="">    <span data-darkreader-inline-color="">// é¦–å…ˆä¹è§‚åœ°æ›´æ–° UI</span><br></span><span data-darkreader-inline-border-left="">    <span data-darkreader-inline-color="">addOptimistic</span><span data-darkreader-inline-color="">(</span>itemId<span data-darkreader-inline-color="">)</span><span data-darkreader-inline-color="">;</span><br></span><span data-darkreader-inline-border-left=""><br></span><span data-darkreader-inline-border-left="">    <span data-darkreader-inline-color="">// æ¨¡æ‹Ÿ API è¯·æ±‚å»¶è¿Ÿ</span><br></span><span data-darkreader-inline-border-left="">    <span data-darkreader-inline-color="">setTimeout</span><span data-darkreader-inline-color="">(</span><span data-darkreader-inline-color="">(</span><span data-darkreader-inline-color="">)</span> <span data-darkreader-inline-color="" data-darkreader-inline-bgimage="" data-darkreader-inline-bgcolor="">=&gt;</span> <span data-darkreader-inline-color="">{</span><br></span><span data-darkreader-inline-border-left="">      <span data-darkreader-inline-color="">// å‡è®¾è¿™é‡Œæ˜¯ API åˆ é™¤è°ƒç”¨ï¼Œå®Œæˆåæ›´æ–°å®é™…çŠ¶æ€</span><br></span><span data-darkreader-inline-border-left="">      <span data-darkreader-inline-color="">setItems</span><span data-darkreader-inline-color="">(</span>currentItems <span data-darkreader-inline-color="" data-darkreader-inline-bgimage="" data-darkreader-inline-bgcolor="">=&gt;</span> currentItems<span data-darkreader-inline-color="">.</span><span data-darkreader-inline-color="">filter</span><span data-darkreader-inline-color="">(</span>item <span data-darkreader-inline-color="" data-darkreader-inline-bgimage="" data-darkreader-inline-bgcolor="">=&gt;</span> item<span data-darkreader-inline-color="">.</span>id <span data-darkreader-inline-color="" data-darkreader-inline-bgimage="" data-darkreader-inline-bgcolor="">!==</span> itemId<span data-darkreader-inline-color="">)</span><span data-darkreader-inline-color="">)</span><span data-darkreader-inline-color="">;</span><br></span><span data-darkreader-inline-border-left="">    <span data-darkreader-inline-color="">}</span><span data-darkreader-inline-color="">,</span> 2000<span data-darkreader-inline-color="">)</span><span data-darkreader-inline-color="">;</span><br></span><span data-darkreader-inline-border-left="">  <span data-darkreader-inline-color="">}</span><span data-darkreader-inline-color="">;</span><br></span><span data-darkreader-inline-border-left=""><br></span><span data-darkreader-inline-border-left="">  <span data-darkreader-inline-color="">return</span> <span data-darkreader-inline-color="">(</span><br></span><span data-darkreader-inline-border-left="">    <span data-darkreader-inline-color="">&lt;</span>div<span data-darkreader-inline-color="">&gt;</span><br></span><span data-darkreader-inline-border-left="">      <span data-darkreader-inline-color="">&lt;</span>h1<span data-darkreader-inline-color="">&gt;</span>Optimistically Deleting Items<span data-darkreader-inline-color="">&lt;/</span>h1<span data-darkreader-inline-color="">&gt;</span><br></span><span data-darkreader-inline-border-left="">      <span data-darkreader-inline-color="">&lt;</span>ul<span data-darkreader-inline-color="">&gt;</span><br></span><span data-darkreader-inline-border-left="">        <span data-darkreader-inline-color="">{</span>optimisticState<span data-darkreader-inline-color="">.</span><span data-darkreader-inline-color="">map</span><span data-darkreader-inline-color="">(</span>item <span data-darkreader-inline-color="" data-darkreader-inline-bgimage="" data-darkreader-inline-bgcolor="">=&gt;</span> <span data-darkreader-inline-color="">(</span><br></span><span data-darkreader-inline-border-left="">          <span data-darkreader-inline-color="">&lt;</span>li <span data-darkreader-inline-color="">key</span><span data-darkreader-inline-color="">=</span><span data-darkreader-inline-color="">{</span>item<span data-darkreader-inline-color="">.</span>id<span data-darkreader-inline-color="">}</span><span data-darkreader-inline-color="">&gt;</span><br></span><span data-darkreader-inline-border-left="">            <span data-darkreader-inline-color="">{</span>item<span data-darkreader-inline-color="">.</span>name<span data-darkreader-inline-color="">}</span> <span data-darkreader-inline-color="">&lt;</span>button <span data-darkreader-inline-color="">onClick</span><span data-darkreader-inline-color="">=</span><span data-darkreader-inline-color="">{</span><span data-darkreader-inline-color="">(</span><span data-darkreader-inline-color="">)</span> <span data-darkreader-inline-color="" data-darkreader-inline-bgimage="" data-darkreader-inline-bgcolor="">=&gt;</span> <span data-darkreader-inline-color="">deleteItem</span><span data-darkreader-inline-color="">(</span>item<span data-darkreader-inline-color="">.</span>id<span data-darkreader-inline-color="">)</span><span data-darkreader-inline-color="">}</span><span data-darkreader-inline-color="">&gt;</span>Delete<span data-darkreader-inline-color="">&lt;/</span>button<span data-darkreader-inline-color="">&gt;</span><br></span><span data-darkreader-inline-border-left="">          <span data-darkreader-inline-color="">&lt;/</span>li<span data-darkreader-inline-color="">&gt;</span><br></span><span data-darkreader-inline-border-left="">        <span data-darkreader-inline-color="">)</span><span data-darkreader-inline-color="">)</span><span data-darkreader-inline-color="">}</span><br></span><span data-darkreader-inline-border-left="">      <span data-darkreader-inline-color="">&lt;/</span>ul<span data-darkreader-inline-color="">&gt;</span><br></span><span data-darkreader-inline-border-left="">    <span data-darkreader-inline-color="">&lt;/</span>div<span data-darkreader-inline-color="">&gt;</span><br></span><span data-darkreader-inline-border-left="">  <span data-darkreader-inline-color="">)</span><span data-darkreader-inline-color="">;</span><br></span><span data-darkreader-inline-border-left=""><span data-darkreader-inline-color="">}</span><br></span><span data-darkreader-inline-border-left=""><br></span><span data-darkreader-inline-border-left=""><span data-darkreader-inline-color="">export</span> <span data-darkreader-inline-color="">default</span> AppContainer<span data-darkreader-inline-color="">;</span><br></span></code></pre>
```

### useActionState

`useActionState`Â åŸåå«åšÂ `useFormState`ï¼Œ19ç‰ˆæœ¬å¯ç”¨æ–°åç§°ï¼Œè¿”å›å‚æ•°ä¹Ÿå‘ç”Ÿäº†å˜åŒ–ï¼ˆå¥‡æ€ªçš„æ˜¯ï¼ŒReact è¿˜æœªæ›´æ–°Â `useActionState`Â çš„æ–‡æ¡£ï¼Œæ¬ºè´Ÿç¨‹åºå‘˜ä¸çœ‹æ–‡æ¡£å—ï¼ŸğŸ¶ï¼‰ã€‚

![Image](data:image/svg+xml,%3C%3Fxml version='1.0' encoding='UTF-8'%3F%3E%3Csvg width='1px' height='1px' viewBox='0 0 1 1' version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'%3E%3Ctitle%3E%3C/title%3E%3Cg stroke='none' stroke-width='1' fill='none' fill-rule='evenodd' fill-opacity='0'%3E%3Cg transform='translate(-249.000000, -126.000000)' fill='%23FFFFFF'%3E%3Crect x='249' y='126' width='1' height='1'%3E%3C/rect%3E%3C/g%3E%3C/g%3E%3C/svg%3E)

è¿™æ˜¯ useActionState çš„æœ€æ–°åŸºæœ¬ç”¨æ³•ï¼š

```
<section><span><span data-darkreader-inline-bgcolor=""></span><span data-darkreader-inline-bgcolor=""></span><span data-darkreader-inline-bgcolor=""></span></span><span> </span></section><pre data-title="true"><code data-line="202" data-darkreader-inline-bgimage=""><span data-darkreader-inline-border-left=""><span data-darkreader-inline-color="">const</span> <span data-darkreader-inline-color="">[</span>state<span data-darkreader-inline-color="">,</span> actionï¼Œ pending<span data-darkreader-inline-color="">]</span> <span data-darkreader-inline-color="" data-darkreader-inline-bgimage="" data-darkreader-inline-bgcolor="">=</span> <span data-darkreader-inline-color="">useActionState</span><span data-darkreader-inline-color="">(</span>fn<span data-darkreader-inline-color="">,</span> initialState<span data-darkreader-inline-color="">,</span> permalink<span data-darkreader-inline-color="" data-darkreader-inline-bgimage="" data-darkreader-inline-bgcolor="">?</span><span data-darkreader-inline-color="">)</span><span data-darkreader-inline-color="">;</span><br></span></code></pre>
```

å…¶ä¸­è¿”å›å‚æ•°æœ‰ï¼š

-   `state`: è¡¨ç¤ºå½“å‰çš„çŠ¶æ€ã€‚åœ¨ç¬¬ä¸€æ¬¡æ¸²æŸ“æ—¶ï¼Œå®ƒç­‰äºåˆå§‹çŠ¶æ€Â `initialState`ã€‚åœ¨æ‰§è¡Œæ“ä½œåï¼Œå®ƒå°†æ˜¯æœ€æ–°ç»“æœã€‚
    
-   `action`: è¿™æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œç”¨äºæ‰§è¡Œæ“ä½œã€‚å½“è°ƒç”¨è¿™ä¸ªå‡½æ•°æ—¶ï¼Œå®ƒå°†è§¦å‘Â `fn`Â å‡½æ•°çš„æ‰§è¡Œï¼Œå¹¶æ›´æ–°çŠ¶æ€ã€‚
    
-   `pending`: è¿™æ˜¯æ–°å¢å‚æ•°ï¼Œå®ƒæ˜¯ä¸€ä¸ªå¸ƒå°”å€¼ï¼Œè¡¨ç¤ºå½“å‰æ˜¯å¦æ­£åœ¨æ‰§è¡Œæ“ä½œã€‚å¦‚æœæ­£åœ¨æ‰§è¡Œæ“ä½œï¼Œåˆ™ä¸ºÂ `true`ï¼Œå¦åˆ™ä¸ºÂ `false`ã€‚
    

ä¼ å…¥çš„å‚æ•°æœ‰ï¼š

-   `fn`ï¼šè¿™æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œactionè¢«è°ƒç”¨æ—¶ä¼šè§¦å‘ï¼Œéšåè¿”å›æ–°çš„å€¼ã€‚
    
-   `initialState`ï¼šè¿™æ˜¯åˆå§‹å€¼ï¼Œå¦‚æœæ²¡æœ‰åˆå€¼ï¼Œè¦è®¾ç½®ä¸ºnullã€‚
    
-   `permalink`ï¼šè¿™æ˜¯ä¸€ä¸ªå¯é€‰çš„å­—ç¬¦ä¸²å‚æ•°ï¼Œé€šå¸¸ä¸server actionä¸€èµ·ä½¿ç”¨ã€‚
    

ä¸‹é¢æ˜¯Â `useActionState`Â ä¸ form action ä¸€èµ·ä½¿ç”¨çš„ä¾‹å­ï¼Œå®ç°äº†æ›´æ–°åç§°çš„åŠŸèƒ½ï¼Œå¦‚æœæ›´æ–°å¤±è´¥ï¼Œé¡µé¢ä¸Šæ˜¾ç¤º errorï¼Œå¦‚æœæ›´æ–°æˆåŠŸï¼Œè·³è½¬åˆ°æ›´æ–°åçš„é¡µé¢ï¼š

```
<section><span><span data-darkreader-inline-bgcolor=""></span><span data-darkreader-inline-bgcolor=""></span><span data-darkreader-inline-bgcolor=""></span></span><span> </span></section><pre data-title="true"><code data-line="258" data-darkreader-inline-bgimage=""><span data-darkreader-inline-border-left=""><span data-darkreader-inline-color="">import</span> <span data-darkreader-inline-color="">{</span> useActionState <span data-darkreader-inline-color="">}</span> <span data-darkreader-inline-color="">from</span> <span data-darkreader-inline-color="">'react'</span><span data-darkreader-inline-color="">;</span><br></span><span data-darkreader-inline-border-left=""><br></span><span data-darkreader-inline-border-left=""><span data-darkreader-inline-color="">function</span> <span data-darkreader-inline-color="">ChangeName</span><span data-darkreader-inline-color="">(</span><span data-darkreader-inline-color="">{</span> name<span data-darkreader-inline-color="">,</span> setName <span data-darkreader-inline-color="">}</span><span data-darkreader-inline-color="">)</span> <span data-darkreader-inline-color="">{</span><br></span><span data-darkreader-inline-border-left="">  <span data-darkreader-inline-color="">// ä½¿ç”¨ useActionState åˆ›å»ºä¸è¡¨å•æ“ä½œç›¸å…³è”çš„çŠ¶æ€</span><br></span><span data-darkreader-inline-border-left="">  <span data-darkreader-inline-color="">const</span> <span data-darkreader-inline-color="">[</span>error<span data-darkreader-inline-color="">,</span> submitAction<span data-darkreader-inline-color="">,</span> isPending<span data-darkreader-inline-color="">]</span> <span data-darkreader-inline-color="" data-darkreader-inline-bgimage="" data-darkreader-inline-bgcolor="">=</span> <span data-darkreader-inline-color="">useActionState</span><span data-darkreader-inline-color="">(</span><br></span><span data-darkreader-inline-border-left="">    <span data-darkreader-inline-color="">// ç¬¬ä¸€ä¸ªå‚æ•°ï¼šè¡¨å•æ“ä½œå‡½æ•°</span><br></span><span data-darkreader-inline-border-left="">    <span data-darkreader-inline-color="">async</span> <span data-darkreader-inline-color="">(</span>previousState<span data-darkreader-inline-color="">,</span> formData<span data-darkreader-inline-color="">)</span> <span data-darkreader-inline-color="" data-darkreader-inline-bgimage="" data-darkreader-inline-bgcolor="">=&gt;</span> <span data-darkreader-inline-color="">{</span><br></span><span data-darkreader-inline-border-left="">      <span data-darkreader-inline-color="">// åœ¨æ­¤å®šä¹‰è¡¨å•æ“ä½œçš„é€»è¾‘</span><br></span><span data-darkreader-inline-border-left="">      <span data-darkreader-inline-color="">// è¿™ä¸ªå‡½æ•°ä¼šåœ¨è¡¨å•æäº¤æ—¶è¢«è°ƒç”¨</span><br></span><span data-darkreader-inline-border-left="">      <span data-darkreader-inline-color="">// å®ƒæ¥æ”¶ä¸¤ä¸ªå‚æ•°ï¼š</span><br></span><span data-darkreader-inline-border-left="">      <span data-darkreader-inline-color="">// - previousState: å‰ä¸€ä¸ªçŠ¶æ€ï¼Œåˆå§‹ä¸º nullï¼Œä¹‹åä¸ºä¸Šä¸€æ¬¡æ“ä½œçš„è¿”å›å€¼</span><br></span><span data-darkreader-inline-border-left="">      <span data-darkreader-inline-color="">// - formData: è¡¨å•æ•°æ®å¯¹è±¡ï¼Œå¯é€šè¿‡ formData.get("name") è·å–è¡¨å•å­—æ®µçš„å€¼</span><br></span><span data-darkreader-inline-border-left="">      <span data-darkreader-inline-color="">const</span> error <span data-darkreader-inline-color="" data-darkreader-inline-bgimage="" data-darkreader-inline-bgcolor="">=</span> <span data-darkreader-inline-color="">await</span> <span data-darkreader-inline-color="">updateName</span><span data-darkreader-inline-color="">(</span>formData<span data-darkreader-inline-color="">.</span><span data-darkreader-inline-color="">get</span><span data-darkreader-inline-color="">(</span><span data-darkreader-inline-color="">"name"</span><span data-darkreader-inline-color="">)</span><span data-darkreader-inline-color="">)</span><span data-darkreader-inline-color="">;</span><br></span><span data-darkreader-inline-border-left=""><br></span><span data-darkreader-inline-border-left="">      <span data-darkreader-inline-color="">// å¦‚æœæ“ä½œä¸­å‡ºç°äº†é”™è¯¯ï¼Œåˆ™è¿”å›é”™è¯¯ä¿¡æ¯</span><br></span><span data-darkreader-inline-border-left="">      <span data-darkreader-inline-color="">if</span> <span data-darkreader-inline-color="">(</span>error<span data-darkreader-inline-color="">)</span> <span data-darkreader-inline-color="">{</span><br></span><span data-darkreader-inline-border-left="">        <span data-darkreader-inline-color="">return</span> error<span data-darkreader-inline-color="">;</span><br></span><span data-darkreader-inline-border-left="">      <span data-darkreader-inline-color="">}</span><br></span><span data-darkreader-inline-border-left=""><br></span><span data-darkreader-inline-border-left="">      <span data-darkreader-inline-color="">// å¦‚æœæ“ä½œæˆåŠŸï¼Œåˆ™æ‰§è¡Œé‡å®šå‘</span><br></span><span data-darkreader-inline-border-left="">      <span data-darkreader-inline-color="">redirect</span><span data-darkreader-inline-color="">(</span><span data-darkreader-inline-color="">"/path"</span><span data-darkreader-inline-color="">)</span><span data-darkreader-inline-color="">;</span><br></span><span data-darkreader-inline-border-left="">    <span data-darkreader-inline-color="">}</span><span data-darkreader-inline-color="">,</span> <br></span><span data-darkreader-inline-border-left="">    <span data-darkreader-inline-color="">// ç¬¬äºŒä¸ªå‚æ•°ï¼šåˆå§‹çŠ¶æ€ï¼Œè¿™é‡Œä¸º nullï¼Œå› ä¸ºåˆå§‹çŠ¶æ€å¹¶ä¸é‡è¦</span><br></span><span data-darkreader-inline-border-left="">    <span data-darkreader-inline-color="">null</span><br></span><span data-darkreader-inline-border-left="">  <span data-darkreader-inline-color="">)</span><span data-darkreader-inline-color="">;</span><br></span><span data-darkreader-inline-border-left=""><br></span><span data-darkreader-inline-border-left="">  <span data-darkreader-inline-color="">// è¿”å›è¡¨å•åŠç›¸å…³çš„çŠ¶æ€å’Œè¡Œä¸º</span><br></span><span data-darkreader-inline-border-left="">  <span data-darkreader-inline-color="">return</span> <span data-darkreader-inline-color="">(</span><br></span><span data-darkreader-inline-border-left="">    <span data-darkreader-inline-color="">&lt;</span>form <span data-darkreader-inline-color="">action</span><span data-darkreader-inline-color="">=</span><span data-darkreader-inline-color="">{</span>submitAction<span data-darkreader-inline-color="">}</span><span data-darkreader-inline-color="">&gt;</span><br></span><span data-darkreader-inline-border-left="">      <span data-darkreader-inline-color="">&lt;</span>input <span data-darkreader-inline-color="">type</span><span data-darkreader-inline-color=""><span data-darkreader-inline-color="">=</span><span data-darkreader-inline-color="">"</span>text<span data-darkreader-inline-color="">"</span></span> <span data-darkreader-inline-color="">name</span><span data-darkreader-inline-color=""><span data-darkreader-inline-color="">=</span><span data-darkreader-inline-color="">"</span>name<span data-darkreader-inline-color="">"</span></span> <span data-darkreader-inline-color="">/&gt;</span><br></span><span data-darkreader-inline-border-left="">      <span data-darkreader-inline-color="">&lt;</span>button <span data-darkreader-inline-color="">type</span><span data-darkreader-inline-color=""><span data-darkreader-inline-color="">=</span><span data-darkreader-inline-color="">"</span>submit<span data-darkreader-inline-color="">"</span></span> <span data-darkreader-inline-color="">disabled</span><span data-darkreader-inline-color="">=</span><span data-darkreader-inline-color="">{</span>isPending<span data-darkreader-inline-color="">}</span><span data-darkreader-inline-color="">&gt;</span><br></span><span data-darkreader-inline-border-left="">        æäº¤<br></span><span data-darkreader-inline-border-left="">      <span data-darkreader-inline-color="">&lt;/</span>button<span data-darkreader-inline-color="">&gt;</span><br></span><span data-darkreader-inline-border-left="">      <br></span><span data-darkreader-inline-border-left="">      <span data-darkreader-inline-color="">{</span><span data-darkreader-inline-color="">/* é”™è¯¯ä¿¡æ¯ */</span><span data-darkreader-inline-color="">}</span><br></span><span data-darkreader-inline-border-left="">      <span data-darkreader-inline-color="">{</span>error <span data-darkreader-inline-color="" data-darkreader-inline-bgimage="" data-darkreader-inline-bgcolor="">&amp;&amp;</span> <span data-darkreader-inline-color="">&lt;</span>p<span data-darkreader-inline-color="">&gt;</span><span data-darkreader-inline-color="">{</span>error<span data-darkreader-inline-color="">}</span><span data-darkreader-inline-color="">&lt;/</span>p<span data-darkreader-inline-color="">&gt;</span><span data-darkreader-inline-color="">}</span><br></span><span data-darkreader-inline-border-left="">    <span data-darkreader-inline-color="">&lt;/</span>form<span data-darkreader-inline-color="">&gt;</span><br></span><span data-darkreader-inline-border-left="">  <span data-darkreader-inline-color="">)</span><span data-darkreader-inline-color="">;</span><br></span><span data-darkreader-inline-border-left=""><span data-darkreader-inline-color="">}</span><br></span></code></pre>
```

### useFormStatus

`useFormStatus`Â ç”¨æ¥è·å–è¡¨å•æäº¤çš„çŠ¶æ€ä¿¡æ¯ã€‚å®ƒçš„åŸºæœ¬ç”¨æ³•å¦‚ä¸‹ï¼š

```
<section><span><span data-darkreader-inline-bgcolor=""></span><span data-darkreader-inline-bgcolor=""></span><span data-darkreader-inline-bgcolor=""></span></span><span> </span></section><pre data-title="true"><code data-line="266" data-darkreader-inline-bgimage=""><span data-darkreader-inline-border-left=""><span data-darkreader-inline-color="">const</span> <span data-darkreader-inline-color="">{</span> pending<span data-darkreader-inline-color="">,</span> data<span data-darkreader-inline-color="">,</span> method<span data-darkreader-inline-color="">,</span> action <span data-darkreader-inline-color="">}</span> <span data-darkreader-inline-color="" data-darkreader-inline-bgimage="" data-darkreader-inline-bgcolor="">=</span> <span data-darkreader-inline-color="">useFormStatus</span><span data-darkreader-inline-color="">(</span><span data-darkreader-inline-color="">)</span><span data-darkreader-inline-color="">;</span><br></span></code></pre>
```

å…¶ä¸­ï¼š

-   `pending`: ä¸€ä¸ªå¸ƒå°”å€¼ï¼Œè¡¨ç¤ºçˆ¶çº§Â `<form>`Â æ˜¯å¦æ­£åœ¨æäº¤ã€‚å¦‚æœä¸ºÂ `true`ï¼Œè¡¨ç¤ºè¡¨å•æ­£åœ¨æäº¤ï¼Œå¦åˆ™ä¸ºÂ `false`ã€‚
    
-   `data`: ä¸€ä¸ªå®ç°äº† FormData æ¥å£çš„å¯¹è±¡ï¼ŒåŒ…å«çˆ¶çº§Â `<form>`Â æ­£åœ¨æäº¤çš„æ•°æ®ã€‚å¦‚æœæ²¡æœ‰æ­£åœ¨è¿›è¡Œçš„æäº¤æˆ–æ²¡æœ‰çˆ¶çº§Â `<form>`ï¼Œåˆ™ä¸ºÂ `null`ã€‚
    
-   `method`: ä¸€ä¸ªå­—ç¬¦ä¸²å€¼ï¼Œè¡¨ç¤ºçˆ¶çº§Â `<form>`Â ä½¿ç”¨çš„ HTTP æ–¹æ³•ï¼Œå¯ä»¥æ˜¯ get æˆ– postã€‚
    
-   `action`: ä¸€ä¸ªæŒ‡å‘ä¼ é€’ç»™çˆ¶çº§Â `<form>`Â çš„ action å±æ€§çš„å‡½æ•°çš„å¼•ç”¨ã€‚å¦‚æœæ²¡æœ‰çˆ¶çº§Â `<form>`ï¼Œåˆ™è¯¥å±æ€§ä¸ºÂ `null`ã€‚
    

ä¾‹å¦‚ï¼Œåœ¨ form action ä¸­ï¼Œå¼€å‘è€…å¯ä»¥é€šè¿‡Â `useFormStatus`Â è·å–è¡¨å•çŠ¶æ€ï¼š

```
<section><span><span data-darkreader-inline-bgcolor=""></span><span data-darkreader-inline-bgcolor=""></span><span data-darkreader-inline-bgcolor=""></span></span><span> </span></section><pre data-title="true"><code data-line="293" data-darkreader-inline-bgimage=""><span data-darkreader-inline-border-left=""><span data-darkreader-inline-color="">import</span> <span data-darkreader-inline-color="">{</span> useFormStatus <span data-darkreader-inline-color="">}</span> <span data-darkreader-inline-color="">from</span> <span data-darkreader-inline-color="">"react-dom"</span><span data-darkreader-inline-color="">;</span><br></span><span data-darkreader-inline-border-left=""><span data-darkreader-inline-color="">import</span> action <span data-darkreader-inline-color="">from</span> <span data-darkreader-inline-color="">'./actions'</span><span data-darkreader-inline-color="">;</span><br></span><span data-darkreader-inline-border-left=""><br></span><span data-darkreader-inline-border-left=""><span data-darkreader-inline-color="">function</span> <span data-darkreader-inline-color="">Submit</span><span data-darkreader-inline-color="">(</span><span data-darkreader-inline-color="">)</span> <span data-darkreader-inline-color="">{</span><br></span><span data-darkreader-inline-border-left="">  <span data-darkreader-inline-color="">const</span> status <span data-darkreader-inline-color="" data-darkreader-inline-bgimage="" data-darkreader-inline-bgcolor="">=</span> <span data-darkreader-inline-color="">useFormStatus</span><span data-darkreader-inline-color="">(</span><span data-darkreader-inline-color="">)</span><span data-darkreader-inline-color="">;</span><br></span><span data-darkreader-inline-border-left="">  <span data-darkreader-inline-color="">return</span> <span data-darkreader-inline-color="">&lt;</span>button <span data-darkreader-inline-color="">disabled</span><span data-darkreader-inline-color="">=</span><span data-darkreader-inline-color="">{</span>status<span data-darkreader-inline-color="">.</span>pending<span data-darkreader-inline-color="">}</span><span data-darkreader-inline-color="">&gt;</span>Submit<span data-darkreader-inline-color="">&lt;/</span>button<span data-darkreader-inline-color="">&gt;</span><br></span><span data-darkreader-inline-border-left=""><span data-darkreader-inline-color="">}</span><br></span><span data-darkreader-inline-border-left=""><br></span><span data-darkreader-inline-border-left=""><span data-darkreader-inline-color="">export</span> <span data-darkreader-inline-color="">default</span> <span data-darkreader-inline-color="">function</span> <span data-darkreader-inline-color="">App</span><span data-darkreader-inline-color="">(</span><span data-darkreader-inline-color="">)</span> <span data-darkreader-inline-color="">{</span><br></span><span data-darkreader-inline-border-left="">  <span data-darkreader-inline-color="">return</span> <span data-darkreader-inline-color="">(</span><br></span><span data-darkreader-inline-border-left="">    <span data-darkreader-inline-color="">&lt;</span>form <span data-darkreader-inline-color="">action</span><span data-darkreader-inline-color="">=</span><span data-darkreader-inline-color="">{</span>action<span data-darkreader-inline-color="">}</span><span data-darkreader-inline-color="">&gt;</span><br></span><span data-darkreader-inline-border-left="">      <span data-darkreader-inline-color="">&lt;</span><span data-darkreader-inline-color="">Submit</span> <span data-darkreader-inline-color="">/&gt;</span><br></span><span data-darkreader-inline-border-left="">    <span data-darkreader-inline-color="">&lt;/</span>form<span data-darkreader-inline-color="">&gt;</span><br></span><span data-darkreader-inline-border-left="">  <span data-darkreader-inline-color="">)</span><span data-darkreader-inline-color="">;</span><br></span><span data-darkreader-inline-border-left=""><span data-darkreader-inline-color="">}</span><br></span></code></pre>
```

è¿™ä¸ªå†™æ³•æ˜¯ä¸æ˜¯ç†Ÿæ‚‰åˆé™Œç”Ÿï¼Ÿå¦‚æœä½ æƒ³åˆ°äº† contextï¼Œé‚£å°±å¯¹äº†ï¼Œä½ å¯ä»¥ç†è§£ä¸ºÂ `useFormStatus`Â æ›¿ä»£äº†ä¸€éƒ¨åˆ† context provider çš„èƒ½åŠ›ï¼Œè€Œä¸”å†™æ³•æ¯” context è¦æ›´åŠ ç®€æ´ã€‚

ä½¿ç”¨Â `useFormStatus`Â è¿˜æœ‰ä¸¤ä¸ªæ³¨æ„ç‚¹ï¼š

1.  `useFormStatus`Â Hook å¿…é¡»åœ¨æ¸²æŸ“åœ¨Â `<form>`Â å†…éƒ¨çš„ç»„ä»¶ä¸­è°ƒç”¨ã€‚
    
2.  `useFormStatus`Â åªä¼šè¿”å›çˆ¶çº§Â `<form>`Â çš„çŠ¶æ€ä¿¡æ¯ï¼Œè€Œä¸ä¼šè¿”å›åŒä¸€ç»„ä»¶æˆ–å…¶å­ç»„ä»¶ä¸­ä»»ä½•å…¶ä»–Â `<form>`Â çš„çŠ¶æ€ä¿¡æ¯ã€‚
    

## ä¸€ä¸ªæ–° APIâ€”â€”use

ä»¥å‰Â `use`Â æ˜¯è¢«å½’ç±»åˆ° hookï¼Œä½†æ˜¯ 19 ç‰ˆæœ¬çš„æ–‡æ¡£æŠŠÂ `use`Â æ”¾åœ¨ API æ–‡æ¡£é‡Œé¢ï¼Œæ‰€ä»¥å®ƒå°±æˆäº†ä¸€ä¸ªæ–°çš„ API å•¦ï¼

use ç”¨äºåœ¨ç»„ä»¶ä¸­è¯»å–èµ„æºçš„å€¼ï¼Œè¿™ä¸ªèµ„æºå¯ä»¥æ˜¯ä¸€ä¸ª Promise æˆ–è€…ä¸€ä¸ª contextã€‚

å®ƒçš„åŸºæœ¬ç”¨æ³•å¦‚ä¸‹ï¼š

```
<section><span><span data-darkreader-inline-bgcolor=""></span><span data-darkreader-inline-bgcolor=""></span><span data-darkreader-inline-bgcolor=""></span></span><span> </span></section><pre data-title="true"><code data-line="312" data-darkreader-inline-bgimage=""><span data-darkreader-inline-border-left=""><span data-darkreader-inline-color="">const</span> value <span data-darkreader-inline-color="" data-darkreader-inline-bgimage="" data-darkreader-inline-bgcolor="">=</span> <span data-darkreader-inline-color="">use</span><span data-darkreader-inline-color="">(</span>resource<span data-darkreader-inline-color="">)</span><span data-darkreader-inline-color="">;</span><br></span></code></pre>
```

åœ¨å®é™…ä»£ç ä¸­å¯èƒ½æ˜¯è¿™æ ·ï¼š

```
<section><span><span data-darkreader-inline-bgcolor=""></span><span data-darkreader-inline-bgcolor=""></span><span data-darkreader-inline-bgcolor=""></span></span><span> </span></section><pre data-title="true"><code data-line="323" data-darkreader-inline-bgimage=""><span data-darkreader-inline-border-left=""><span data-darkreader-inline-color="">import</span> <span data-darkreader-inline-color="">{</span> use <span data-darkreader-inline-color="">}</span> <span data-darkreader-inline-color="">from</span> <span data-darkreader-inline-color="">'react'</span><span data-darkreader-inline-color="">;</span><br></span><span data-darkreader-inline-border-left=""><br></span><span data-darkreader-inline-border-left=""><span data-darkreader-inline-color="">function</span> <span data-darkreader-inline-color="">MessageComponent</span><span data-darkreader-inline-color="">(</span><span data-darkreader-inline-color="">{</span> messagePromise <span data-darkreader-inline-color="">}</span><span data-darkreader-inline-color="">)</span> <span data-darkreader-inline-color="">{</span><br></span><span data-darkreader-inline-border-left="">  <span data-darkreader-inline-color="">const</span> message <span data-darkreader-inline-color="" data-darkreader-inline-bgimage="" data-darkreader-inline-bgcolor="">=</span> <span data-darkreader-inline-color="">use</span><span data-darkreader-inline-color="">(</span>messagePromise<span data-darkreader-inline-color="">)</span><span data-darkreader-inline-color="">;</span><br></span><span data-darkreader-inline-border-left="">  <span data-darkreader-inline-color="">const</span> theme <span data-darkreader-inline-color="" data-darkreader-inline-bgimage="" data-darkreader-inline-bgcolor="">=</span> <span data-darkreader-inline-color="">use</span><span data-darkreader-inline-color="">(</span>ThemeContext<span data-darkreader-inline-color="">)</span><span data-darkreader-inline-color="">;</span><br></span><span data-darkreader-inline-border-left="">  <span data-darkreader-inline-color="">// ...</span><br></span></code></pre>
```

use ä¸»è¦æ˜¯ç»™ Next.js è¿™æ ·çš„ä¸Šå±‚æ¡†æ¶ä½¿ç”¨çš„ã€‚ä»¥ Next.js ä¸ºä¾‹ï¼Œå¦‚æœæ˜¯åœ¨æœåŠ¡ç«¯ç»„ä»¶ä¸­è·å–æ•°æ®ï¼Œæ›´æ¨èä½¿ç”¨ asyncâ€¦awaitï¼Œè€Œä¸æ˜¯ useã€‚å¦‚æœæ˜¯åœ¨å®¢æˆ·ç«¯ç»„ä»¶ä¸­è·å–æ•°æ®ï¼Œä¹Ÿæ¨èåœ¨æœåŠ¡ç«¯ç»„ä»¶é‡Œåˆ›å»º Promiseï¼Œä»¥ props ä¼ é€’ç»™å®¢æˆ·ç«¯ç»„ä»¶è°ƒç”¨ã€‚

use è¿˜å¯ä»¥ä¸ Suspense è¾¹ç•Œå…±ç”¨ã€‚å¦‚æœè°ƒç”¨Â `use`Â çš„ç»„ä»¶è¢«åŒ…è£¹åœ¨ä¸€ä¸ª Suspense è¾¹ç•Œå†…ï¼Œä¼šæ˜¾ç¤ºæŒ‡å®šçš„ fallbackã€‚ä¸€æ—¦ Promise è¢« resolveï¼ŒSuspense çš„ fallback å°±ä¼šè¢«è¿”å›çš„æ•°æ®æ›¿æ¢ã€‚å¦‚æœä¼ ç»™Â `use`Â çš„ Promise è¢« rejectï¼Œæœ€è¿‘çš„é”™è¯¯è¾¹ç•Œçš„ fallback å°†ä¼šè¢«æ˜¾ç¤ºã€‚

## ref å’Œ context ç”¨æ³•ç®€åŒ–

å¦‚æœä½ åªä½¿ç”¨ React å®¢æˆ·ç«¯çš„èƒ½åŠ›ï¼Œé‚£ä¹ˆè¿™ä¸€èŠ‚ä»‹ç»çš„å˜æ›´ä¼šæ˜¯ä½ æœ€å…³æ³¨çš„ã€‚

### ref æŠ›å¼ƒ forwardRef

ä½ è¿˜è®°å¾—è¢«Â `forwardRef`Â æ”¯é…çš„ææƒ§å—ï¼Ÿä» React 19 å¼€å§‹ï¼Œæˆ‘ä»¬å¯ä»¥æŠ›å¼ƒÂ `forwardRef`Â äº†ã€‚ç°åœ¨å¼€å§‹ï¼Œref å¯ä»¥å½“ä½œ prop è¿›è¡Œä¼ é€’ã€‚

ä¸¾ä¸ªä¾‹å­ï¼šå‡è®¾æˆ‘ä»¬æœ‰ä¸€ä¸ªå‡½æ•°ç»„ä»¶Â `TextInput`ï¼Œå®ƒæ˜¯ä¸€ä¸ªç®€å•çš„è¾“å…¥æ¡†ç»„ä»¶ï¼Œæ¥å—ä¸€ä¸ªÂ `placeholder`Â å±æ€§ç”¨äºè®¾ç½®è¾“å…¥æ¡†çš„å ä½ç¬¦æ–‡æœ¬ã€‚ç°åœ¨ï¼Œæˆ‘ä»¬å¸Œæœ›åœ¨çˆ¶ç»„ä»¶ä¸­è·å–åˆ°è¾“å…¥æ¡†çš„å¼•ç”¨ï¼Œä»¥ä¾¿åœ¨éœ€è¦æ—¶èšç„¦åˆ°è¾“å…¥æ¡†ä¸Šï¼Œä»£ç å¯ä»¥è¿™ä¹ˆå†™ï¼š

```
<section><span><span data-darkreader-inline-bgcolor=""></span><span data-darkreader-inline-bgcolor=""></span><span data-darkreader-inline-bgcolor=""></span></span><span> </span></section><pre data-title="true"><code data-line="370" data-darkreader-inline-bgimage=""><span data-darkreader-inline-border-left=""><span data-darkreader-inline-color="">import</span> React<span data-darkreader-inline-color="">,</span> <span data-darkreader-inline-color="">{</span> useRef <span data-darkreader-inline-color="">}</span> <span data-darkreader-inline-color="">from</span> <span data-darkreader-inline-color="">'react'</span><span data-darkreader-inline-color="">;</span><br></span><span data-darkreader-inline-border-left=""><br></span><span data-darkreader-inline-border-left=""><span data-darkreader-inline-color="">// å®šä¹‰ä¸€ä¸ªå‡½æ•°ç»„ä»¶ TextInput</span><br></span><span data-darkreader-inline-border-left=""><span data-darkreader-inline-color="">function</span> <span data-darkreader-inline-color="">TextInput</span><span data-darkreader-inline-color="">(</span><span data-darkreader-inline-color="">{</span> placeholder<span data-darkreader-inline-color="">,</span> ref <span data-darkreader-inline-color="">}</span><span data-darkreader-inline-color="">)</span> <span data-darkreader-inline-color="">{</span><br></span><span data-darkreader-inline-border-left="">  <span data-darkreader-inline-color="">return</span> <span data-darkreader-inline-color="">&lt;</span>input <span data-darkreader-inline-color="">placeholder</span><span data-darkreader-inline-color="">=</span><span data-darkreader-inline-color="">{</span>placeholder<span data-darkreader-inline-color="">}</span> <span data-darkreader-inline-color="">ref</span><span data-darkreader-inline-color="">=</span><span data-darkreader-inline-color="">{</span>ref<span data-darkreader-inline-color="">}</span> <span data-darkreader-inline-color="">/&gt;</span><span data-darkreader-inline-color="">;</span><br></span><span data-darkreader-inline-border-left=""><span data-darkreader-inline-color="">}</span><br></span><span data-darkreader-inline-border-left=""><br></span><span data-darkreader-inline-border-left=""><span data-darkreader-inline-color="">// çˆ¶ç»„ä»¶</span><br></span><span data-darkreader-inline-border-left=""><span data-darkreader-inline-color="">function</span> <span data-darkreader-inline-color="">ParentComponent</span><span data-darkreader-inline-color="">(</span><span data-darkreader-inline-color="">)</span> <span data-darkreader-inline-color="">{</span><br></span><span data-darkreader-inline-border-left="">  <span data-darkreader-inline-color="">// åˆ›å»ºä¸€ä¸ª ref æ¥å­˜å‚¨è¾“å…¥æ¡†çš„å¼•ç”¨</span><br></span><span data-darkreader-inline-border-left="">  <span data-darkreader-inline-color="">const</span> inputRef <span data-darkreader-inline-color="" data-darkreader-inline-bgimage="" data-darkreader-inline-bgcolor="">=</span> <span data-darkreader-inline-color="">useRef</span><span data-darkreader-inline-color="">(</span><span data-darkreader-inline-color="">null</span><span data-darkreader-inline-color="">)</span><span data-darkreader-inline-color="">;</span><br></span><span data-darkreader-inline-border-left=""><br></span><span data-darkreader-inline-border-left="">  <span data-darkreader-inline-color="">// åœ¨æŸä¸ªäº‹ä»¶å¤„ç†å‡½æ•°ä¸­è·å–è¾“å…¥æ¡†çš„å¼•ç”¨å¹¶èšç„¦</span><br></span><span data-darkreader-inline-border-left="">  <span data-darkreader-inline-color="">const</span> <span data-darkreader-inline-color="">focusInput</span> <span data-darkreader-inline-color="" data-darkreader-inline-bgimage="" data-darkreader-inline-bgcolor="">=</span> <span data-darkreader-inline-color="">(</span><span data-darkreader-inline-color="">)</span> <span data-darkreader-inline-color="" data-darkreader-inline-bgimage="" data-darkreader-inline-bgcolor="">=&gt;</span> <span data-darkreader-inline-color="">{</span><br></span><span data-darkreader-inline-border-left="">    inputRef<span data-darkreader-inline-color="">.</span>current<span data-darkreader-inline-color="">.</span><span data-darkreader-inline-color="">focus</span><span data-darkreader-inline-color="">(</span><span data-darkreader-inline-color="">)</span><span data-darkreader-inline-color="">;</span><br></span><span data-darkreader-inline-border-left="">  <span data-darkreader-inline-color="">}</span><span data-darkreader-inline-color="">;</span><br></span><span data-darkreader-inline-border-left=""><br></span><span data-darkreader-inline-border-left="">  <span data-darkreader-inline-color="">return</span> <span data-darkreader-inline-color="">(</span><br></span><span data-darkreader-inline-border-left="">    <span data-darkreader-inline-color="">&lt;</span>div<span data-darkreader-inline-color="">&gt;</span><br></span><span data-darkreader-inline-border-left="">      <span data-darkreader-inline-color="">{</span><span data-darkreader-inline-color="">/* <br></span></span><span data-darkreader-inline-border-left=""><span data-darkreader-inline-color="">        å°† inputRef ä¼ é€’ç»™ TextInput ç»„ä»¶ï¼Œ<br></span></span><span data-darkreader-inline-border-left=""><span data-darkreader-inline-color="">        è¿™æ · TextInput ç»„ä»¶å†…éƒ¨å°±å¯ä»¥ä½¿ç”¨è¿™ä¸ª ref äº†<br></span></span><span data-darkreader-inline-border-left=""><span data-darkreader-inline-color="">      */</span><span data-darkreader-inline-color="">}</span><br></span><span data-darkreader-inline-border-left="">      <span data-darkreader-inline-color="">&lt;</span><span data-darkreader-inline-color="">TextInput</span> <span data-darkreader-inline-color="">placeholder</span><span data-darkreader-inline-color=""><span data-darkreader-inline-color="">=</span><span data-darkreader-inline-color="">"</span>Enter your name<span data-darkreader-inline-color="">"</span></span> <span data-darkreader-inline-color="">ref</span><span data-darkreader-inline-color="">=</span><span data-darkreader-inline-color="">{</span>inputRef<span data-darkreader-inline-color="">}</span> <span data-darkreader-inline-color="">/&gt;</span><br></span><span data-darkreader-inline-border-left="">      <span data-darkreader-inline-color="">&lt;</span>button <span data-darkreader-inline-color="">onClick</span><span data-darkreader-inline-color="">=</span><span data-darkreader-inline-color="">{</span>focusInput<span data-darkreader-inline-color="">}</span><span data-darkreader-inline-color="">&gt;</span>Focus Input<span data-darkreader-inline-color="">&lt;/</span>button<span data-darkreader-inline-color="">&gt;</span><br></span><span data-darkreader-inline-border-left="">    <span data-darkreader-inline-color="">&lt;/</span>div<span data-darkreader-inline-color="">&gt;</span><br></span><span data-darkreader-inline-border-left="">  <span data-darkreader-inline-color="">)</span><span data-darkreader-inline-color="">;</span><br></span><span data-darkreader-inline-border-left=""><span data-darkreader-inline-color="">}</span><br></span><span data-darkreader-inline-border-left=""><br></span><span data-darkreader-inline-border-left=""><span data-darkreader-inline-color="">export</span> <span data-darkreader-inline-color="">default</span> ParentComponent<span data-darkreader-inline-color="">;</span><br></span></code></pre>
```

æ˜¯ä¸æ˜¯å¿ƒæ™ºè´Ÿæ‹…æ¯”ä½¿ç”¨ forwardRef è¦è½»å¾—å¤šï¼Ÿ

### context å¯å½“ä½œ provider

ä»åœ¨ React 19 å¼€å§‹ï¼Œå¼€å‘è€…å¯ä»¥ç›´æ¥å°†Â `<Context>`Â ç›´æ¥ä½œä¸º providerï¼Œè€Œä¸æ˜¯ä½¿ç”¨Â `<Context.Provider>`ã€‚

å‡è®¾æˆ‘ä»¬æœ‰ä¸€ä¸ªåä¸ºÂ `ThemeContext`Â çš„ contextï¼Œç”¨äºç®¡ç†ä¸»é¢˜ä¿¡æ¯ã€‚åœ¨ React 19 ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥åƒä¸‹é¢è¿™æ ·ä½¿ç”¨Â `<ThemeContext>`Â ä½œä¸ºæä¾›è€…ï¼š

```
<section><span><span data-darkreader-inline-bgcolor=""></span><span data-darkreader-inline-bgcolor=""></span><span data-darkreader-inline-bgcolor=""></span></span><span> </span></section><pre data-title="true"><code data-line="394" data-darkreader-inline-bgimage=""><span data-darkreader-inline-border-left=""><span data-darkreader-inline-color="">import</span> React<span data-darkreader-inline-color="">,</span> <span data-darkreader-inline-color="">{</span> createContext <span data-darkreader-inline-color="">}</span> <span data-darkreader-inline-color="">from</span> <span data-darkreader-inline-color="">'react'</span><span data-darkreader-inline-color="">;</span><br></span><span data-darkreader-inline-border-left=""><br></span><span data-darkreader-inline-border-left=""><span data-darkreader-inline-color="">// åˆ›å»ºä¸€ä¸ªä¸»é¢˜ä¸Šä¸‹æ–‡</span><br></span><span data-darkreader-inline-border-left=""><span data-darkreader-inline-color="">const</span> ThemeContext <span data-darkreader-inline-color="" data-darkreader-inline-bgimage="" data-darkreader-inline-bgcolor="">=</span> <span data-darkreader-inline-color="">createContext</span><span data-darkreader-inline-color="">(</span><span data-darkreader-inline-color="">''</span><span data-darkreader-inline-color="">)</span><span data-darkreader-inline-color="">;</span><br></span><span data-darkreader-inline-border-left=""><br></span><span data-darkreader-inline-border-left=""><span data-darkreader-inline-color="">// App ç»„ä»¶ä½œä¸ºä¸»é¢˜æä¾›è€…</span><br></span><span data-darkreader-inline-border-left=""><span data-darkreader-inline-color="">function</span> <span data-darkreader-inline-color="">App</span><span data-darkreader-inline-color="">(</span><span data-darkreader-inline-color="">{</span> children <span data-darkreader-inline-color="">}</span><span data-darkreader-inline-color="">)</span> <span data-darkreader-inline-color="">{</span><br></span><span data-darkreader-inline-border-left="">  <span data-darkreader-inline-color="">return</span> <span data-darkreader-inline-color="">(</span><br></span><span data-darkreader-inline-border-left="">    <span data-darkreader-inline-color="">&lt;</span><span data-darkreader-inline-color="">ThemeContext</span> <span data-darkreader-inline-color="">value</span><span data-darkreader-inline-color=""><span data-darkreader-inline-color="">=</span><span data-darkreader-inline-color="">"</span>dark<span data-darkreader-inline-color="">"</span></span><span data-darkreader-inline-color="">&gt;</span><br></span><span data-darkreader-inline-border-left="">      <span data-darkreader-inline-color="">{</span>children<span data-darkreader-inline-color="">}</span><br></span><span data-darkreader-inline-border-left="">    <span data-darkreader-inline-color="">&lt;/</span><span data-darkreader-inline-color="">ThemeContext</span><span data-darkreader-inline-color="">&gt;</span><br></span><span data-darkreader-inline-border-left="">  <span data-darkreader-inline-color="">)</span><span data-darkreader-inline-color="">;</span><br></span><span data-darkreader-inline-border-left=""><span data-darkreader-inline-color="">}</span><br></span></code></pre>
```

æœªæ¥Â `ThemeContext.Provider`Â ä¼šè¢«å¼ƒç”¨å¹¶ç§»é™¤ã€‚

## å…¶ä»–æ›´æ–°

æœ¬æ¬¡å‘å¸ƒçš„æ–°ç‰¹æ€§è¿˜æœ‰ä¸€äº›å±äºæ”¯æ’‘ç±»ç‰¹æ€§å’Œæ‹“å±•æœåŠ¡ç«¯èƒ½åŠ›çš„ç‰¹æ€§ï¼Œå› ä¸ºçº¯å®¢æˆ·ç«¯çš„ React å¼€å‘ä¸­ä½¿ç”¨åœºæ™¯å¾ˆå°‘ï¼Œæ‰€ä»¥ä¸å†è¯¦ç»†ä»‹ç»ï¼Œåªç®€å•æç‚¼è¦ç‚¹ï¼š

-   æœåŠ¡ç«¯ç»„ä»¶å’ŒÂ `server actions`Â å°†æˆä¸ºç¨³å®šç‰¹æ€§ï¼Œè¿™ä¸¤ä¸ªæ¦‚å¿µå±äºç†Ÿæ‚‰ Next.js/Remix çš„äººå·²ç»çƒ‚ç†Ÿäºå¿ƒï¼Œè€Œä¸ç”¨ Next.js/Remix çš„äººæ ¹æœ¬ç”¨ä¸åˆ°ã€‚
    
-   `useDeferredValue`Â å¢åŠ äº†ç¬¬äºŒä¸ªå‚æ•°ï¼Œå¯é€‰ï¼Œç”¨æ¥è¡¨ç¤ºåˆå§‹å€¼ã€‚å³ç°åœ¨Â `useDeferredValue`Â çš„ç”¨æ³•æ˜¯è¿™æ ·ï¼šÂ `const value = useDeferredValue(deferredValue, initialValue?);`
    
-   æ”¯æŒåœ¨ React ä»£ç é‡Œç¼–å†™ document metadataï¼Œå³åœ¨é¡µé¢ç»„ä»¶ç¼–å†™`<title>`Â `<link>`Â å’ŒÂ `<meta>`Â æ ‡ç­¾ä¼šè‡ªåŠ¨æ·»åŠ åº”ç”¨çš„Â `<head>`Â ä¸Šé¢ï¼š
    
    ```
    <section data-darkreader-inline-color=""><span><span data-darkreader-inline-bgcolor=""></span><span data-darkreader-inline-bgcolor=""></span><span data-darkreader-inline-bgcolor=""></span></span><span> </span></section><pre data-title="true"><code data-line="421" data-darkreader-inline-bgimage="" data-darkreader-inline-bgcolor="" data-darkreader-inline-color=""><span data-darkreader-inline-border-left=""><span data-darkreader-inline-color="">function</span> <span data-darkreader-inline-color="">BlogPost</span><span data-darkreader-inline-color="">(</span><span data-darkreader-inline-color="">{</span>post<span data-darkreader-inline-color="">}</span><span data-darkreader-inline-color="">)</span> <span data-darkreader-inline-color="">{</span><br></span><span data-darkreader-inline-border-left="">  <span data-darkreader-inline-color="">return</span> <span data-darkreader-inline-color="">(</span><br></span><span data-darkreader-inline-border-left="">    <span data-darkreader-inline-color=""><span data-darkreader-inline-color="">&lt;</span>article<span data-darkreader-inline-color="">&gt;</span></span><br></span><span data-darkreader-inline-border-left="">      <span data-darkreader-inline-color=""><span data-darkreader-inline-color="">&lt;</span>h1<span data-darkreader-inline-color="">&gt;</span></span><span data-darkreader-inline-color="">{</span>post<span data-darkreader-inline-color="">.</span>title<span data-darkreader-inline-color="">}</span><span data-darkreader-inline-color=""><span data-darkreader-inline-color="">&lt;/</span>h1<span data-darkreader-inline-color="">&gt;</span></span><br></span><span data-darkreader-inline-border-left="">      <span data-darkreader-inline-color=""><span data-darkreader-inline-color="">&lt;</span>title<span data-darkreader-inline-color="">&gt;</span></span><span data-darkreader-inline-color="">{</span>post<span data-darkreader-inline-color="">.</span>title<span data-darkreader-inline-color="">}</span><span data-darkreader-inline-color=""><span data-darkreader-inline-color="">&lt;/</span>title<span data-darkreader-inline-color="">&gt;</span></span><br></span><span data-darkreader-inline-border-left="">      <span data-darkreader-inline-color=""><span data-darkreader-inline-color="">&lt;</span>meta <span data-darkreader-inline-color="">name</span><span data-darkreader-inline-color=""><span data-darkreader-inline-color="">=</span><span data-darkreader-inline-color="">"</span>author<span data-darkreader-inline-color="">"</span></span> <span data-darkreader-inline-color="">content</span><span data-darkreader-inline-color=""><span data-darkreader-inline-color="">=</span><span data-darkreader-inline-color="">"</span>Josh<span data-darkreader-inline-color="">"</span></span> <span data-darkreader-inline-color="">/&gt;</span></span><br></span><span data-darkreader-inline-border-left="">      <span data-darkreader-inline-color=""><span data-darkreader-inline-color="">&lt;</span>link <span data-darkreader-inline-color="">rel</span><span data-darkreader-inline-color=""><span data-darkreader-inline-color="">=</span><span data-darkreader-inline-color="">"</span>author<span data-darkreader-inline-color="">"</span></span> <span data-darkreader-inline-color="">href</span><span data-darkreader-inline-color=""><span data-darkreader-inline-color="">=</span><span data-darkreader-inline-color="">"</span>https://twitter.com/joshcstory/<span data-darkreader-inline-color="">"</span></span> <span data-darkreader-inline-color="">/&gt;</span></span><br></span><span data-darkreader-inline-border-left="">      <span data-darkreader-inline-color=""><span data-darkreader-inline-color="">&lt;</span>meta <span data-darkreader-inline-color="">name</span><span data-darkreader-inline-color=""><span data-darkreader-inline-color="">=</span><span data-darkreader-inline-color="">"</span>keywords<span data-darkreader-inline-color="">"</span></span> <span data-darkreader-inline-color="">content</span><span data-darkreader-inline-color="">=</span><span data-darkreader-inline-color="">{</span>post<span data-darkreader-inline-color="">.</span>keywords<span data-darkreader-inline-color="">}</span> <span data-darkreader-inline-color="">/&gt;</span></span><br></span><span data-darkreader-inline-border-left="">      <span data-darkreader-inline-color=""><span data-darkreader-inline-color="">&lt;</span>p<span data-darkreader-inline-color="">&gt;</span></span><br></span><span data-darkreader-inline-border-left="">        Eee equals em-see-squared...<br></span><span data-darkreader-inline-border-left="">      <span data-darkreader-inline-color=""><span data-darkreader-inline-color="">&lt;/</span>p<span data-darkreader-inline-color="">&gt;</span></span><br></span><span data-darkreader-inline-border-left="">    <span data-darkreader-inline-color=""><span data-darkreader-inline-color="">&lt;/</span>article<span data-darkreader-inline-color="">&gt;</span></span><br></span><span data-darkreader-inline-border-left="">  <span data-darkreader-inline-color="">)</span><span data-darkreader-inline-color="">;</span><br></span><span data-darkreader-inline-border-left=""><span data-darkreader-inline-color="">}</span><br></span></code></pre>
    ```
    
-   æ”¯æŒåœ¨ React ä»£ç é‡Œç¼–å†™ stylesheetsï¼Œå³åœ¨é¡µé¢ç»„ä»¶ç¼–å†™Â `<link rel="stylesheet" href="...">`
    
-   æ”¯æŒåœ¨ React ä»£ç é‡Œç¼–å†™Â `<script async="" src="...">`ï¼Œæœ€ç»ˆä¹Ÿä¼šè‡ªåŠ¨æ·»åŠ åˆ°Â `<head>`Â æ ‡ç­¾å†…
    
-   æ”¯æŒé¢„åŠ è½½èµ„æºï¼Œæœ€ç»ˆä¹Ÿä¼šè‡ªåŠ¨æ·»åŠ åˆ°Â `<head>`Â æ ‡ç­¾å†…ï¼š
    
    ```
    <section data-darkreader-inline-color=""><span><span data-darkreader-inline-bgcolor=""></span><span data-darkreader-inline-bgcolor=""></span><span data-darkreader-inline-bgcolor=""></span></span><span> </span></section><pre data-title="true"><code data-line="436" data-darkreader-inline-bgimage="" data-darkreader-inline-bgcolor="" data-darkreader-inline-color=""><span data-darkreader-inline-border-left=""><span data-darkreader-inline-color="">import</span> <span data-darkreader-inline-color="">{</span> prefetchDNS<span data-darkreader-inline-color="">,</span> preconnect<span data-darkreader-inline-color="">,</span> preload<span data-darkreader-inline-color="">,</span> preinit <span data-darkreader-inline-color="">}</span> <span data-darkreader-inline-color="">from</span> <span data-darkreader-inline-color="">'react-dom'</span><br></span><span data-darkreader-inline-border-left=""><span data-darkreader-inline-color="">function</span> <span data-darkreader-inline-color="">MyComponent</span><span data-darkreader-inline-color="">(</span><span data-darkreader-inline-color="">)</span> <span data-darkreader-inline-color="">{</span><br></span><span data-darkreader-inline-border-left="">  <span data-darkreader-inline-color="">preinit</span><span data-darkreader-inline-color="">(</span><span data-darkreader-inline-color="">'https://.../path/to/some/script.js'</span><span data-darkreader-inline-color="">,</span> <span data-darkreader-inline-color="">{</span><span data-darkreader-inline-color="">as</span><span data-darkreader-inline-color="" data-darkreader-inline-bgimage="" data-darkreader-inline-bgcolor="">:</span> <span data-darkreader-inline-color="">'script'</span> <span data-darkreader-inline-color="">}</span><span data-darkreader-inline-color="">)</span> <span data-darkreader-inline-color="">// loads and executes this script eagerly</span><br></span><span data-darkreader-inline-border-left="">  <span data-darkreader-inline-color="">preload</span><span data-darkreader-inline-color="">(</span><span data-darkreader-inline-color="">'https://.../path/to/font.woff'</span><span data-darkreader-inline-color="">,</span> <span data-darkreader-inline-color="">{</span> <span data-darkreader-inline-color="">as</span><span data-darkreader-inline-color="" data-darkreader-inline-bgimage="" data-darkreader-inline-bgcolor="">:</span> <span data-darkreader-inline-color="">'font'</span> <span data-darkreader-inline-color="">}</span><span data-darkreader-inline-color="">)</span> <span data-darkreader-inline-color="">// preloads this font</span><br></span><span data-darkreader-inline-border-left="">  <span data-darkreader-inline-color="">preload</span><span data-darkreader-inline-color="">(</span><span data-darkreader-inline-color="">'https://.../path/to/stylesheet.css'</span><span data-darkreader-inline-color="">,</span> <span data-darkreader-inline-color="">{</span> <span data-darkreader-inline-color="">as</span><span data-darkreader-inline-color="" data-darkreader-inline-bgimage="" data-darkreader-inline-bgcolor="">:</span> <span data-darkreader-inline-color="">'style'</span> <span data-darkreader-inline-color="">}</span><span data-darkreader-inline-color="">)</span> <span data-darkreader-inline-color="">// preloads this stylesheet</span><br></span><span data-darkreader-inline-border-left="">  <span data-darkreader-inline-color="">prefetchDNS</span><span data-darkreader-inline-color="">(</span><span data-darkreader-inline-color="">'https://...'</span><span data-darkreader-inline-color="">)</span> <span data-darkreader-inline-color="">// when you may not actually request anything from this host</span><br></span><span data-darkreader-inline-border-left="">  <span data-darkreader-inline-color="">preconnect</span><span data-darkreader-inline-color="">(</span><span data-darkreader-inline-color="">'https://...'</span><span data-darkreader-inline-color="">)</span> <span data-darkreader-inline-color="">// when you will request something but aren't sure what</span><br></span><span data-darkreader-inline-border-left=""><span data-darkreader-inline-color="">}</span><br></span></code></pre>
    ```
    

## æ€»ç»“

æœ€åï¼Œè®©æˆ‘ç”¨é»„ç„çš„ä¸€æ®µè¯ä½œä¸ºæ€»ç»“ï¼šã€ŒProbably the single most critical principle I've learned from React is to be fearless in defining new conceptual abstractions and never compromise on the accuracy and composability of these definitionsâ€”â€”æˆ‘ä» React èº«ä¸Šå­¦åˆ°çš„æœ€é‡è¦çš„ä¸€æ¡åŸåˆ™å¯èƒ½å°±æ˜¯ï¼Œåœ¨å®šä¹‰æ–°çš„æ¦‚å¿µæŠ½è±¡æ—¶è¦æ— æ‰€ç•æƒ§ï¼Œç»ä¸è¦åœ¨è¿™äº›å®šä¹‰çš„å‡†ç¡®æ€§å’Œå¯ç»„åˆæ€§ä¸Šå¦¥åã€ã€‚

## å…³äºæˆ‘

**å…¨æ ˆå·¥ç¨‹å¸ˆï¼ŒNext.js å¼€æºæ‰‹è‰ºäººï¼ŒAIé™ä¸´æ´¾ã€‚**

ä»Šå¹´è‡´åŠ›äº Next.js å’Œ Node.js é¢†åŸŸçš„å¼€æºé¡¹ç›®å¼€å‘å’ŒçŸ¥è¯†åˆ†äº«ã€‚

ç‚¹å‡»ã€Œ`é˜…è¯»åŸæ–‡`ã€å…³æ³¨æˆ‘çš„æ‰€æœ‰ç¤¾åª’å’ŒGithub

\[1\]React 19 å‘å¸ƒåœ¨å³ï¼ŒæŠ¢å…ˆå­¦ä¹ ä¸€ä¸‹æ–°ç‰¹æ€§ï¼šÂ _https://weijunext.com/article/react-v19-preview_